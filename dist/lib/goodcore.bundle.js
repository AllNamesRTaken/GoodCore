!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.goodcore=n():t.goodcore=n()}(typeof(window) !== "undefined" ? window : typeof(global) !== "undefined" ? global : typeof(self) !== "undefined" ? self : undefined, function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n,e){"use strict";e.r(n),function(t){e.d(n,"hasWindow",function(){return i}),e.d(n,"Env",function(){return o}),e.d(n,"hasConsole",function(){return u}),e.d(n,"isObject",function(){return s}),e.d(n,"isArray",function(){return a}),e.d(n,"isElement",function(){return c}),e.d(n,"isFunction",function(){return h}),e.d(n,"isNumber",function(){return l}),e.d(n,"isInt",function(){return f}),e.d(n,"isString",function(){return p}),e.d(n,"areNullOrUndefined",function(){return d}),e.d(n,"areNotNullOrUndefined",function(){return y}),e.d(n,"isNull",function(){return v}),e.d(n,"isNotNull",function(){return _}),e.d(n,"isNullOrUndefined",function(){return g}),e.d(n,"isNotNullOrUndefined",function(){return b}),e.d(n,"areUndefined",function(){return m}),e.d(n,"areNotUndefined",function(){return x}),e.d(n,"isUndefined",function(){return O}),e.d(n,"isNotUndefined",function(){return w});var r=e(1);function i(){return null!==r.a.window}var o=function(){function n(){}return n.isNode=function(){return this._isNode=this._isNode||!i()||void 0!==t&&void 0!==t.exports,this._isNode},n.isOpera=function(){return this._isOpera=this._isOpera||i()&&null!==r.a.window.navigator.userAgent.match(/(?:^opera.+?version|opr)\/(\d+)/),this._isOpera},n.isFirefox=function(){return this._isFirefox=this._isFirefox||i()&&null!==r.a.window.navigator.userAgent.toLowerCase().match(/(?:firefox|fxios)\/(\d+)/),this._isFirefox},n.isSafari=function(){return this._isSafari=this._isSafari||i()&&null!==r.a.window.navigator.userAgent.match(/version\/(\d+).+?safari/),this._isSafari},n.isIE=function(){return this._isIE=this._isIE||i()&&null!==r.a.window.navigator.userAgent.match(/(?:msie |trident.+?; rv:)(\d+)/),this._isIE},n.isEdge=function(){return this._isEdge=this._isEdge||i()&&null!==r.a.window.navigator.userAgent.match(/edge\/(\d+)/),this._isEdge},n.isChrome=function(){return this._isChrome=this._isChrome||i()&&null!==(/google inc/.test(r.a.window.navigator.vendor.toLowerCase())?r.a.window.navigator.userAgent.toLowerCase().match(/(?:chrome|crios)\/(\d+)/):null)&&!this.isOpera(),this._isChrome},n.isBlink=function(){return this._isBlink=this._isBlink||i()&&(this.isChrome||this.isOpera)&&!!r.a.window.CSS,this._isBlink},n.hasFastNativeArrays=function(){return void 0===this.useNative?this._hasFastNativeArrays():this.useNative},n._hasFastNativeArrays=function(){return this.__hasFastNativeArrays=this.__hasFastNativeArrays||!this.isIE()},n.useNative=void 0,n}();function u(){return i()&&void 0!==r.a.window.console||"function"==typeof console}function s(t){return null!==t&&"object"==typeof t}function a(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function c(t){return null!=t&&1===t.nodeType}function h(t){return"[object Function]"===Object.prototype.toString.call(t)}function l(t){return t===+t}function f(t){return l(t)&&t===(0|t)}function p(t){return b(t)&&t.constructor===String}function d(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=t.length,r=-1,i=!1;!i&&++r<e;)i=null==t[r];return i}function y(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!d.apply(this,Array.prototype.slice.apply(arguments))}function v(t){return null===t}function _(t){return null!==t}function g(t){return null==t}function b(t){return!g(t)}function m(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=t.length,r=-1,i=!1;!i&&++r<e;)i=void 0===t[r];return i}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!m.apply(this,Array.prototype.slice.apply(arguments))}function O(t){return void 0===t}function w(t){return!O(t)}}.call(this,e(3)(t))},function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return o});var r,i=!0;"undefined"==typeof window?(r=null,i=!1):r=window;var o=new(function(){function n(){this._window=r,this._nativeWindow=i}return Object.defineProperty(n.prototype,"global",{get:function(){return this.hasNativeWindow?this.window:t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this._window},set:function(t){this._window=t,this.hasNativeWindow||null===t||(r=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasNativeWindow",{get:function(){return this._nativeWindow},enumerable:!0,configurable:!0}),n}())}).call(this,e(2))},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){if(!t.webpackPolyfill){var n=Object.create(t);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"CalcConst",function(){return l}),e.d(r,"sign",function(){return f}),e.d(r,"rotationDeg",function(){return p}),e.d(r,"rotationRad",function(){return d}),e.d(r,"closestRadianRotation",function(){return y});var i={};e.r(i),e.d(i,"destroy",function(){return x}),e.d(i,"wipe",function(){return O}),e.d(i,"setNull",function(){return w}),e.d(i,"isClassOf",function(){return j}),e.d(i,"isSameClass",function(){return N}),e.d(i,"inherits",function(){return E}),e.d(i,"equals",function(){return A}),e.d(i,"isDifferent",function(){return I}),e.d(i,"shallowCopy",function(){return P}),e.d(i,"clone",function(){return S}),e.d(i,"cloneInto",function(){return z}),e.d(i,"mixin",function(){return U}),e.d(i,"setProperties",function(){return D}),e.d(i,"forEach",function(){return C}),e.d(i,"transform",function(){return R}),e.d(i,"difference",function(){return F});var o={};e.r(o),e.d(o,"flatten",function(){return M}),e.d(o,"reverse",function(){return k}),e.d(o,"concat",function(){return T}),e.d(o,"slice",function(){return L}),e.d(o,"splice",function(){return q}),e.d(o,"append",function(){return G}),e.d(o,"removeAt",function(){return B}),e.d(o,"indexOfElement",function(){return Z}),e.d(o,"remove",function(){return W}),e.d(o,"indexOf",function(){return J}),e.d(o,"find",function(){return V}),e.d(o,"removeOneByFn",function(){return H}),e.d(o,"shallowCopy",function(){return K}),e.d(o,"shallowCopyInto",function(){return Y}),e.d(o,"shallowFill",function(){return X}),e.d(o,"deepCopy",function(){return Q}),e.d(o,"deepCopyInto",function(){return $}),e.d(o,"deepFill",function(){return tt}),e.d(o,"filter",function(){return nt}),e.d(o,"filterInto",function(){return et}),e.d(o,"map",function(){return rt}),e.d(o,"mapInto",function(){return it}),e.d(o,"reduce",function(){return ot}),e.d(o,"reduceUntil",function(){return ut}),e.d(o,"reverseReduce",function(){return st}),e.d(o,"reverseReduceUntil",function(){return at}),e.d(o,"forEach",function(){return ct}),e.d(o,"forSome",function(){return ht}),e.d(o,"until",function(){return lt}),e.d(o,"reverseForEach",function(){return ft}),e.d(o,"reverseUntil",function(){return pt}),e.d(o,"some",function(){return dt}),e.d(o,"all",function(){return yt}),e.d(o,"insertAt",function(){return vt}),e.d(o,"binarySearch",function(){return _t}),e.d(o,"create",function(){return gt}),e.d(o,"zip",function(){return bt}),e.d(o,"unzip",function(){return mt}),e.d(o,"deserialize",function(){return xt});var u={};e.r(u),e.d(u,"init",function(){return zt}),e.d(u,"getFunctionName",function(){return Ut}),e.d(u,"getFunctionCode",function(){return Dt}),e.d(u,"newUUID",function(){return Ct}),e.d(u,"newInt",function(){return Rt}),e.d(u,"counter",function(){return Ft}),e.d(u,"count",function(){return Mt}),e.d(u,"callDebugger",function(){return kt}),e.d(u,"pipeOut",function(){return Tt}),e.d(u,"assert",function(){return Lt}),e.d(u,"proxyFn",function(){return qt}),e.d(u,"loop",function(){return Gt}),e.d(u,"toArray",function(){return Bt}),e.d(u,"DEFAULT_DURATION",function(){return Zt}),e.d(u,"debounce",function(){return Wt});var s={};e.r(s),e.d(s,"Sides",function(){return Jt}),e.d(s,"init",function(){return $t}),e.d(s,"create",function(){return tn}),e.d(s,"outerHTML",function(){return nn}),e.d(s,"setAttr",function(){return en}),e.d(s,"remove",function(){return rn}),e.d(s,"replace",function(){return on}),e.d(s,"clear",function(){return un}),e.d(s,"get",function(){return sn}),e.d(s,"find",function(){return an}),e.d(s,"findAll",function(){return hn}),e.d(s,"children",function(){return ln}),e.d(s,"findParent",function(){return fn}),e.d(s,"position",function(){return pn}),e.d(s,"is",function(){return dn}),e.d(s,"setStylesExplicitly",function(){return yn});var a={};e.r(a),e.d(a,"MocDataType",function(){return In}),e.d(a,"VALID_CHARS",function(){return zn}),e.d(a,"randomString",function(){return Un}),e.d(a,"randomInt",function(){return Dn}),e.d(a,"randomNumber",function(){return Cn}),e.d(a,"numericArray",function(){return Rn}),e.d(a,"stringArray",function(){return Fn});var c={};e.r(c),e.d(c,"debounced",function(){return Ln}),e.d(c,"once",function(){return qn}),e.d(c,"deprecated",function(){return Gn});var h=e(1),l=function(){function t(){}return t.ROTATION_DEGREE_PRECISION=1,t.RADIAN_FACTOR=1/360*(2*Math.PI),t.DEGREE_FACTOR=1/(2*Math.PI)*360,t.DEG360=360*t.ROTATION_DEGREE_PRECISION,t.ROTATION_LOOKUP=function(){for(var n=[],e=0;e<360*t.ROTATION_DEGREE_PRECISION;e++)n.push([Math.cos(e*t.RADIAN_FACTOR),Math.sin(e*t.RADIAN_FACTOR)]);return n}(),t}();function f(t){return"number"==typeof t?t?t<0?-1:1:t==t?0:NaN:NaN}function p(t){for(var n=t*l.ROTATION_DEGREE_PRECISION|0;n<0;)n+=l.DEG360;for(;n>=l.DEG360;)n-=l.DEG360;return l.ROTATION_LOOKUP[n]}function d(t){return p((t*l.DEGREE_FACTOR*l.ROTATION_DEGREE_PRECISION|0)/l.ROTATION_DEGREE_PRECISION)}function y(t){for(var n=t*l.DEGREE_FACTOR*l.ROTATION_DEGREE_PRECISION|0;n<0;)n+=l.DEG360;for(;n>=l.DEG360;)n-=l.DEG360;return n*l.RADIAN_FACTOR/l.ROTATION_DEGREE_PRECISION}var v=function(){function t(){}return t.EPSILON=1e-8,t.IDENTITY={x:1,y:1},t.X_DIM={x:1,y:0},t.Y_DIM={x:0,y:1},t}(),_=function(){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.angle=this.horizontalAngle,this.direction=this.horizontalAngle,this.x=t,this.y=n}return Object.defineProperty(t.prototype,"isZero",{get:function(){return 0===this.x&&0===this.y},enumerable:!0,configurable:!0}),t.prototype.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),new this.constructor(t,n)},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(t){return t?t.set(this):this.create(this.x,this.y)},t.prototype.toInt=function(){return this.x|=0,this.y|=0,this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},t.prototype.toDecimal=function(){return this.x+=v.EPSILON,this.y+=v.EPSILON,this},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.lengthSq())},t.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(t){var n=d(t),e=this.x*n[0]-this.y*n[1],r=this.x*n[1]+this.y*n[0];return this.x=e,this.y=r,this},t.prototype.rotateAround=function(t,n){return this.subtract(t).rotate(n).add(t)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):(this.x=this.x/t,this.y=this.y/t),this},t.prototype.scale=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this},t.prototype.relate=function(t){return this.x=this.x/t.x,this.y=this.y/t.y,this},t.prototype.multiply=function(t){return this.x=this.x*t,this.y=this.y*t,this},t.prototype.add=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this},t.prototype.subtract=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this},t.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.almostEquals=function(t){return Math.abs(this.x-t.x)<v.EPSILON&&Math.abs(this.y-t.y)<v.EPSILON},t.prototype.getNormal=function(t){var n=this.clone();t||n.set(this).normalize();var e=n.x;return n.x=n.y,n.y=-e,n},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.projectOnto=function(t){var n=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=n*t.x,this.y=n*t.y,this},t.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},t.prototype.rotateBy=function(t){var n=-this.horizontalAngle()+t;return this.rotate(n)},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},t.prototype.zero=function(){return this.x=0,this.y=0,this},t}(),g=function(){function t(t,n,e,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),this.pos=new _(t,n),this.size=new _(e,r)}return Object.defineProperty(t.prototype,"isZero",{get:function(){return this.pos.isZero&&this.size.isZero},enumerable:!0,configurable:!0}),t.prototype.create=function(t,n,e,r){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),new this.constructor(t,n,e,r)},t.prototype.set=function(t){return this.pos.set(t.pos),this.size.set(t.size),this},t.prototype.clone=function(t){return t?t.set(this):this.create(this.pos.x,this.pos.y,this.size.x,this.size.y)},t.prototype.fromRect=function(t){var n=t.start,e=t.stop;return this.pos.x=n.x,this.pos.y=n.y,this.size.x=e.x+(t.endInclusive?e.x<n.x?-1:1:0)-n.x,this.size.y=e.y+(t.endInclusive?e.y<n.y?-1:1:0)-n.y,this},t.prototype.scale=function(t,n){void 0===n&&(n=!0);var e=null;return n&&(e=this.size.clone()),this.size.scale(t),n&&this.pos.add(e.subtract(this.size).multiply(.5)),this},t.prototype.translate=function(t){return this.pos.scale(t),this.size.scale(t),this},t.prototype.move=function(t){return this.pos.add(t),this},t.prototype.toInt=function(){return this.pos.toInt(),this.size.toInt(),this},t.prototype.toDecimal=function(){return this.pos.toDecimal(),this.size.toDecimal(),this},t.prototype.contains=function(t){return this.pos.x<=t.pos.x&&this.pos.y<=t.pos.y&&this.pos.x+this.size.x>=t.pos.x+t.size.x&&this.pos.y+this.size.y>=t.pos.y+t.size.y},t.prototype.containsPoint=function(t){return t.x>=this.pos.x&&t.x<=this.pos.x+this.size.x-1&&t.y>=this.pos.y&&t.y<=this.pos.y+this.size.y-1},t.prototype.first=function(t){for(var n=new _,e=this.pos.x,r=this.pos.y,i=0;i<this.size.x;i++)for(var o=0;o<this.size.y;o++)if(n.x=i+e,n.y=o+r,t(n))return n;return null},t.prototype.forEach=function(t,n){void 0===n&&(n=null);var e=new _,r=this.pos.clone().toInt();null!==n&&this.containsPoint(n)||(n=r);for(var i=this.pos.clone().add(this.size).toInt(),o=r.y;o<i.y;o+=1)for(var u=r.x;u<i.x;u+=1){if(!(o<n.y||o===n.y&&u<n.x))if(e.x=u,e.y=o,t(e))return}},t.prototype.equals=function(t){return this.pos.equals(t.pos)&&this.size.equals(t.size)},t.prototype.zero=function(){return this.pos.zero(),this.size.zero(),this},t}(),b=function(){function t(t,n,e,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=!1),this.start=new _(t,n),this.stop=new _(e,r),this.endInclusive=i}return Object.defineProperty(t.prototype,"isZero",{get:function(){return this.start.isZero&&this.stop.isZero},enumerable:!0,configurable:!0}),t.prototype.create=function(t,n,e,r,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=!1),new this.constructor(t,n,e,r,i)},t.prototype.set=function(t){return this.start.set(t.start),this.stop.set(t.stop),this},t.prototype.clone=function(t){return t?t.set(this):this.create(this.start.x,this.start.y,this.stop.x,this.stop.y)},t.prototype.fromRange2=function(t,n){return void 0===n&&(n=!1),this.start.x=t.pos.x,this.start.y=t.pos.y,this.stop.x=t.pos.x-(n?t.size.x<0?-1:1:0)+t.size.x,this.stop.y=t.pos.y-(n?t.size.y<0?-1:1:0)+t.size.y,this.endInclusive=n,this},t.prototype.scale=function(t,n){void 0===n&&(n=!0);var e=this.stop.x-this.start.x,r=this.stop.y-this.start.y,i=e,o=r;return i*=t.x,o*=t.y,n&&(this.start.x-=(i-e)/2,this.start.y-=(o-r)/2),this.stop.x=this.start.x+i,this.stop.y=this.start.y+o,this},t.prototype.translate=function(t){return this.start.scale(t),this.stop.scale(t),this},t.prototype.equals=function(t){return this.start.equals(t.start)&&this.stop.equals(t.stop)},t.prototype.toInt=function(){return this.start.toInt(),this.stop.toInt(),this},t.prototype.toDecimal=function(){return this.start.toDecimal(),this.stop.toDecimal(),this},t.prototype.area=function(){return(this.stop.x-this.start.x)*(this.stop.y-this.start.y)},t.prototype.move=function(t){return this.start.add(t),this.stop.add(t),this},t.prototype.contains=function(t){return this.start.x<=t.start.x&&this.start.y<=t.start.y&&this.stop.x>=t.stop.x&&this.stop.y>=t.stop.y},t.prototype.intersect=function(t){return this.containsPoint(t.start.x,t.start.y)||this.containsPoint(t.stop.x,t.stop.y)||this.containsPoint(t.start.x,t.stop.y)||this.containsPoint(t.stop.x,t.start.y)},t.prototype.containsPoint=function(t,n){return this.start.x<=t&&this.stop.x>=t&&this.start.y<=n&&this.stop.y>=n},t.prototype.zero=function(){return this.start.zero(),this.stop.zero(),this},t}(),m=e(0);function x(t){void 0!==t.constructor.prototype.destroy?t.destroy():w(t)}function O(t){for(var n=Object.keys(t),e=-1,r=n.length;++e<r;)delete t[n[e]]}function w(t){if(void 0!==t.constructor.prototype.clear)t.clear();else for(var n=Object.keys(t),e=-1,r=n.length;++e<r;)t[n[e]]=null}function j(t,n){return Object(m.areNotNullOrUndefined)(t,n)&&t instanceof n.constructor}function N(t,n){return Object(m.areNotNullOrUndefined)(t,n)&&t.constructor===n.constructor}function E(t,n){return j(t,n)&&!N(t,n)}function A(t,n){var e=t===n;if(t!==n&&t instanceof Object&&N(t,n))if(Object(m.isArray)(t)){var r=0;if(e=(u=t.length)===n.length)for(;r<u&&!1!==(e=A(t[r],n[r]));r+=1);}else if(t.constructor.prototype.equals)e=t.equals(n);else{var i=Object.keys(t),o=null;e=!0;r=-1;for(var u=i.length;++r<u;)if(!(e=A(t[o=i[r]],n[o]))){if(!Object(m.isFunction)(t[o]))break;e=!0}}return e}function I(t,n){return!A(t,n)}function P(t){for(var n=Object.keys(t),e={},r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function S(t){var n;if(t instanceof Object)if(void 0!==t.constructor.prototype.clone)n=t.clone();else if(Object(m.isArray)(t)){var e=-1,r=t.length;for(n=new Array(r);++e<r;)n[e]=S(t[e])}else{if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);n=new t.constructor;var i=Object.keys(t),o=null;for(e=-1,r=i.length;++e<r;)n[o=i[e]]=S(t[o])}else n=t;return n}function z(t,n){if(Object(m.isArray)(n)){var e=t,r=n,i=e.length;r.length=i;for(var o=-1;++o<i;)e[o]instanceof Object?z(e[o],r[o]):r[o]=e[o]}else{var u=Object.keys(t),s=null;for(o=-1,i=u.length;++o<i;){var a=t[s=u[o]];if(a instanceof Object){var c=n[s];null==c&&(c=Object(m.isArray)(a)?n[s]=[]:n[s]={}),I(a,c)&&z(a,c)}else n[s]=a}}return n}function U(t,n){void 0===t&&(t={});for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];for(var i=t,o=e?e.length:0,u=0;u<o;u++){var s=e[u];if(Object(m.isFunction)(s)&&(s=s.prototype),void 0!==s){var a=Object.keys(s),c=null;if(n)for(var h=-1,l=a.length;++h<l;)c=a[h],n.hasOwnProperty(c)||(t[c]=s[c]);else for(var f=-1,p=a.length;++f<p;)t[c=a[f]]=s[c]}}return i}function D(t,n,e){for(var r,i=Object.keys(n),o=-1,u=i.length;++o<u;)r=i[o],e&&r in e&&(r=e[r]),r in t&&(t[r]=n[i[o]])}function C(t,n){if(Object(m.isArray)(t))for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e););else for(var i=Object.keys(t),o=void 0,u=(e=-1,r=i.length,!0);u&&++e<r;)u=!1!==n(t[o=i[e]],o)}function R(t,n,e){return void 0===e&&(e=Object.create(t)),C(t,function(t,r){return n(e,t,r)}),e}function F(t,n){return function t(n,e){return R(n,function(n,r,i){I(r,e[i])&&(n[i]=Object(m.isObject)(r)&&Object(m.isObject)(e[i])?t(r,e[i]):r)})}(t,n)}function M(t){return function t(n,e){void 0===e&&(e=[]);var r=-1;var i=Object(m.isNullOrUndefined)(n)?0:n.length;for(;++r<i;)Object(m.isArray)(n[r])?t(n[r],e):e.push(n[r]);return e}(t)}function k(t){var n=null,e=null,r=Object(m.isNullOrUndefined)(t)?0:t.length;for(n=0;n<r/2;n+=1){e=r-1-n;var i=t[n];t[n]=t[e],t[e]=i}return t}function T(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function L(t,n,e){var r;if(void 0===n&&(n=0),void 0===e&&(e=1/0),Object(m.isNotNullOrUndefined)(t)){Math.min(t.length-n,e);if(m.Env.hasFastNativeArrays())r=t.slice(n,n+e);else{var i=Math.min(t.length-n,e);i<=0&&(i=0),r=new Array(i);for(var o=-1;++o<i;)r[o]=t[o+n]}}else r=[];return r}function q(t,n,e,r){if(void 0===n&&(n=0),void 0===e&&(e=1/0),void 0===r&&(r=[]),Object(m.isNullOrUndefined)(t))throw new Error("Unable to splice on null or undefined");var i=t.length;if(n=Math.max(0,n),n=Math.min(n,i),e=Math.max(0,e),e=Math.min(e,i-n),m.Env.hasFastNativeArrays()&&(r.length!==e||n+r.length>=t.length))t.splice.bind(t,n,e).apply(t,r);else{var o=r.length,u=i-e+o,s=e-o;if(s<0){t.length=u;for(var a=u;--a>=n+e;)t[a]=t[a+s]}for(var c=n-1;++c<n+o;)t[c]=r[c-n];if(s>0){for(--c;++c<i-s;)t[c]=t[c+s];t.length=u}}}function G(t,n){for(var e=-1,r=t.length,i=Object(m.isNullOrUndefined)(n)?0:n.length;++e<i;)t[r+e]=n[e]}function B(t,n){var e;if(Object(m.isNotNullOrUndefined)(t)&&n>=0)if(m.Env.hasFastNativeArrays())e=t.splice(n,1)[0];else{var r=t.length;n=Math.max(0,n);var i=n=Math.min(n,r);for(e=t[i];++i<r;)t[i-1]=t[i];t.length-=1}return e}function Z(t,n){var e=-1;if(Object(m.isNotNullOrUndefined)(t))if(m.Env.hasFastNativeArrays())e=t.indexOf(n);else for(var r=Object(m.isNullOrUndefined)(t)?0:t.length,i=-1;++i<r;)if(t[i]===n){e=i;break}return e}function W(t,n){B(t,Z(t,n))}function J(t,n){for(var e=-1,r=Object(m.isNullOrUndefined)(t)?0:t.length;++e<r;)if(n(t[e]))return e;return-1}function V(t,n){var e,r=J(t,n);return-1!==r&&(e=t[r]),e}function H(t,n){B(t,J(t,n))}function K(t){var n,e=-1;if(Object(m.isNotNullOrUndefined)(t))if(m.Env.hasFastNativeArrays())n=t.slice();else{var r=t.length;for(n=new Array(r);++e<r;)n[e]=t[e]}else n=[];return n}function Y(t,n){var e=-1,r=Object(m.isNullOrUndefined)(t)?0:t.length;for(n.length=r;++e<r;)n[e]=t[e]}function X(t,n,e){void 0===e&&(e=0);var r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;for(n.length<i+e&&(n.length=i+e);++r<i;)n[e+r]=t[r]}function Q(t){for(var n=-1,e=Object(m.isNullOrUndefined)(t)?0:t.length,r=new Array(e);++n<e;)r[n]=S(t[n]);return r}function $(t,n){var e=-1,r=Object(m.isNullOrUndefined)(t)?0:t.length;for(n.length=r;++e<r;)n[e]=S(t[e])}function tt(t,n,e){void 0===e&&(e=0);var r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;for(n.length<i+e&&(n.length=i+e);++r<i;)n[e+r]=S(t[r])}function nt(t,n){var e;e=[];for(var r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;++r<i;){var o=t[r];!0===n(o,r)&&e.push(o)}return e}function et(t,n,e){for(var r=-1,i=0,o=Object(m.isNullOrUndefined)(t)?0:t.length,u=n.length;++r<o;){var s=t[r];!0===e(s,r)&&(i<u?n[i++]=s:(++i,n.push(s)))}n.length=i}function rt(t,n){var e,r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;for(e=new Array(i);++r<i;)e[r]=n(t[r],r);return e}function it(t,n,e){var r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;for(n.length=i;++r<i;)n[r]=e(t[r],r)}function ot(t,n,e,r,i){var o=e;if(Object(m.isNotNullOrUndefined)(t)){r=Math.min(Math.max(0,Object(m.isUndefined)(r)?0:r),t.length-1),i=Math.min(Math.max(0,Object(m.isUndefined)(i)?t.length-1:i),t.length-1);for(var u=r-1;++u<i+1;)o=n(o,t[u])}return o}function ut(t,n,e,r,i,o){var u=r;if(Object(m.isNotNullOrUndefined)(t)){i=Math.min(Math.max(0,Object(m.isUndefined)(i)?0:i),t.length-1),o=Math.min(Math.max(0,Object(m.isUndefined)(o)?t.length-1:o),t.length-1);for(var s=i-1;++s<o+1&&!e(u,t[s]);)u=n(u,t[s])}return u}function st(t,n,e){for(var r=Object(m.isNullOrUndefined)(t)?0:t.length,i=e;--r>=0;)i=n(i,t[r]);return i}function at(t,n,e,r){for(var i=Object(m.isNullOrUndefined)(t)?0:t.length,o=r;--i>=0&&!e(o,t[i]);)o=n(o,t[i]);return o}function ct(t,n,e){void 0===e&&(e=0);for(var r=e-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;++r<i;)n(t[r],r)}function ht(t,n,e){for(var r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;++r<i;){var o=t[r];n(o,r)&&e(o,r)}}function lt(t,n,e,r){var i=Object(m.isUndefined)(e)||Object(m.isNumber)(e);r=i?e:r;for(var o=Object(m.isUndefined)(r)||r<0?-1:r-1,u=Object(m.isNullOrUndefined)(t)?0:t.length;++o<u&&(i?!n(t[o],o):!n(t[o],o)&&(e(t[o],o),1)););}function ft(t,n){for(var e=Object(m.isNullOrUndefined)(t)?0:t.length;--e>=0;)n(t[e],e)}function pt(t,n,e){for(var r=Object(m.isNullOrUndefined)(t)?0:t.length,i=Object(m.isUndefined)(e);--r>=0&&(i?!n(t[r],r):!n(t[r],r)&&(e(t[r],r),1)););}function dt(t,n){for(var e=!1,r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;++r<i&&!(e=n(t[r])););return e}function yt(t,n){for(var e=!0,r=-1,i=Object(m.isNullOrUndefined)(t)?0:t.length;++r<i&&(e=n(t[r])););return e}function vt(t,n,e){if(Object(m.isNullOrUndefined)(t))throw new Error("Unable to insertAt on null or undefined");if(0===n)t.unshift(e);else if(n>0){for(var r=t.length;--r>=n;)t[r+1]=t[r];t[r+1]=e}}function _t(t,n,e){void 0===e&&(e=!1);for(var r,i=0,o=Object(m.isNullOrUndefined)(t)?-1:t.length-1;i<=o;){var u=n(t[r=i+o>>1]);if(u<0)i=r+1;else{if(!(u>0))return r;o=r-1}}return e?i:-1}function gt(t,n){(t||-1)<0&&(t=0);for(var e=new Array(t),r=-1;++r<t;)e[r]=n(r,e);return e}function bt(t,n,e){void 0===e&&(e=function(t,n){return[t,n]});for(var r,i=-1,o=Math.max(t.length,n.length),u=[];++i<o&&void 0!==(r=e(t[i],n[i],i));)u.push(r);return u}function mt(t,n){void 0===n&&(n=function(t,n,e){return e[0]=t[0],e[1]=t[1],e});for(var e=-1,r=t.length,i=[void 0,void 0],o=[new Array,new Array];++e<r&&(i=n(t[e],e,i));)o[0].push(i[0]),o[1].push(i[1]);return o}function xt(t,n){for(var e,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e=i.shift(),r=i,Object(m.isNotUndefined)(e)?Object(m.isNotUndefined)(e.prototype.deserialize)?it(t,n,function(t){var n=new e;return n.deserialize.apply(n,[t].concat(r))}):it(t,n,function(t,n){var r=new e;return D(r,t),r}):$(t,n)}Object(m.hasWindow)()&&!window.Symbol&&(window.Symbol={iterator:"iterator"});var Ot=function(){function t(n){this._array=[],this._index=Object.create(null),this._indexer=null,this._pointer=0,this._array=void 0===n?new Array:K(n instanceof t?n._array:n)}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(t){return{done:this._pointer>=this.length,value:this._pointer<this.length?this._array[this._pointer++]:void(this._pointer=0)}},t.prototype.create=function(t){return new this.constructor(t)},Object.defineProperty(t.prototype,"values",{get:function(){return this._array},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this._array[t]},t.prototype.getByIndex=function(t){return Object(m.isNotNullOrUndefined)(this._index)?this._index[t]:void 0},t.prototype.set=function(t,n){if(!(t>=0&&t<this.length))throw new Error("index out of bounds on <List>.set("+t+", "+n.toString()+")");return this._array[0|t]=n,null!==this._indexer&&(this._index[this._indexer(n)]=n),this},Object.defineProperty(t.prototype,"count",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indexer",{get:function(){return this._indexer},set:function(t){this._indexer=t,this._reindex()},enumerable:!0,configurable:!0}),t.prototype._reindex=function(){var t=this;null===this._indexer?this._index=null:(null===this._index?this._index=Object.create(null):O(this._index),this.forEach(function(n){return t._index[t._indexer(n)]=n}))},t.prototype.truncate=function(t){if(void 0===t&&(t=0),t<0)for(var n=this._array,e=n.length,r=e-(t=Math.min(e,-1*t))-1,i=-1;++r<e;)n[++i]=n[r];return this._array.length=Math.max(0,Math.min(this._array.length,t)),this._reindex(),this},t.prototype.fill=function(t,n){return t=Math.max(0,t||0),Object(m.isFunction)(n)?this._array=gt(t,n):n instanceof Object?this._array=gt(t,function(){return S(n)}):this._array=gt(t,function(){return n}),this._reindex(),this},t.prototype.clear=function(){return this._array.length=0,null!==this._index&&O(this._index),this},t.prototype.add=function(t){return this._array.push(t),null!==this._indexer&&(this._index[this._indexer(t)]=t),this},t.prototype.insertAt=function(t,n){return vt(this._array,t,n),null!==this._indexer&&(this._index[this._indexer(n)]=n),this},t.prototype.push=function(t){return null!==this._indexer&&(this._index[this._indexer(t)]=t),this._array.push(t)},t.prototype.pop=function(){var t=this._array.pop();return void 0!==t&&null!==this._indexer&&delete this._index[this._indexer(t)],t},t.prototype.shift=function(){var t=this._array.shift();return void 0!==t&&null!==this._indexer&&delete this._index[this._indexer(t)],t},t.prototype.concat=function(n){var e,r=n instanceof t?n.values:n;return e=T(this._array,r),this.create(e)},t.prototype.index=function(t){var n=this;null!==this._indexer&&ct(t,function(t){n._index[n._indexer(t)]=t})},t.prototype.unindexEl=function(t){Object(m.isNotUndefined)(t)&&Object(m.isNotNull)(this._indexer)&&delete this._index[this._indexer(t)]},t.prototype.append=function(n){var e=n instanceof t?n.values:n;return G(this._array,e),this.index(e),this},t.prototype.copy=function(n){var e=n instanceof t?n.values:n;return $(e,this._array),this.index(e),this},t.prototype.shallowCopy=function(n){var e=n instanceof t?n.values:n;return Y(e,this._array),this.index(e),this},t.prototype.clone=function(){var t=Q(this._array),n=this.create(t);return null!==this._indexer&&(n._indexer=this._indexer,n._index=S(this._index)),n},t.prototype.remove=function(t){return W(this._array,t),this.unindexEl(t),this},t.prototype.removeFirst=function(t){var n=this.removeAt(this.indexOf(t));return this.unindexEl(n),n},t.prototype.removeAt=function(t){var n=B(this._array,t);return this.unindexEl(n),n},t.prototype.forEach=function(t,n){return void 0===n&&(n=0),ct(this._array,t,n),this},t.prototype.forSome=function(t,n){return ht(this._array,t,n),this},t.prototype.until=function(t,n,e){return lt(this._array,t,n,e),this},t.prototype.reverseForEach=function(t){return ft(this._array,t),this},t.prototype.reverseUntil=function(t,n){return pt(this._array,t,n),this},t.prototype.some=function(t){return dt(this._array,t)},t.prototype.all=function(t){return yt(this._array,t)},t.prototype.indexOf=function(t){return Object(m.isFunction)(t)?J(this._array,t):Z(this._array,t)},t.prototype.contains=function(t){return Object(m.isFunction)(t)?void 0!==this.find(t):null!==this._indexer?void 0!==this._index[this._indexer(t)]:-1!==Z(this._array,t)},t.prototype.reverse=function(){return k(this._array),this},t.prototype.first=function(t){var n=-1;return-1===(n=void 0===t?0:J(this._array,t))?void 0:this.get(n)},t.prototype.find=function(t){return this.first(t)},t.prototype.last=function(){return 0===this.length?void 0:this.get(this.length-1)},t.prototype.filter=function(t){return this.create(nt(this._array,t))},t.prototype.select=function(t){return this.create(nt(this._array,t))},t.prototype.selectInto=function(n,e){var r=n instanceof t?n.values:n;return et(r,this._array,e),this.index(r),this},t.prototype.head=function(t){return void 0===t&&(t=1),t=Math.max(0,t),this.create(L(this._array,0,t))},t.prototype.tail=function(t){return void 0===t&&(t=1),t=Math.min(this._array.length,t),this.create(L(this._array,Math.max(0,this._array.length-t)))},t.prototype.splice=function(t,n,e){return void 0===t&&(t=0),void 0===n&&(n=1/0),void 0===e&&(e=[]),q(this._array,t,n,Object(m.isArray)(e)?e:e.values),this._reindex(),this},t.prototype.orderBy=function(t){return this._array.sort(t),this},t.prototype.map=function(t){return this.create(rt(this._array,t))},t.prototype.mapInto=function(n,e){return it(n instanceof t?n.values:n,this._array,e),this._reindex(),this},t.prototype.reduce=function(t,n){return ot(this._array,t,n)},t.prototype.reduceUntil=function(t,n,e){return ut(this._array,t,n,e)},t.prototype.reverseReduce=function(t,n){return st(this._array,t,n)},t.prototype.reverseReduceUntil=function(t,n,e){return at(this._array,t,n,e)},t.prototype.equals=function(t){return A(this._array,t.values)},t.prototype.same=function(t){var n=this,e=0;return n.length===t.length&&(null!==n.indexer?t.until(function(t){return!n.contains(t)},function(t,n){return++e}):n.until(function(n){return!t.contains(n)},function(t,n){return++e})),e===n.length},t.prototype.intersect=function(t){var n,e,r=this.create();return r.indexer=this.indexer,this.length<t.length?(e=this,n=t):(n=this,e=t),null!==n.indexer?e.forEach(function(t){n.contains(t)&&r.push(t)}):n.forEach(function(t){e.contains(t)&&r.push(t)}),r},t.prototype.union=function(t){var n,e,r=this.create();return r.indexer=this.indexer,this.length<t.length?(e=this,n=t):(n=this,e=t),null!==n.indexer?(r=n.clone(),e.forEach(function(t){n.contains(t)||r.push(t)})):(r=e.clone(),n.forEach(function(t){e.contains(t)||r.push(t)})),r},t.prototype.subtract=function(t){var n=this.create();return n.indexer=this.indexer,n=this.select(function(n){return!t.contains(n)})},t.prototype.zip=function(t,n){void 0===n&&(n=function(t,n){return[t,n]});var e=this.create(),r=t.length;return this.until(function(t,n){return n>=r},function(r,i){e.push(n(r,t.get(i)))}),e},t.prototype.unzip=function(t){void 0===t&&(t=function(t){return[t[0],t[1]]});var n=[this.create(),this.create()];return this.forEach(function(e){var r=t(e);n[0].push(r[0]),n[1].push(r[1])}),n},t.prototype.flatten=function(t){return void 0===t&&(t=1/0),this.create(t<1?this.values:this._flattenInner(this.values,t))},t.prototype._flattenInner=function(n,e,r,i){void 0===r&&(r=-1),void 0===i&&(i=[]);var o=-1,u=n.length;if(++r>e)i.push(n);else for(;++o<u;)Object(m.isArray)(n[o])?this._flattenInner(n[o],e,r,i):n[o]instanceof t?this._flattenInner(n[o].values,e,r,i):i.push(n[o]);return i},t.prototype.toJSON=function(){return this.values},t.prototype.serialize=function(){return this.values.map(function(t){return Object(m.isFunction)(t.serialize)?t.serialize():t})},t.prototype.deserialize=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return xt.apply(this,[t,this._array].concat(n)),this},t}();Object(m.hasWindow)()&&!window.Symbol&&(window.Symbol={iterator:"iterator"});!function(){function t(){}t.StringAsc=function(t,n){return t<n?-1:t===n?0:1},t.StringDesc=function(t,n){return t<n?1:t===n?0:-1},t.NumberAsc=function(t,n){return t<n?-1:t===n?0:1},t.NumberDesc=function(t,n){return t<n?1:t===n?0:-1}}();var wt=function(){function t(n,e){void 0===n&&(n=function(t,n){return t<n?-1:t===n?0:1}),this._list=new Ot,this._pointer=0,this._cmp=n,void 0===e?this._list=new Ot:e instanceof Ot||e instanceof t?this.copy(e.values):this.copy(e)}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(t){return{done:this._pointer>=this.length,value:this._pointer<this.length?this.values[this._pointer++]:void(this._pointer=0)}},t.prototype.create=function(t,n){return new this.constructor(t,n)},Object.defineProperty(t.prototype,"values",{get:function(){return this._list.values},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this._list.get(t)},Object.defineProperty(t.prototype,"count",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comparer",{get:function(){return this._cmp},set:function(t){this._cmp=t,this.sort()},enumerable:!0,configurable:!0}),t.prototype.sort=function(){this._list.orderBy(this._cmp)},t.prototype.truncate=function(t){return void 0===t&&(t=0),this._list.truncate(t),this},t.prototype.fill=function(t,n){return this._list.fill(t,n),this.sort(),this},t.prototype.clear=function(){return this._list.clear(),this},t.prototype.add=function(t){var n=this.getInsertIndex(t);return this._list.insertAt(n,t),this},t.prototype.pop=function(){return this._list.pop()},t.prototype.shift=function(){return this._list.shift()},t.prototype.bulkAdd=function(n){return n instanceof Ot||n instanceof t?this._list.append(n.values):this._list.append(n),this.sort(),this},t.prototype.copy=function(n){return n instanceof Ot||n instanceof t?this._list.copy(n.values):this._list.copy(n),this.sort(),this},t.prototype.clone=function(){return this.create(this._cmp,this._list.clone())},t.prototype.remove=function(t){var n=this.indexOf(t);return-1!==n&&this._list.removeAt(n),this},t.prototype.removeAt=function(t){return this._list.removeAt(t)},t.prototype.removeFirst=function(t){return this._list.removeFirst(t)},t.prototype.forEach=function(t,n){return void 0===n&&(n=0),this._list.forEach(t,n),this},t.prototype.forSome=function(t,n){return this._list.forSome(t,n),this},t.prototype.until=function(t,n,e){return this._list.until(t,n,e),this},t.prototype.reverseForEach=function(t){return this._list.reverseForEach(t),this},t.prototype.reverseUntil=function(t,n){return this._list.reverseUntil(t,n),this},t.prototype.some=function(t){return this._list.some(t)},t.prototype.all=function(t){return this._list.all(t)},t.prototype.getInsertIndex=function(t){var n=this;return _t(this._list.values,function(e){return n._cmp(e,t)},!0)},t.prototype.indexOf=function(t){var n=this;return t instanceof Function?this._list.indexOf(t):_t(this._list.values,function(e){return n._cmp(e,t)},!1)},t.prototype.contains=function(t){return-1!==this.indexOf(t)},t.prototype.first=function(t){return this._list.first(t)},t.prototype.find=function(t){return this._list.find(t)},t.prototype.last=function(){return this._list.last()},t.prototype.filter=function(t){return this.create(this._cmp,this._list.filter(t))},t.prototype.select=function(t){return this.create(this._cmp,this._list.filter(t))},t.prototype.selectInto=function(n,e){return n instanceof Ot||n instanceof t?this._list.selectInto(n.values,e):this._list.selectInto(n,e),this.sort(),this},t.prototype.head=function(t){return void 0===t&&(t=1),this.create(this.comparer,this._list.head(t))},t.prototype.tail=function(t){return void 0===t&&(t=1),this.create(this.comparer,this._list.tail(t))},t.prototype.map=function(t){return this._list.map(t)},t.prototype.mapInto=function(n,e){return n instanceof Ot||n instanceof t?this._list.mapInto(n.values,e):this._list.mapInto(n,e),this.sort(),this},t.prototype.reduce=function(t,n){return this._list.reduce(t,n)},t.prototype.reduceUntil=function(t,n,e){return this._list.reduceUntil(t,n,e)},t.prototype.reverseReduce=function(t,n){return this._list.reverseReduce(t,n)},t.prototype.reverseReduceUntil=function(t,n,e){return this._list.reverseReduceUntil(t,n,e)},t.prototype.equals=function(t){return A(this._list.values,t.values)},t.prototype.same=function(t){return this.equals(t)},t.prototype.intersect=function(n){var e,r,i=this.create(this.comparer);if(this.length>0&&n.length>0)if(this.length<n.length?(r=this,e=n):(e=this,r=n),n instanceof t&&this.comparer===n.comparer)for(var o=e.getInsertIndex(r.get(0))-1,u=e.getInsertIndex(r.last())-1,s=-1,a=r.length;o<u&&++s<a;){for(var c=r.get(s),h=void 0;++o<u&&(h=this.comparer(e.get(o),c))<0;);o<u&&0===h&&i.add(c)}else e instanceof t||e instanceof Ot&&null!==e.indexer?r.forEach(function(t){e.contains(t)&&i.add(t)}):i=i.bulkAdd(r.toList().intersect(e));return i},t.prototype.union=function(n){var e,r,i;if(this.length>0||n.length>0)if(this.length<n.length?(i=this,r=n):(r=this,i=n),n instanceof t&&this.comparer===n.comparer){e=this.create(this.comparer,r.values);for(var o=r.getInsertIndex(i.get(0))-1,u=r.getInsertIndex(i.last())-1,s=-1,a=i.length;++s<a&&o<u;){for(var c=i.get(s),h=-1;++o<u&&(h=this.comparer(r.get(o),c))<0;);(h>0&&o<u||o===u)&&e.add(c)}if(s<a)for(--s;++s<a;)e.add(i.get(s))}else r instanceof t||r instanceof Ot&&null!==r.indexer?(e=this.create(this.comparer,r.values),i.forEach(function(t){r.contains(t)||e.add(t)})):e=this.create(this.comparer,i.toList().union(r));else e=this.create(this.comparer);return e},t.prototype.toList=function(){return new Ot(this.values)},t.prototype.toJSON=function(){return this.values},t.prototype.serialize=function(){return this.values.map(function(t){return Object(m.isFunction)(t.serialize)?t.serialize():t})},t.prototype.deserialize=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return this._list.deserialize.apply(this._list,[t].concat(n)),this.sort(),this},t}(),jt=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},Nt=function(){function t(){this._lookup=Object.create(null),this._list=new Array,this._isDirty=!1}return t.prototype.create=function(){return new this.constructor},t.prototype.has=function(t){return void 0!==this._lookup[t]},t.prototype.contains=function(t){return this.has(t)},t.prototype.get=function(t){return this._lookup[t]},t.prototype.set=function(t,n){return this._isDirty=this._isDirty||this.has(t),void 0!==n&&(this._lookup[t]=n,this._isDirty||this._list.push(n)),this},t.prototype.delete=function(t){return this.has(t)&&(delete this._lookup[t],this._isDirty=!0),this},t.prototype.clear=function(){return O(this._lookup),this._list.length=0,this},Object.defineProperty(t.prototype,"values",{get:function(){return this.cleanList(),this._list},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this._lookup)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._isDirty?this.keys.length:this._list.length},enumerable:!0,configurable:!0}),t.prototype.cleanList=function(){this._isDirty&&this.reCreateList()},t.prototype.reCreateList=function(){var t=this._lookup,n=Object.keys(this._lookup),e=-1,r=this._list;for(r.length=0;++e<n.length;)r.push(t[n[e]]);this._isDirty=!1},t.prototype.clone=function(){var t=this.create();return t._isDirty=!0,t._lookup=S(this._lookup),t.reCreateList(),t},t.prototype.toJSON=function(){return this._lookup},t.prototype.serialize=function(){var t=this,n=Object.create(null);return ct(this.keys,function(e){var r=t.get(e);n[e]=Object(m.isNotNullOrUndefined)(r)&&Object(m.isFunction)(r.serialize)?r.serialize():r}),n},t.prototype.deserialize=function(t){for(var n,e,r,i,o,u,s,a,c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(s=c.shift(),a=c,this.clear(),Object(m.isNotUndefined)(s))if(Object(m.isNotUndefined)(s.prototype.deserialize))try{for(var l=jt(Object.keys(t)),f=l.next();!f.done;f=l.next()){var p=f.value,d=new s;this.set(p,d.deserialize.apply(d,[t[p]].concat(a)))}}catch(t){n={error:t}}finally{try{f&&!f.done&&(e=l.return)&&e.call(l)}finally{if(n)throw n.error}}else try{for(var y=jt(Object.keys(t)),v=y.next();!v.done;v=y.next()){p=v.value;var _=new s;D(_,t[p]),this.set(p,_)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}else try{for(var g=jt(Object.keys(t)),b=g.next();!b.done;b=g.next()){p=b.value;this.set(p,t[p])}}catch(t){o={error:t}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(o)throw o.error}}return this.reCreateList(),this},t}(),Et=function(){function t(t){this.DEFAULT_SIZE=100,this._pos=0,this._limit=0,t||(t=this.DEFAULT_SIZE),this.DEFAULT_SIZE=t,this._array=new Array(t),this.push=this.fastPush}return Object.defineProperty(t.prototype,"values",{get:function(){return L(this._array,0,this._pos)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(t){t<0&&(t=0),this._limit=t,0===t?this.push=this.fastPush:(this.push=this.limitedPush,this.limitObjects())},enumerable:!0,configurable:!0}),t.prototype.create=function(t){return new this.constructor(t)},t.prototype.push=function(t){},t.prototype.fastPush=function(t){this._array[this._pos++]=t},t.prototype.limitedPush=function(t){this._array[this._pos]=t,++this._pos,this.limitObjects()},t.prototype.pop=function(){var t=void 0;return 0!==this._pos&&(t=this._array[--this._pos]),t},t.prototype.peek=function(){return this._array[this._pos-1]},t.prototype.peekAt=function(t){return t<0||t>=this._pos?void 0:this._array[this._pos-t-1]},t.prototype.toList=function(){new Ot;return new Ot(this.values)},t.prototype.clear=function(){return this._pos=0,this._array.length=this.DEFAULT_SIZE,this},t.prototype.clone=function(){var t=Q(this._array),n=this.create(this.DEFAULT_SIZE);return n._array=t,n._limit=this._limit,n._pos=this._pos,n},t.prototype.limitObjects=function(){for(;this._pos>this._limit;)this._array.shift(),--this._pos},t.prototype.toJSON=function(){return L(this.values,0,this._pos)},t.prototype.serialize=function(){return L(this.values,0,this._pos).map(function(t){return Object(m.isFunction)(t.serialize)?t.serialize():t})},t.prototype.deserialize=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return xt.apply(this,[t,this._array].concat(n)),this._pos=t.length,this},t}(),At=function(){return function(){}}(),It=function(){function t(){}return Object.defineProperty(t,"time",{get:function(){return At._time},enumerable:!0,configurable:!0}),t.now=function(){if("undefined"!=typeof performance)return performance.now();var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},t.start=function(){var n=t.now();return At._start=At._last=n,At._time=0},t.stop=function(){var n=At._start,e=t.now();return At._last=e,At._time=e-n},t}(),Pt=function(){function t(t){void 0===t&&(t=""),this.name="",this._value=0,this.name=t}return t.prototype.log=function(){console.log("Counter "+this.name+": "+this.toString())},t.prototype.inc=function(){return this._value++,this},t.prototype.reset=function(){return this._value=0,this},t.prototype.valueOf=function(){return this._value},t.prototype.toString=function(){return this._value.toString()},t}(),St=function(){function t(){}return t._int={0:0},t._counter={"":new Pt("")},t}();function zt(t){void 0!==t&&(h.a.window=t)}function Ut(t){var n;if(void 0!==t.hasOwnProperty("name"))n=t.name;else{var e=t.toString();n=e.substring(9,e.indexOf("("))}return n}function Dt(t){var n=t.toString();return n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))}function Ct(){var t=(new Date).getTime();return t+=It.now(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===n?e:3&e|8).toString(16)})}function Rt(t){return void 0===t&&(t=0),void 0===St._int[t]&&(St._int[t]=0),St._int[t]++}function Ft(t){return void 0===t&&(t=""),void 0===St._counter[t]&&(St._counter[t]=new Pt(t.toString())),St._counter[t]}function Mt(t){return void 0===t&&(t=""),Ft(t).inc()}function kt(){}function Tt(t,n,e){if(Object(m.hasConsole)())qt(h.a.global.console,"log",function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];n.apply(this,e),t.apply(this,e)}),qt(h.a.global.console,"warn",function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.apply(this,e),n.apply(this,e)}),qt(h.a.global.console,"error",function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.apply(this,n),e.apply(this,n)});else{var r={log:t,warn:n,error:e};Object(m.hasWindow)()||(h.a.window={}),h.a.window.console=r}}function Lt(t,n,e){void 0===e&&(e=!0);var r=!0;return t||m.hasConsole&&(r=!1,console.error("Assertion failed: "+n)),r}function qt(t,n,e){var r=(t=Object(m.isNotUndefined)(t.prototype)?t.prototype:t)[n];t[n]=e.bind(t,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return 0!==n.length?r.apply(this||t,n):r.call(this||t)})}function Gt(t,n){for(var e=-1,r=!0;r&&++e<t;)r=!0!==n(e)}function Bt(t){return Array.prototype.slice.call(t)}var Zt=100;function Wt(t,n,e){void 0===n&&(n=Zt);var r,i,o=null,u=Object(m.isNotUndefined)(e)&&Object(m.isNotUndefined)(e.leading),s=!1;u||(r=new Promise(function(t,n){i=t,n}));var a=function(){for(var e=this,c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return null===o&&u&&(s=!0,r=t.apply(this,c)),a.resetTimer(),o=setTimeout(function(){if(o=null,!s){var n=t.apply(e,c);Object(m.isNotNullOrUndefined)(n)&&n.hasOwnProperty("then")?n.then(function(t){i(t)}):i(n)}s=!1},n),r};return a.resetTimer=function(){o&&(clearTimeout(o),o=null)},a}var Jt,Vt=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u},Ht=function(){function t(t){this.id="",this.parent=null,this.children=null,this.data=null,this.isDirty=!1,this._virtual=!1,this._size=1,this._leafCount=1,this._weight=1,this.id=Object(m.isNullOrUndefined)(t)?Ct():t}return t.fromObject=function(n){var e=this instanceof t?this:null,r=new t(n.id).init({data:n.data,parent:e,isDirty:!0});return void 0!==n.children&&Object(m.isArray)(n.children)&&(r.children=new Ot(rt(n.children,t.fromObject.bind(r)))),r},t.fromNodeList=function(n,e,r,i){void 0===r&&(r=!1),void 0===i&&(i=t);var o=new t,u=function(t){return e&&void 0!==e[t]?"string"==typeof e[t]?function(n){return n[e[t]]}:e[t]:"id"===t?Ct():function(n){return n[t]}},s={id:u("id"),parent:u("parent"),data:u("data")},a=new Ot(n),c=new Nt,h=a.map(function(t){return new i("").init({id:s.id(t),data:s.data(t),isDirty:!0})});h.forEach(function(t,n){c.has(t.id)||c.set(t.id,[]),c.get(t.id).push(t)});var l=new Ot;return a.forEach(function(t,n){var e=s.parent(t);c.contains(e)?c.get(e).forEach(function(t){return t.add(h.get(n))}):l.add(h.get(n))}),!1===r?o=l.first():(o=(new i).init({virtual:!0}),l.forEach(function(t){return o.add(t)})),o},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t.parent;)t=t.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childCount",{get:function(){return Object(m.isNull)(this.children)?0:this.children.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.isDirty?this.reCalculateSize().size:this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leafCount",{get:function(){return this.isDirty?this.reCalculateSize().leafCount:this._leafCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weight",{get:function(){return this._weight},set:function(t){var n=t!==this._weight;this._weight=t,n&&this.markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(t){var n=t!==this._virtual;this._virtual=t,n&&(this._weight=t?0:1,this.markAsDirty())},enumerable:!0,configurable:!0}),t.prototype.markAsDirty=function(){this.isDirty||(this.isDirty=!0,null!==this.parent&&this.parent.markAsDirty())},t.prototype.create=function(t){return new this.constructor(t)},t.prototype.init=function(t,n){return D(this,t),this},t.prototype.insertAt=function(n,e,r){var i;return null===this.children||this.children.count<=n?i=this.add(e):(e instanceof t?(i=e,e.parent=this):i=this.create(r).init({data:e,parent:this}),this.children.insertAt(n,i),this.markAsDirty()),i},t.prototype.add=function(t,n){var e;return null===this.children&&(this.children=new Ot),N(t,this)?((e=t).parent=this,this.children.add(e)):(e=this.create(n).init({data:t,parent:this}),this.children.add(e)),this.markAsDirty(),e},t.prototype.remove=function(){null!==this.parent&&(this.parent.children.remove(this),0===this.parent.children.count&&(this.parent.children=null),this.parent.markAsDirty())},t.prototype.prune=function(){return null!==this.children&&this.children.forEach(function(t,n){t.parent=null}).clear(),this.children=null,this.markAsDirty(),this},t.prototype.cut=function(){return this.remove(),this.parent=null,this},t.prototype.forEach=function(t,n){return void 0===n&&(n=0),t(this,n),this.children&&this.children.forEach(function(n,e){return n.forEach(t,e)}),this},t.prototype.reCalculateSize=function(){return this.aggregate(function(t,n,e){var r;return r=Vt(Object(m.isNull)(e)||0===e.length?[t._size,t._leafCount]:e.reduce(function(t,n){return[t[0]+n[0],t[1]+n[1]]},[t.weight,null===t.children||0===t.children.count?1:0]),2),t._size=r[0],t._leafCount=r[1],t.isDirty=!1,[t._size,t._leafCount]},function(t,n){return!t.isDirty}),this},t.prototype.aggregate=function(t,n,e){void 0===e&&(e=0);var r=Object(m.isNotNullOrUndefined)(n)&&n(this,e);return t(this,e,r||null===this.children?null:this.children.map(function(e,r){return e.aggregate(t,n,r)}).values,r)},t.prototype.reduce=function(t,n){var e,r,i=new Et,o=n||[];for(t||(t=function(t,n){return t.push({id:n.id,parent:n.parent?n.parent.id:null,data:n.data}),t}),i.push(this);e=i.pop();)for(o=t(o,e),r=e.children&&e.children.count||0;r--;)i.push(e.children.get(r));return o},t.prototype.clone=function(){var t=this.create();return t.id=this.id,t.children=null===this.children?null:this.children.clone(),null!==t.children&&t.children.forEach(function(n){return n.parent=t}),t.data=null===this.data||void 0===this.data?this.data:S(this.data),t},t.prototype.duplicateNode=function(){var t=this.create();return t.id=this.id,t.data=this.data,t},t.prototype.filter=function(t,n){void 0===n&&(n=null);var e=null;if(t(this)){e=this.duplicateNode();var r=this.children;e.parent=n,null!==r&&(e.children=r.select(t).map(function(n,r){return n.filter(t,e)}),0===e.children.length&&(e.children=null)),e.markAsDirty()}return e},t.prototype.select=function(t,n){void 0===n&&(n=new Ot);var e=n,r=this.children;return(void 0===t||t(this))&&e.add(this),r&&r.reduce(function(n,e){return e.select(t,n)},e),e},t.prototype._findBySize=function(t){var n;if(t<0||t>=this.size)n=null;else if(null===this.children||0===this.children.count||t<this.weight)n=this;else{var e=this.weight,r=0;this.children.until(function(n,r){return e+n.size>t},function(t,n){++r,e+=t.size}),n=this.children.get(r)._findBySize(t-e)}return n},t.prototype.find=function(t){var n=null;if(Object(m.isNumber)(t))n=this._findBySize(t);else if(null!==this.children)for(var e=-1,r=this.children.count,i=this.children.values;++e<r;){if(t(i[e])){n=i[e];break}if(null!==(n=null!==i[e].children?i[e].find(t):null))break}return n},t.prototype.getLeaf=function(t){var n;if(Object(m.isNull)(this.children))n=this;else if(t<0||t>=this.leafCount)n=null;else{if(this.leafCount===this.children.count)return this.children.get(t);var e=0,r=0;this.children.until(function(n,r){return e+n.leafCount>t},function(t,n){++r,e+=t.leafCount}),n=this.children.get(r).getLeaf(t-e)}return n},t.prototype.depth=function(){for(var t=0,n=this;n.parent;)n=n.parent,++t;return t},t.prototype.sort=function(t){return null!==this.children&&(this.children.orderBy(t),this.children.forEach(function(n){return n.sort(t)})),this},t.prototype.toJSON=function(){var t=new Ot;return this.forEach(function(n){t.push({id:n.id,data:n.data,parent:null===n.parent?null:n.parent.id,children:null===n.children?null:n.children.map(function(t){return t.id})})}),t.toJSON()},t.prototype.serialize=function(){var t=new Ot;return t.push({id:this.id,data:this.data,parent:null===this.parent?null:this.parent.id,children:null===this.children?null:this.children.map(function(t){return t.id})}),null!==this.children&&this.children.forEach(function(n){return t.append(n.serialize())}),t.serialize()},t}(),Kt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yt=function(t){function n(n,e,r){var i=t.call(this,n)||this;return i._indexer=e||function(t){return t.id},i._index=r,void 0!==r&&i._index.set(i.id,i),i}return Kt(n,t),Object.defineProperty(n.prototype,"index",{get:function(){var t=this;if(void 0===this._index){var n=new Nt;this.forEach(function(e){e._index!==n&&(e._index=n,t._index.set(t._indexer(e),e))})}return this._index},set:function(t){throw new Error("Not a settable property")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"indexer",{get:function(){return this._indexer},set:function(t){var n=this._indexer!==t;this._indexer=t,n&&this.reIndex()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_count",{get:function(){return this.index.count},enumerable:!0,configurable:!0}),n.prototype.reIndex=function(){var t=this,n=this.root;return this.index.clear(),n.forEach(function(n){t.index.set(t._indexer(n),n)}),this},n.prototype.get=function(t){return this.index.get(t)},n.prototype.addTo=function(t,n,e,r){void 0===r&&(r=!0);var i,o=this.index.get(t);return o&&(i=o.add(n,e,r)),i},n.prototype.add=function(n,e,r){var i=this;void 0===r&&(r=!0);var o=t.prototype.add.call(this,n,e);if(r){var u=this.index===o.index;u||(o._index=this.index),this.index.set(this._indexer(o),o),u||o.forEach(function(t){t._index=i._index,t._indexer=i._indexer,i.index.set(i._indexer(t),t)})}return o},n.prototype.remove=function(){var n=this.parent;t.prototype.remove.call(this),this.forEach(function(t){null!==n&&n.index.delete(n._indexer(t)),t._index=void 0}),this._index=void 0},n.prototype.insertAt=function(n,e,r,i){var o=this;void 0===i&&(i=!0);var u=t.prototype.insertAt.call(this,n,e,r);return i&&(this.index.set(this._indexer(u),u),u.forEach(function(t){t._index=o._index,t._indexer=o._indexer,o.index.set(o._indexer(t),t)})),u},n.prototype.clone=function(){var n=t.prototype.clone.call(this);return null===n.parent&&(n._index=new Nt,n.forEach(function(t){return t._index=n.index}),n.reIndex()),n},n.prototype.contains=function(t){return this.index.contains(t instanceof n?this._indexer(t):t)},n.prototype.prune=function(){var n=t.prototype.prune.call(this);return this.reIndex(),n},n.prototype.cut=function(){var n=t.prototype.cut.call(this);return n.reIndex(),n},n.prototype.filter=function(n,e){void 0===e&&(e=null);var r=t.prototype.filter.call(this,n,e);return null!==r&&null===r.parent&&r.reIndex(),r},n.fromObject=function(t,e){var r=this instanceof n?this:null,i=new n(t.id,e,r?r._index:void 0).init({data:t.data,parent:r});return i.index.set(i._indexer(i),i),void 0!==t.children&&Object(m.isArray)(t.children)&&(i.children=new Ot(rt(t.children,function(t,r){return n.fromObject.call(i,t,e)}))),i},n.fromNodeList=function(e,r,i){void 0===i&&(i=!1);var o=t.fromNodeList.call(this,e,r,i,n);return o.reIndex(),o},n}(Ht),Xt=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}};!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(Jt||(Jt={}));var Qt=function(){function t(){}return t.Sides=Jt,t._window=h.a.window,t._document=h.a.window?h.a.window.document:void 0,t._el=h.a.window?h.a.window.document.createElement("div"):void 0,t._parser=h.a.window?new DOMParser:void 0,t._template=h.a.window?h.a.window.document.createElement("template"):void 0,t._fragment=h.a.window?h.a.window.document.createDocumentFragment():void 0,t}();function $t(t){h.a.window=t,Qt._window=h.a.window,Qt._document=Qt._window.document,Qt._el=Qt._document.createElement("div")}function tn(t,n){var e,r=Qt._template&&Qt._template.content&&!0,i=Qt._parser&&!0;if(/^[a-zA-Z]+$/.test(t))e=h.a.window.document.createElement(t);else if(r){var o=Qt._template;o.innerHTML=t,e=o.content.firstChild,un(o.content)}else if(i){var u=Qt._parser.parseFromString(t,"text/xml"),s=Qt._fragment;s.appendChild(u.documentElement),e=s.firstChild,un(s)}else Qt._el.innerHTML=t,e=Qt._el.firstChild,un(Qt._el);return en(e,n),e}function nn(t){Qt._el.appendChild(t);var n=Qt._el.innerHTML;return un(Qt._el),n}function en(t,n){var e,r,i,o,u,s,a;if(e="string"==typeof t?sn(t):t,void 0!==n&&"object"==typeof n)for(r=Object.keys(n),i=0;i<r.length;i++)if("style"===r[i])for(u=n[r[i]],s=Object.keys(u),o=0;o<s.length;o++)"string"==typeof(a=u[s[o]])?e.style.setProperty(s[o],a):e.style.setProperty(s[o],a[0],a[1]);else"classes"!==r[i]&&"class"!==r[i]||void 0===n[r[i]]?e.setAttribute(r[i],n[r[i]]):n[r[i]].join?e.setAttribute("className",n[r[i]].join(" ")):e.setAttribute("className",n[r[i]])}function rn(t){return void 0===t.parentNode?null:t.parentNode.removeChild(t)}function on(t,n){var e=n;return t.parentNode&&t.parentNode.replaceChild(n,t),e}function un(t){for(var n=t.childNodes.length;n--;)t.removeChild(t.childNodes[n])}function sn(t){var n=Qt._document.getElementById(t);return null===n&&(n=Qt._document.body),n}function an(t){return Qt._document.querySelector(t)}function cn(t){return Array.prototype.slice.call(t)}function hn(t,n){return cn((n||Qt._document).querySelectorAll(t))}function ln(t,n){var e=cn((t||Qt._document).children);return void 0===n?e:e.filter(dn.bind(this,n))}function fn(t,n){for(var e=t.parentElement;e&&!dn(n,e);)e=e.parentElement;return e}function pn(t,n,e){t.style.top=e+"px",t.style.left=n+"px"}function dn(t,n){var e=!1;if(n.matches)e=n.matches(t);else if(n.msMatchesSelector)e=n.msMatchesSelector(t);else if(n.webkitMatchesSelector)e=n.webkitMatchesSelector(t);else{if(null===n.parentElement)throw new Error("Element has no parent");e=""!==n.id?null!==n.parentElement.querySelector("#"+n.id):-1!==cn(n.parentElement.querySelectorAll(t)).indexOf(n)}return e}function yn(t){for(var n,e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Qt._window.getComputedStyle(t);try{for(var u=Xt(r),s=u.next();!s.done;s=u.next()){var a=s.value;t.style[a]=o[a]}}catch(t){n={error:t}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}}var vn=function(){function t(){this._a=null,this.hash="",this.pathName="",this.port="",this.hostName="",this.protocol="",this.origin="",this.full="",this.args={},this.init()}return t.prototype.init=function(){if(null!==h.a.window){this._a=h.a.window.document.createElement("a"),this._a.setAttribute("href",h.a.window.location.href);var t=this.args;this._a.search.substring(1).split("&").forEach(function(n){var e=n.split("=");t[e[0]]=e[1]}),this.hash=this._a.hash,this.pathName=this._a.pathname,this.port=this._a.port,this.hostName=this._a.hostname,this.protocol=this._a.protocol,this.origin=this._a.origin,this.full=this._a.href}},t}(),_n=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gn=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u},bn=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(gn(arguments[n]));return t};function mn(t){return function(t){function n(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.apply(this,bn(n))||this}return _n(n,t),n.prototype.release=function(){this.__pool__.release(this)},n.prototype.initPool=function(t){this.__pool__=t},n}(t)}var xn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function On(t){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return xn(n,t),n.prototype.init=function(t,n){return D(this,t,n),this},n}(t)}function wn(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.apply(this,[i.name].concat(n)),i.apply(this,n)},r}}function jn(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=i.apply(this,n);return t.apply(this,[i.name].concat(n)),r},r}}function Nn(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n,e=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.apply(this,[function(){return n=i.apply(e,r)},i.name].concat(r)),n},r}}function En(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.apply(this,[i.name].concat(e))&&(n=i.apply(this,e)),n},r}}var An=function(t,n,e){var r=e.value;return e.value=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e,i){try{e(r.apply(t,n))}catch(t){i(t)}})},e};An.before=function(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise(function(r,o){var u=function(){i.apply(n,e).then(function(t){r(t)}).catch(function(t){o(t)})};t.apply(n,[i.name].concat(e)).then(function(t){u()}).catch(function(t){u()})})},r}},An.after=function(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise(function(r,o){var u=function(u,s){t.apply(n,[u,s,i.name].concat(e)).then(function(t){r(t)}).catch(function(t){o(t)})};i.apply(n,e).then(function(t){u(t,void 0)}).catch(function(t){u(void 0,t)})})},r}},An.provided=function(t){return function(n,e,r){var i=r.value;return r.value=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise(function(r,o){t.apply(n,[i.name].concat(e)).then(function(t){t?i.apply(n,e).then(function(t){r(t)}).catch(function(t){o(t)}):o(!1)}).catch(function(t){o(t)})})},r}};var In,Pn=function(){function t(t,n){void 0===n&&(n=10),this._pool=[],this._available=0,this._size=0,this._cls=t,this._growthStep=n,this.createNewInstances()}return Object.defineProperty(t.prototype,"available",{get:function(){return this._available},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.createNewInstances=function(){for(var t=0;t<this._growthStep;t++)this._pool.push(new this._cls);this._size+=this._growthStep,this._available+=this._growthStep},t.prototype.get=function(){var t;return 0===this._pool.length&&this.createNewInstances(),t=this._pool.pop(),--this._available,t.initPool(this),t},t.prototype.release=function(t){this._pool.push(t),++this._available},t}();!function(t){t[t.LinearInt=0]="LinearInt",t[t.RandomInt=1]="RandomInt",t[t.LinearFloat=2]="LinearFloat",t[t.RandomFloat=3]="RandomFloat"}(In||(In={}));var Sn=2147483647,zn=" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Un(t){void 0===t&&(t=25);for(var n="",e=0;e<t;e+=1)n+=zn.charAt(Math.floor(Math.random()*zn.length));return n}function Dn(t,n){return void 0===t&&(t=0),void 0===n&&(n=Sn),0|Cn(t,n)}function Cn(t,n){return void 0===t&&(t=0),void 0===n&&(n=Sn),Math.random()*(n-t)+t}function Rn(t,n,e,r){void 0===n&&(n=In.LinearInt),void 0===e&&(e=0),void 0===r&&(r=Sn);var i=new Array(t);switch(n){case In.RandomInt:for(var o=0;o<t;o+=1)i[o]=Dn(e,r);break;case In.LinearFloat:for(o=0;o<t;o+=1)i[o]=o+.5;break;case In.RandomFloat:for(o=0;o<t;o+=1)i[o]=Cn(e,r);break;default:for(o=0;o<t;o+=1)i[o]=o}return i}function Fn(t,n){for(var e=new Array(t),r=-1;++r<t;)e[r]=Un(n);return e}var Mn=function(){return function(){}}(),kn=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}};function Tn(t){var n,e,c=!1,l=[{name:"Arr",object:o},{name:"Calc",object:r},{name:"Dom",object:s},{name:"MocData",object:a},{name:"Obj",object:i},{name:"Initable",object:On},{name:"Poolable",object:mn},{name:"Pool",object:Pn},{name:"Dictionary",object:Nt},{name:"KeyValuePair",object:Mn},{name:"List",object:Ot},{name:"Range2",object:g},{name:"Rect",object:b},{name:"Stack",object:Et},{name:"Tree",object:Ht},{name:"Vec2",object:_},{name:"Test",object:m},{name:"Timer",object:It},{name:"Uri",object:vn},{name:"Util",object:u}];"string"==typeof t&&(h.a.window[t]={},c=!0);try{for(var f=kn(l),p=f.next();!p.done;p=f.next()){var d=p.value;c?h.a.window[t][d.name]=d.object:h.a.window[d.name]=d.object}}catch(t){n={error:t}}finally{try{p&&!p.done&&(e=f.return)&&e.call(f)}finally{if(n)throw n.error}}}function Ln(t,n){return function(e,r,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:i.enumerable,value:Wt(i.value,t,n)}),this[r]}}}}function qn(t,n,e){var r,i=e.value,o=!0;return e.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o&&(r=i.apply(this,t),o=!1),r},e}function Gn(t,n){return function(e,r,i){var o=i.value,u=Object(m.isNotUndefined)(n)?n.replace("{name}",r).replace("{instead}",t||""):"Function {name} is deprecated".replace("{name}",r)+(Object(m.isNotNullOrUndefined)(t)?" please use {instead} instead".replace("{instead}",t):""),s=!1;return i.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s||console.warn(u),o.apply(this,t)},i}}e.d(n,"Global",function(){return h.a}),e.d(n,"Vec2",function(){return _}),e.d(n,"Vec2Const",function(){return v}),e.d(n,"Range2",function(){return g}),e.d(n,"Rect",function(){return b}),e.d(n,"List",function(){return Ot}),e.d(n,"SortedList",function(){return wt}),e.d(n,"Dictionary",function(){return Nt}),e.d(n,"Stack",function(){return Et}),e.d(n,"Tree",function(){return Ht}),e.d(n,"IndexedTree",function(){return Yt}),e.d(n,"Calc",function(){return r}),e.d(n,"Dom",function(){return s}),e.d(n,"Arr",function(){return o}),e.d(n,"Obj",function(){return i}),e.d(n,"Util",function(){return u}),e.d(n,"Test",function(){return m}),e.d(n,"Timer",function(){return It}),e.d(n,"Uri",function(){return vn}),e.d(n,"Poolable",function(){return mn}),e.d(n,"Initable",function(){return On}),e.d(n,"before",function(){return wn}),e.d(n,"after",function(){return jn}),e.d(n,"around",function(){return Nn}),e.d(n,"provided",function(){return En}),e.d(n,"async",function(){return An}),e.d(n,"Pool",function(){return Pn}),e.d(n,"integrate",function(){return Tn}),e.d(n,"MocData",function(){return a}),e.d(n,"KeyValuePair",function(){return Mn}),e.d(n,"Decorators",function(){return c})}])});