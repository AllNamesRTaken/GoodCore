{"version":3,"file":"goodcore.es5.iife.min.js","sources":["lib/Calc.js","lib/Test.js","lib/Obj.js","lib/Arr.js","lib/standard/mixins/Initable.js","lib/Util.js","lib/Dom.js","lib/standard/mixins/Poolable.js","lib/Global.js","lib/struct/Vec2.js","lib/struct/Rect.js","lib/struct/Range2.js","lib/struct/Dictionary.js","lib/struct/List.js","lib/struct/SortedList.js","lib/struct/Stack.js","lib/Timer.js","lib/struct/Tree.js","lib/Uri.js","lib/standard/AsyncCombinators.js","lib/standard/Pool.js","lib/MocData.js","lib/struct/KeyValuePair.js","lib/Integration.js","lib/standard/Combinators.js"],"sourcesContent":["var CalcConst = (function () {\n    function CalcConst() {\n    }\n    CalcConst.ROTATION_DEGREE_PRECISION = 1;\n    CalcConst.RADIAN_FACTOR = (1 / 360) * (2 * Math.PI);\n    CalcConst.DEGREE_FACTOR = (1 / (2 * Math.PI) * 360);\n    CalcConst.DEG360 = 360 * CalcConst.ROTATION_DEGREE_PRECISION;\n    CalcConst.ROTATION_LOOKUP = (function () {\n        var lookup = [];\n        for (var i = 0; i < 360 * CalcConst.ROTATION_DEGREE_PRECISION; i++) {\n            lookup.push([Math.cos(i * CalcConst.RADIAN_FACTOR), Math.sin(i * CalcConst.RADIAN_FACTOR)]);\n        }\n        return lookup;\n    })();\n    return CalcConst;\n}());\nexport { CalcConst };\nexport function sign(x) {\n    return typeof x === \"number\" ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\n}\nexport function rotationDeg(rotation) {\n    var deg = (rotation * CalcConst.ROTATION_DEGREE_PRECISION) | 0;\n    while (deg < 0) {\n        deg += CalcConst.DEG360;\n    }\n    while (deg >= CalcConst.DEG360) {\n        deg -= CalcConst.DEG360;\n    }\n    return CalcConst.ROTATION_LOOKUP[deg];\n}\nexport function rotationRad(rotation) {\n    var deg = rotation * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\n    return this.rotationDeg(deg / CalcConst.ROTATION_DEGREE_PRECISION);\n}\nexport function closestRadianRotation(radian) {\n    var deg = radian * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\n    while (deg < 0) {\n        deg += CalcConst.DEG360;\n    }\n    while (deg >= CalcConst.DEG360) {\n        deg -= CalcConst.DEG360;\n    }\n    return deg * CalcConst.RADIAN_FACTOR / CalcConst.ROTATION_DEGREE_PRECISION;\n}\n//# sourceMappingURL=Calc.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Global } from \"./Global\";\nexport function hasWindow() {\n    return Global.window !== null;\n}\nexport function hasConsole() {\n    return this.hasWindow() && Global.window.console !== undefined || typeof (console) === \"function\";\n}\nexport function isArray(it) {\n    return Array.isArray ? Array.isArray(it) : Object.prototype.toString.call(it) === \"[object Array]\";\n}\nexport function isElement(target) {\n    return target !== undefined && target !== null && target.nodeType === 1 ? true : false;\n}\nexport function isFunction(it) {\n    return Object.prototype.toString.call(it) === \"[object Function]\";\n}\nexport function isNumber(x) {\n    return x === +x;\n}\nexport function isInt(x) {\n    return isNumber(x) && (x === (x | 0));\n}\nexport function isString(x) {\n    return isNotNullOrUndefined(x) && x.constructor === String;\n}\nexport function areNullOrUndefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var len = args.length;\n    var i = -1;\n    var a;\n    var result = false;\n    while (!result && ++i < len) {\n        a = args[i];\n        result = a === undefined || a === null;\n    }\n    return result;\n}\nexport function areNotNullOrUndefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return !areNullOrUndefined.apply(void 0, __spread(args));\n}\nexport function isNullOrUndefined(arg) {\n    return arg === undefined || arg === null;\n}\nexport function isNotNullOrUndefined(arg) {\n    return !isNullOrUndefined(arg);\n}\nexport function areUndefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var len = args.length;\n    var i = -1;\n    var a;\n    var result = false;\n    while (!result && ++i < len) {\n        a = args[i];\n        result = a === undefined;\n    }\n    return result;\n}\nexport function areNotUndefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return !areUndefined.apply(void 0, __spread(args));\n}\nexport function isUndefined(arg) {\n    return arg === undefined;\n}\nexport function isNotUndefined(arg) {\n    return !isUndefined(arg);\n}\n//# sourceMappingURL=Test.js.map","import { deepCopy, flatten } from \"./Arr\";\nimport { areNotNullOrUndefined, isArray, isFunction } from \"./Test\";\nexport function destroy(obj) {\n    if (obj.constructor.prototype.destroy !== undefined) {\n        obj.destroy();\n    }\n    else {\n        setNull(obj);\n    }\n}\nexport function wipe(obj) {\n    var keys = Object.keys(obj);\n    var i = -1;\n    var len = keys.length;\n    while (++i < len) {\n        delete obj[keys[i]];\n    }\n}\nexport function setNull(obj) {\n    if (obj.constructor.prototype.clear !== undefined) {\n        obj.clear();\n    }\n    else {\n        var keys = Object.keys(obj);\n        var key = null;\n        var i = -1;\n        var len = keys.length;\n        while (++i < len) {\n            key = keys[i];\n            obj[key] = null;\n        }\n    }\n}\nexport function isClassOf(a, b) {\n    return areNotNullOrUndefined(a, b) && a instanceof b.constructor;\n}\nexport function isSameClass(a, b) {\n    return areNotNullOrUndefined(a, b) && a.constructor === b.constructor;\n}\nexport function inherits(a, b) {\n    return isClassOf(a, b) && !isSameClass(a, b);\n}\nexport function equals(a, b) {\n    var result = a === b;\n    if (a !== b && (a instanceof Object) && isSameClass(a, b)) {\n        if (isArray(a)) {\n            var len = a.length;\n            var i = 0;\n            result = len === b.length;\n            if (result) {\n                for (; i < len; i += 1) {\n                    result = equals(a[i], b[i]);\n                    if (result === false) {\n                        break;\n                    }\n                }\n            }\n        }\n        else if (a.constructor.prototype.equals) {\n            result = a.equals(b);\n        }\n        else {\n            var keys = Object.keys(a);\n            var key = null;\n            result = true;\n            var i = -1;\n            var len = keys.length;\n            while (++i < len) {\n                key = keys[i];\n                result = equals(a[key], b[key]);\n                if (!result) {\n                    if (isFunction(a[key])) {\n                        result = true;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    return result;\n}\nexport function isDifferent(a, b) {\n    return !equals(a, b);\n}\nexport function shallowCopy(obj) {\n    var keys = Object.keys(obj);\n    var result = {};\n    var i = -1;\n    var len = keys.length;\n    while (++i < len) {\n        var key = keys[i];\n        result[key] = obj[key];\n    }\n    return result;\n}\nexport function clone(obj) {\n    var result;\n    if (!(obj instanceof Object)) {\n        result = obj;\n    }\n    else if (obj.constructor.prototype.clone !== undefined) {\n        result = obj.clone();\n    }\n    else if (isArray(obj)) {\n        result = deepCopy(obj);\n    }\n    else if (obj instanceof Date) {\n        return new Date(obj.getTime());\n    }\n    else if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n    else {\n        result = new obj.constructor();\n        var keys = Object.keys(obj);\n        var key = null;\n        var i = -1;\n        var len = keys.length;\n        while (++i < len) {\n            key = keys[i];\n            result[key] = clone(obj[key]);\n        }\n    }\n    return result;\n}\nexport function cloneInto(src, target) {\n    if (isArray(target)) {\n        var arrS = src;\n        var arrT = target;\n        var len = arrS.length;\n        arrT.length = len;\n        var i = -1;\n        while (++i < len) {\n            if (arrS[i] instanceof Object) {\n                cloneInto(arrS[i], arrT[i]);\n            }\n            else {\n                arrT[i] = arrS[i];\n            }\n        }\n    }\n    else {\n        var keys = Object.keys(src);\n        var key = null;\n        var i = -1;\n        var len = keys.length;\n        while (++i < len) {\n            key = keys[i];\n            var a = src[key];\n            if (a instanceof Object) {\n                var b = target[key];\n                if (b === undefined || b === null) {\n                    if (isArray(a)) {\n                        b = target[key] = [];\n                    }\n                    else {\n                        b = target[key] = {};\n                    }\n                }\n                if (isDifferent(a, b)) {\n                    cloneInto(a, b);\n                }\n            }\n            else {\n                target[key] = a;\n            }\n        }\n    }\n    return target;\n}\nexport function mixin(target, exclude) {\n    if (target === void 0) { target = {}; }\n    var sources = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        sources[_i - 2] = arguments[_i];\n    }\n    var result = target, len = sources ? sources.length : 0;\n    var i = 0;\n    sources = flatten(sources);\n    for (; i < len; i++) {\n        var src = sources[i];\n        if (isFunction(src)) {\n            src = src.prototype;\n        }\n        if (src === undefined) {\n            continue;\n        }\n        var keys = Object.keys(src);\n        var key = null;\n        if (exclude) {\n            var i_1 = -1;\n            var len_1 = keys.length;\n            while (++i_1 < len_1) {\n                key = keys[i_1];\n                if (exclude.hasOwnProperty(key)) {\n                    continue;\n                }\n                target[key] = src[key];\n            }\n        }\n        else {\n            var i_2 = -1;\n            var len_2 = keys.length;\n            while (++i_2 < len_2) {\n                key = keys[i_2];\n                target[key] = src[key];\n            }\n        }\n    }\n    return result;\n}\nexport function setProperties(target, values, mapping) {\n    var keys = Object.keys(values);\n    var key;\n    var value;\n    var i = -1;\n    var len = keys.length;\n    while (++i < len) {\n        key = keys[i];\n        value = values[key];\n        if (mapping && key in mapping) {\n            key = mapping[key];\n        }\n        if (key in target) {\n            target[key] = values[keys[i]];\n        }\n    }\n}\n//# sourceMappingURL=Obj.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { clone, setProperties } from \"./Obj\";\nimport { isArray, isNullOrUndefined, isNumber, isUndefined, isNotUndefined } from \"./Test\";\nvar ArrayState = (function () {\n    function ArrayState() {\n    }\n    return ArrayState;\n}());\nexport function flatten(src) {\n    return flattenInner(src);\n}\nfunction flattenInner(src, result) {\n    if (result === void 0) { result = []; }\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        if (isArray(src[i])) {\n            flattenInner(src[i], result);\n        }\n        else {\n            result.push(src[i]);\n        }\n    }\n    return result;\n}\nexport function reverse(array) {\n    var left = null;\n    var right = null;\n    var length = isNullOrUndefined(array) ? 0 : array.length;\n    for (left = 0; left < length / 2; left += 1) {\n        right = length - 1 - left;\n        var temporary = array[left];\n        array[left] = array[right];\n        array[right] = temporary;\n    }\n    return array;\n}\nexport function concat() {\n    var arrs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        arrs[_i] = arguments[_i];\n    }\n    var result = Array.prototype.concat.apply([], arrs);\n    return result;\n}\nexport function slice(src, from, count) {\n    if (from === void 0) { from = 0; }\n    if (count === void 0) { count = Infinity; }\n    var len = Math.min(isNullOrUndefined(src) ? 0 : src.length - from, count);\n    if (len < 0) {\n        len = 0;\n    }\n    var i = -1;\n    var result = new Array(len);\n    while (++i < len) {\n        result[i] = src[i + from];\n    }\n    return result;\n}\nexport function splice(src, pos, remove, insert) {\n    if (pos === void 0) { pos = 0; }\n    if (remove === void 0) { remove = Infinity; }\n    if (insert === void 0) { insert = []; }\n    if (isNullOrUndefined(src)) {\n        throw new Error(\"Unable to splice on null or undefined\");\n    }\n    var srcLen = src.length;\n    pos = Math.max(0, pos);\n    pos = Math.min(pos, srcLen);\n    remove = Math.max(0, remove);\n    remove = Math.min(remove, srcLen - pos);\n    var insertLen = insert.length;\n    var newLen = srcLen - remove + insertLen;\n    var delta = remove - insertLen;\n    if (delta < 0) {\n        src.length = newLen;\n        var i_1 = newLen;\n        while (--i_1 >= pos + remove) {\n            src[i_1] = src[i_1 + delta];\n        }\n    }\n    var i = pos - 1;\n    while (++i < pos + insertLen) {\n        src[i] = insert[i - pos];\n    }\n    if (delta > 0) {\n        --i;\n        while (++i < srcLen - delta) {\n            src[i] = src[i + delta];\n        }\n        src.length = newLen;\n    }\n}\nexport function append(arr, values) {\n    var index = -1;\n    var offset = arr.length;\n    var length = isNullOrUndefined(values) ? 0 : values.length;\n    while (++index < length) {\n        arr[offset + index] = values[index];\n    }\n}\nexport function removeAt(arr, index) {\n    var result;\n    var len = isNullOrUndefined(arr) ? 0 : arr.length;\n    if (index >= 0 && index < len) {\n        var i = index;\n        result = arr[index];\n        while (++i < len) {\n            arr[i - 1] = arr[i];\n        }\n        arr.length -= 1;\n    }\n    return result;\n}\nexport function indexOfElement(src, el) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        if (src[i] === el) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function remove(arr, el) {\n    var start = indexOfElement(arr, el);\n    removeAt(arr, start);\n}\nexport function indexOf(src, fn) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        if (fn(src[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function removeOneByFn(arr, fn) {\n    var start = indexOf(arr, fn);\n    removeAt(arr, start);\n}\nexport function shallowCopy(src) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var result = new Array(len);\n    while (++i < len) {\n        result[i] = src[i];\n    }\n    return result;\n}\nexport function shallowCopyInto(src, target) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    target.length = len;\n    while (++i < len) {\n        target[i] = src[i];\n    }\n}\nexport function shallowFill(src, target, at) {\n    if (at === void 0) { at = 0; }\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    if (target.length < len + at) {\n        target.length = len + at;\n    }\n    while (++i < len) {\n        target[at + i] = src[i];\n    }\n}\nexport function deepCopy(src) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var result = new Array(len);\n    while (++i < len) {\n        result[i] = (clone(src[i]));\n    }\n    return result;\n}\nexport function deepCopyInto(src, target) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    target.length = len;\n    while (++i < len) {\n        target[i] = (clone(src[i]));\n    }\n}\nexport function deepFill(src, target, at) {\n    if (at === void 0) { at = 0; }\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    if (target.length < len + at) {\n        target.length = len + at;\n    }\n    while (++i < len) {\n        target[at + i] = (clone(src[i]));\n    }\n}\nexport function filter(src, fn) {\n    var result = [];\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        var el = src[i];\n        if (fn(el, i) === true) {\n            result.push(el);\n        }\n    }\n    return result;\n}\nexport function filterInto(src, target, fn) {\n    var i = -1;\n    var j = 0;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var space = target.length;\n    while (++i < len) {\n        var el = src[i];\n        if (fn(el, i) === true) {\n            if (j < space) {\n                target[j++] = el;\n            }\n            else {\n                ++j;\n                target.push(el);\n            }\n        }\n    }\n    target.length = j;\n}\nexport function map(src, fn) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var result = new Array(len);\n    while (++i < len) {\n        result[i] = fn(src[i], i);\n    }\n    return result;\n}\nexport function mapInto(src, target, fn) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    target.length = len;\n    while (++i < len) {\n        target[i] = fn(src[i], i);\n    }\n}\nexport function reduce(src, fn, start) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var acc = start;\n    while (++i < len) {\n        acc = fn(acc, src[i]);\n    }\n    return acc;\n}\nexport function reduceUntil(src, fn, test, start) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    var acc = start;\n    while (++i < len && !test(acc, src[i])) {\n        acc = fn(acc, src[i]);\n    }\n    return acc;\n}\nexport function reverseReduce(src, fn, start) {\n    var i = isNullOrUndefined(src) ? 0 : src.length;\n    var acc = start;\n    while (--i >= 0) {\n        acc = fn(acc, src[i]);\n    }\n    return acc;\n}\nexport function reverseReduceUntil(src, fn, test, start) {\n    var i = isNullOrUndefined(src) ? 0 : src.length;\n    var acc = start;\n    while (--i >= 0 && !test(acc, src[i])) {\n        acc = fn(acc, src[i]);\n    }\n    return acc;\n}\nexport function forEach(src, fn, startIndex) {\n    if (startIndex === void 0) { startIndex = 0; }\n    var i = startIndex - 1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        fn(src[i], i);\n    }\n}\nexport function forSome(src, filter, fn) {\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len) {\n        var el = src[i];\n        if (filter(el, i)) {\n            fn(el, i);\n        }\n    }\n}\nexport function until(src, fnOrTest, fn, startIndex) {\n    var isCombined = isUndefined(fn) || isNumber(fn);\n    startIndex = isCombined ? fn : startIndex;\n    var i = isUndefined(startIndex) || startIndex < 0 ? -1 : startIndex - 1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len && (isCombined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\n    }\n}\nexport function reverseForEach(src, fn) {\n    var i = isNullOrUndefined(src) ? 0 : src.length;\n    while (--i >= 0) {\n        fn(src[i], i);\n    }\n}\nexport function reverseUntil(src, fnOrTest, fn) {\n    var i = isNullOrUndefined(src) ? 0 : src.length;\n    var combined = isUndefined(fn);\n    while (--i >= 0 && (combined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\n    }\n}\nexport function some(src, fn) {\n    var result = false;\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len && !(result = fn(src[i]))) {\n    }\n    return result;\n}\nexport function all(src, fn) {\n    var result = true;\n    var i = -1;\n    var len = isNullOrUndefined(src) ? 0 : src.length;\n    while (++i < len && (result = fn(src[i]))) {\n    }\n    return result;\n}\nexport function insertAt(src, pos, v) {\n    if (isNullOrUndefined(src)) {\n        throw new Error(\"Unable to insertAt on null or undefined\");\n    }\n    if (pos === 0) {\n        src.unshift(v);\n    }\n    else if (pos > 0) {\n        var i = src.length;\n        while (--i >= pos) {\n            src[i + 1] = src[i];\n        }\n        src[i + 1] = v;\n    }\n}\nexport function binarySearch(src, cmp, closest) {\n    if (closest === void 0) { closest = false; }\n    var lo = 0, hi = isNullOrUndefined(src) ? -1 : src.length - 1, mid, element;\n    while (lo <= hi) {\n        mid = ((lo + hi) >> 1);\n        element = src[mid];\n        var val = cmp(element);\n        if (val < 0) {\n            lo = mid + 1;\n        }\n        else if (val > 0) {\n            hi = mid - 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return closest ? lo : -1;\n}\nexport function create(length, populator) {\n    if ((length || -1) < 0) {\n        length = 0;\n    }\n    var arr = new Array(length);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = populator(i, arr);\n    }\n    return arr;\n}\nexport function deserialize(array, target) {\n    var types = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        types[_i - 2] = arguments[_i];\n    }\n    var _a = __read(types), T = _a[0], passthroughT = _a.slice(1);\n    if (isNotUndefined(T)) {\n        if (isNotUndefined(T.prototype.deserialize)) {\n            mapInto(array, target, function (el) {\n                return (_a = (new T())).deserialize.apply(_a, __spread([el], passthroughT));\n                var _a;\n            });\n        }\n        else {\n            mapInto(array, target, function (el) {\n                var newT = new T();\n                setProperties(newT, el);\n                return newT;\n            });\n        }\n    }\n    else {\n        deepCopyInto(array, target);\n    }\n    return this;\n}\n//# sourceMappingURL=Arr.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { setProperties } from \"../../Obj\";\nexport function Initable(constructor) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.init = function (obj, mapping) {\n            setProperties(this, obj, mapping);\n            return this;\n        };\n        return class_1;\n    }(constructor));\n}\n//# sourceMappingURL=Initable.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Global } from \"./Global\";\nimport { hasConsole, hasWindow, isNotUndefined } from \"./Test\";\nimport { Timer } from \"./Timer\";\nvar LoggableCounter = (function () {\n    function LoggableCounter(name) {\n        if (name === void 0) { name = \"\"; }\n        this.name = \"\";\n        this._value = 0;\n        this.name = name;\n    }\n    LoggableCounter.prototype.log = function () {\n        console.log(\"Counter \" + this.name + \": \" + this.toString());\n    };\n    LoggableCounter.prototype.inc = function () {\n        this._value++;\n        return this;\n    };\n    LoggableCounter.prototype.reset = function () {\n        this._value = 0;\n        return this;\n    };\n    LoggableCounter.prototype.valueOf = function () {\n        return this._value;\n    };\n    LoggableCounter.prototype.toString = function () {\n        return this._value.toString();\n    };\n    return LoggableCounter;\n}());\nvar UtilState = (function () {\n    function UtilState() {\n    }\n    UtilState._int = { \"0\": 0 };\n    UtilState._counter = { \"\": new LoggableCounter(\"\") };\n    return UtilState;\n}());\nexport function init(win) {\n    if (win !== undefined) {\n        Global.window = win;\n    }\n}\nexport function getFunctionName(fn) {\n    var result;\n    if (fn.hasOwnProperty(\"name\") !== undefined) {\n        result = fn.name;\n    }\n    else {\n        var fnString = fn.toString();\n        result = fnString.substring(9, fnString.indexOf(\"(\"));\n    }\n    return result;\n}\nexport function getFunctionCode(fn) {\n    var result;\n    var fnString = fn.toString();\n    result = fnString.substring(fnString.indexOf(\"{\") + 1, fnString.lastIndexOf(\"}\"));\n    return result;\n}\nexport function newUUID() {\n    var d = new Date().getTime();\n    d += Timer.now();\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\nexport function newInt(key) {\n    if (key === void 0) { key = 0; }\n    if (UtilState._int[key] === undefined) {\n        UtilState._int[key] = 0;\n    }\n    return UtilState._int[key]++;\n}\nexport function counter(key) {\n    if (key === void 0) { key = \"\"; }\n    if (UtilState._counter[key] === undefined) {\n        UtilState._counter[key] = new LoggableCounter(key.toString());\n    }\n    return UtilState._counter[key];\n}\nexport function count(key) {\n    if (key === void 0) { key = \"\"; }\n    return counter(key).inc();\n}\nexport function callDebugger() {\n    debugger;\n}\nexport function pipeOut(log, warn, error) {\n    if (hasConsole()) {\n        proxyFn(console, \"log\", function (superfn) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            superfn.apply(void 0, __spread(args));\n            log.apply(void 0, __spread(args));\n        });\n        proxyFn(console, \"warn\", function (superfn) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            superfn.apply(void 0, __spread(args));\n            warn.apply(void 0, __spread(args));\n        });\n        proxyFn(console, \"error\", function (superfn) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            superfn.apply(void 0, __spread(args));\n            error.apply(void 0, __spread(args));\n        });\n    }\n    else {\n        var console_1 = {\n            log: log,\n            warn: warn,\n            error: error\n        };\n        if (!(hasWindow())) {\n            Global.window = {};\n        }\n        Global.window.console = console_1;\n    }\n}\nexport function assert(assertion, message, isDebug) {\n    if (isDebug === void 0) { isDebug = true; }\n    var result = true;\n    if (!assertion) {\n        if (hasConsole) {\n            result = false;\n            console.error(\"Assertion failed: \" + message);\n        }\n        if (isDebug) {\n            callDebugger();\n        }\n    }\n    return result;\n}\nexport function proxyFn(objOrClass, fnName, proxyFn) {\n    objOrClass = isNotUndefined(objOrClass.prototype) ? objOrClass.prototype : objOrClass;\n    var fn = objOrClass[fnName];\n    var _superFn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (args.length !== 0) {\n            return fn.apply(this || objOrClass, args);\n        }\n        else {\n            return fn.call(this || objOrClass);\n        }\n    };\n    objOrClass[fnName] = proxyFn.bind(objOrClass, _superFn);\n}\nexport function loop(count, fn) {\n    var i = -1;\n    while (++i < count) {\n        fn(i);\n    }\n}\nexport function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n}\n//# sourceMappingURL=Util.js.map","var __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nimport { Global } from \"./Global\";\nexport var Sides;\n(function (Sides) {\n    Sides[Sides[\"Top\"] = 0] = \"Top\";\n    Sides[Sides[\"Bottom\"] = 1] = \"Bottom\";\n    Sides[Sides[\"Left\"] = 2] = \"Left\";\n    Sides[Sides[\"Right\"] = 3] = \"Right\";\n})(Sides || (Sides = {}));\nvar DomState = (function () {\n    function DomState() {\n    }\n    DomState.Sides = Sides;\n    DomState._window = Global.window;\n    DomState._document = Global.window ? Global.window.document : undefined;\n    DomState._el = Global.window ? Global.window.document.createElement(\"div\") : undefined;\n    return DomState;\n}());\nexport function init(win) {\n    Global.window = win;\n    DomState._window = Global.window;\n    DomState._document = DomState._window.document;\n    DomState._el = DomState._document.createElement(\"div\");\n}\nexport function toArray(a) {\n    return Array.prototype.slice.call(a);\n}\nexport function create(html, attr) {\n    var result, keys, i, k, styles, styleKeys;\n    DomState._el.innerHTML = html;\n    result = DomState._el.children[0];\n    setAttr(result, attr);\n    clear(DomState._el);\n    return result;\n}\nexport function outerHTML(el) {\n    DomState._el.appendChild(el);\n    var result = DomState._el.innerHTML;\n    clear(DomState._el);\n    return result;\n}\nexport function setAttr(_el, attr) {\n    var el;\n    if (typeof (_el) === \"string\") {\n        el = get(_el);\n    }\n    else {\n        el = _el;\n    }\n    var keys, i, k, styles, styleKeys, style;\n    if (attr !== undefined && typeof (attr) === \"object\") {\n        keys = Object.keys(attr);\n        for (i = 0; i < keys.length; i++) {\n            if (keys[i] === \"style\") {\n                styles = attr[keys[i]];\n                styleKeys = Object.keys(styles);\n                for (k = 0; k < styleKeys.length; k++) {\n                    style = styles[styleKeys[k]];\n                    if (typeof (style) === \"string\") {\n                        el.style.setProperty(styleKeys[k], style);\n                    }\n                    else {\n                        el.style.setProperty(styleKeys[k], style[0], style[1]);\n                    }\n                }\n            }\n            else if (keys[i] === \"classes\" && attr[keys[i]] !== undefined && attr[keys[i]].join) {\n                el.setAttribute(\"className\", attr[keys[i]].join(\" \"));\n            }\n            else {\n                el.setAttribute(keys[i], attr[keys[i]]);\n            }\n        }\n    }\n}\nexport function remove(element) {\n    return element.parentNode === undefined ? null : element.parentNode.removeChild(element);\n}\nexport function replace(src, target) {\n    var result = target;\n    if (src.parentNode) {\n        src.parentNode.replaceChild(target, src);\n    }\n    return result;\n}\nexport function clear(element) {\n    var i = element.children.length;\n    while (i--) {\n        element.removeChild(element.children[i]);\n    }\n}\nexport function get(id) {\n    var result = DomState._document.getElementById(id);\n    if (result === null) {\n        switch (id) {\n            default:\n                result = DomState._document.body;\n                break;\n        }\n    }\n    return result;\n}\nexport function find(selector) {\n    return DomState._document.querySelector(selector);\n}\nexport function findAll(selector, root) {\n    return toArray((root || DomState._document).querySelectorAll(selector));\n}\nexport function children(root, selector) {\n    var children = toArray((root || DomState._document).children);\n    return selector === undefined ? children : children.filter(is.bind(this, selector));\n}\nexport function findParent(root, selector) {\n    var result = root.parentElement;\n    while (result) {\n        if (is(selector, result)) {\n            break;\n        }\n        result = result.parentElement;\n    }\n    return result;\n}\nexport function position(el, x, y) {\n    el.style.top = y + \"px\";\n    el.style.left = x + \"px\";\n}\nexport function is(selector, element) {\n    var result = false;\n    if (element.matches) {\n        result = element.matches(selector);\n    }\n    else if (element.msMatchesSelector) {\n        result = element.msMatchesSelector(selector);\n    }\n    else if (element.webkitMatchesSelector) {\n        result = element.webkitMatchesSelector(selector);\n    }\n    else {\n        if (element.parentElement === null) {\n            throw new Error(\"Element has no parent\");\n        }\n        if (element.id !== \"\") {\n            result = element.parentElement.querySelector(\"#\" + element.id) !== null;\n        }\n        else {\n            result = toArray(element.parentElement.querySelectorAll(selector)).indexOf(element) !== -1;\n        }\n    }\n    return result;\n}\nexport function setStylesExplicitly(element) {\n    var styles = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        styles[_i - 1] = arguments[_i];\n    }\n    var comp = DomState._window.getComputedStyle(element);\n    try {\n        for (var styles_1 = __values(styles), styles_1_1 = styles_1.next(); !styles_1_1.done; styles_1_1 = styles_1.next()) {\n            var style = styles_1_1.value;\n            element.style[style] = comp[style];\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (styles_1_1 && !styles_1_1.done && (_a = styles_1.return)) _a.call(styles_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    var e_1, _a;\n}\n//# sourceMappingURL=Dom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nexport function Poolable(constructor) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return _super.apply(this, __spread(args)) || this;\n        }\n        class_1.prototype.release = function () {\n            this.__pool__.release(this);\n        };\n        class_1.prototype.initPool = function (pool) {\n            this.__pool__ = pool;\n        };\n        return class_1;\n    }(constructor));\n}\n//# sourceMappingURL=Poolable.js.map","var nativeWindow = true;\nvar win;\nif (typeof (window) === \"undefined\") {\n    win = null;\n    nativeWindow = false;\n}\nelse {\n    win = window;\n}\nvar _Global = (function () {\n    function _Global() {\n        this._window = win;\n        this._nativeWindow = nativeWindow;\n    }\n    Object.defineProperty(_Global.prototype, \"window\", {\n        get: function () {\n            return this._window;\n        },\n        set: function (v) {\n            this._window = v;\n            if (this.hasNativeWindow) {\n                win = v;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(_Global.prototype, \"hasNativeWindow\", {\n        get: function () {\n            return this._nativeWindow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return _Global;\n}());\nexport { _Global };\nexport var Global = new _Global();\n//# sourceMappingURL=Global.js.map","import { rotationRad } from \"../Calc\";\nvar Vec2Const = (function () {\n    function Vec2Const() {\n    }\n    Vec2Const.EPSILON = 1e-8;\n    Vec2Const.IDENTITY = { x: 1, y: 1 };\n    Vec2Const.X_DIM = { x: 1, y: 0 };\n    Vec2Const.Y_DIM = { x: 0, y: 1 };\n    return Vec2Const;\n}());\nexport { Vec2Const };\nvar Vec2 = (function () {\n    function Vec2(x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        this.angle = this.horizontalAngle;\n        this.direction = this.horizontalAngle;\n        this.x = x;\n        this.y = y;\n    }\n    Object.defineProperty(Vec2.prototype, \"isZero\", {\n        get: function () {\n            return this.x === 0 && this.y === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Vec2.prototype.create = function (x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        return new (this.constructor)(x, y);\n    };\n    Vec2.prototype.set = function (src) {\n        this.x = src.x;\n        this.y = src.y;\n        return this;\n    };\n    Vec2.prototype.clone = function (out) {\n        var result = out ? out.set(this) : this.create(this.x, this.y);\n        return result;\n    };\n    Vec2.prototype.toInt = function () {\n        this.x |= 0;\n        this.y |= 0;\n        return this;\n    };\n    Vec2.prototype.ceil = function () {\n        this.x = Math.ceil(this.x);\n        this.y = Math.ceil(this.y);\n        return this;\n    };\n    Vec2.prototype.toDecimal = function () {\n        this.x += Vec2Const.EPSILON;\n        this.y += Vec2Const.EPSILON;\n        return this;\n    };\n    Vec2.prototype.lengthSq = function () { return (this.x * this.x + this.y * this.y); };\n    Vec2.prototype.length = function () { return Math.sqrt(this.lengthSq()); };\n    Vec2.prototype.horizontalAngle = function () { return Math.atan2(this.y, this.x); };\n    Vec2.prototype.rotate = function (angle) {\n        var rot = rotationRad(angle);\n        var nx = (this.x * rot[0]) - (this.y * rot[1]);\n        var ny = (this.x * rot[1]) + (this.y * rot[0]);\n        this.x = nx;\n        this.y = ny;\n        return this;\n    };\n    Vec2.prototype.rotateAround = function (center, angle) {\n        return this.subtract(center).rotate(angle).add(center);\n    };\n    Vec2.prototype.normalize = function () {\n        var len = this.length();\n        if (len === 0) {\n            this.x = 1;\n            this.y = 0;\n        }\n        else {\n            this.x = this.x / len;\n            this.y = this.y / len;\n        }\n        return this;\n    };\n    Vec2.prototype.scale = function (vectorB) {\n        this.x = this.x * vectorB.x;\n        this.y = this.y * vectorB.y;\n        return this;\n    };\n    Vec2.prototype.relate = function (vectorB) {\n        this.x = this.x / vectorB.x;\n        this.y = this.y / vectorB.y;\n        return this;\n    };\n    Vec2.prototype.multiply = function (scalar) {\n        this.x = this.x * scalar;\n        this.y = this.y * scalar;\n        return this;\n    };\n    Vec2.prototype.add = function (vectorB) {\n        this.x = this.x + vectorB.x;\n        this.y = this.y + vectorB.y;\n        return this;\n    };\n    Vec2.prototype.subtract = function (vectorB) {\n        this.x = this.x - vectorB.x;\n        this.y = this.y - vectorB.y;\n        return this;\n    };\n    Vec2.prototype.invert = function () {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    };\n    Vec2.prototype.equals = function (target) {\n        return this.x === target.x && this.y === target.y;\n    };\n    Vec2.prototype.almostEquals = function (target) {\n        return Math.abs(this.x - target.x) < Vec2Const.EPSILON && Math.abs(this.y - target.y) < Vec2Const.EPSILON;\n    };\n    Vec2.prototype.getNormal = function (isNormalized) {\n        var result = this.clone();\n        if (!isNormalized) {\n            result.set(this).normalize();\n        }\n        var temp = result.x;\n        result.x = result.y;\n        result.y = -temp;\n        return result;\n    };\n    Vec2.prototype.dot = function (vectorB) { return (this.x * vectorB.x + this.y * vectorB.y); };\n    Vec2.prototype.cross = function (vectorB) { return ((this.x * vectorB.y) - (this.y * vectorB.x)); };\n    Vec2.prototype.projectOnto = function (vectorB) {\n        var coeff = ((this.x * vectorB.x) + (this.y * vectorB.y)) / ((vectorB.x * vectorB.x) + (vectorB.y * vectorB.y));\n        this.x = coeff * vectorB.x;\n        this.y = coeff * vectorB.y;\n        return this;\n    };\n    Vec2.prototype.verticalAngle = function () { return Math.atan2(this.x, this.y); };\n    Vec2.prototype.rotateBy = function (rotation) {\n        var angle = -this.horizontalAngle() + rotation;\n        return this.rotate(angle);\n    };\n    Vec2.prototype.max = function (v) {\n        this.x = Math.max(this.x, v.x);\n        this.y = Math.max(this.y, v.y);\n        return this;\n    };\n    Vec2.prototype.min = function (v) {\n        this.x = Math.min(this.x, v.x);\n        this.y = Math.min(this.y, v.y);\n        return this;\n    };\n    Vec2.prototype.zero = function () {\n        this.x = 0;\n        this.y = 0;\n        return this;\n    };\n    return Vec2;\n}());\nexport { Vec2 };\n//# sourceMappingURL=Vec2.js.map","import { Range2 } from \"./Range2\";\nimport { Vec2 } from \"./Vec2\";\nvar Rect = (function () {\n    function Rect(x1, y1, x2, y2, endInclusive) {\n        if (x1 === void 0) { x1 = 0; }\n        if (y1 === void 0) { y1 = 0; }\n        if (x2 === void 0) { x2 = 0; }\n        if (y2 === void 0) { y2 = 0; }\n        if (endInclusive === void 0) { endInclusive = false; }\n        this.start = new Vec2(x1, y1);\n        this.stop = new Vec2(x2, y2);\n        this.endInclusive = endInclusive;\n    }\n    Object.defineProperty(Rect.prototype, \"isZero\", {\n        get: function () {\n            return this.start.isZero && this.stop.isZero;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.create = function (x1, y1, x2, y2, endInclusive) {\n        if (x1 === void 0) { x1 = 0; }\n        if (y1 === void 0) { y1 = 0; }\n        if (x2 === void 0) { x2 = 0; }\n        if (y2 === void 0) { y2 = 0; }\n        if (endInclusive === void 0) { endInclusive = false; }\n        return new (this.constructor)(x1, y1, x2, y2, endInclusive);\n    };\n    Rect.prototype.set = function (src) {\n        this.start.set(src.start);\n        this.stop.set(src.stop);\n        return this;\n    };\n    Rect.prototype.clone = function (out) {\n        var result = out ? out.set(this) : this.create(this.start.x, this.start.y, this.stop.x, this.stop.y);\n        return result;\n    };\n    Rect.prototype.toRange2 = function (out) {\n        var result = out || new Range2();\n        var start = this.start;\n        var stop = this.stop;\n        result.pos.x = start.x;\n        result.pos.y = start.y;\n        result.size.x = stop.x + (this.endInclusive ? (stop.x < start.x ? -1 : 1) : 0) - start.x;\n        result.size.y = stop.y + (this.endInclusive ? (stop.y < start.y ? -1 : 1) : 0) - start.y;\n        return result;\n    };\n    Rect.prototype.scale = function (factor, keepCenter) {\n        if (keepCenter === void 0) { keepCenter = true; }\n        var ow = this.stop.x - this.start.x;\n        var oh = this.stop.y - this.start.y;\n        var w = ow;\n        var h = oh;\n        w *= factor.x;\n        h *= factor.y;\n        if (keepCenter) {\n            this.start.x -= (w - ow) / 2;\n            this.start.y -= (h - oh) / 2;\n        }\n        this.stop.x = this.start.x + w;\n        this.stop.y = this.start.y + h;\n        return this;\n    };\n    Rect.prototype.translate = function (system) {\n        this.start.scale(system);\n        this.stop.scale(system);\n        return this;\n    };\n    Rect.prototype.equals = function (rect) {\n        return this.start.equals(rect.start) && this.stop.equals(rect.stop);\n    };\n    Rect.prototype.toInt = function () {\n        this.start.toInt();\n        this.stop.toInt();\n        return this;\n    };\n    Rect.prototype.toDecimal = function () {\n        this.start.toDecimal();\n        this.stop.toDecimal();\n        return this;\n    };\n    Rect.prototype.area = function () {\n        var x = this.stop.x - this.start.x;\n        var y = this.stop.y - this.start.y;\n        return x * y;\n    };\n    Rect.prototype.move = function (vec) {\n        this.start.add(vec);\n        this.stop.add(vec);\n        return this;\n    };\n    Rect.prototype.contains = function (target) {\n        return this.start.x <= target.start.x &&\n            this.start.y <= target.start.y &&\n            this.stop.x >= target.stop.x &&\n            this.stop.y >= target.stop.y;\n    };\n    Rect.prototype.intersect = function (target) {\n        return this.containsPoint(target.start.x, target.start.y) ||\n            this.containsPoint(target.stop.x, target.stop.y) ||\n            this.containsPoint(target.start.x, target.stop.y) ||\n            this.containsPoint(target.stop.x, target.start.y);\n    };\n    Rect.prototype.containsPoint = function (x, y) {\n        return this.start.x <= x && this.stop.x >= x &&\n            this.start.y <= y && this.stop.y >= y;\n    };\n    Rect.prototype.zero = function () {\n        this.start.zero();\n        this.stop.zero();\n        return this;\n    };\n    return Rect;\n}());\nexport { Rect };\n//# sourceMappingURL=Rect.js.map","import { Rect } from \"./Rect\";\nimport { Vec2 } from \"./Vec2\";\nvar Range2 = (function () {\n    function Range2(x, y, w, h) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        if (w === void 0) { w = 0; }\n        if (h === void 0) { h = 0; }\n        this.pos = new Vec2(x, y);\n        this.size = new Vec2(w, h);\n    }\n    Object.defineProperty(Range2.prototype, \"isZero\", {\n        get: function () {\n            return this.pos.isZero && this.size.isZero;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Range2.prototype.create = function (x, y, w, h) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        if (w === void 0) { w = 0; }\n        if (h === void 0) { h = 0; }\n        return new (this.constructor)(x, y, w, h);\n    };\n    Range2.prototype.set = function (src) {\n        this.pos.set(src.pos);\n        this.size.set(src.size);\n        return this;\n    };\n    Range2.prototype.clone = function (out) {\n        var result = out ? out.set(this) : this.create(this.pos.x, this.pos.y, this.size.x, this.size.y);\n        return result;\n    };\n    Range2.prototype.toRect = function (endInclusive, out) {\n        if (endInclusive === void 0) { endInclusive = false; }\n        var result = out || new Rect();\n        result.start.x = this.pos.x,\n            result.start.y = this.pos.y,\n            result.stop.x = this.pos.x - (endInclusive ? (this.size.x < 0 ? -1 : 1) : 0) + this.size.x,\n            result.stop.y = this.pos.y - (endInclusive ? (this.size.y < 0 ? -1 : 1) : 0) + this.size.y,\n            result.endInclusive = endInclusive;\n        return result;\n    };\n    Range2.prototype.scale = function (factor, keepCenter) {\n        if (keepCenter === void 0) { keepCenter = true; }\n        var org = null;\n        if (keepCenter) {\n            org = this.size.clone();\n        }\n        this.size.scale(factor);\n        if (keepCenter) {\n            this.pos.add(org.subtract(this.size).multiply(0.5));\n        }\n        return this;\n    };\n    Range2.prototype.translate = function (system) {\n        this.toRect(false).translate(system).toRange2(this);\n        return this;\n    };\n    Range2.prototype.toInt = function () {\n        this.pos.toInt();\n        this.size.toInt();\n        return this;\n    };\n    Range2.prototype.toDecimal = function () {\n        this.pos.toDecimal();\n        this.size.toDecimal();\n        return this;\n    };\n    Range2.prototype.contains = function (target) {\n        return this.pos.x <= target.pos.x &&\n            this.pos.y <= target.pos.y &&\n            this.pos.x + this.size.x >= target.pos.x + target.size.x &&\n            this.pos.y + this.size.y >= target.pos.y + target.size.y;\n    };\n    Range2.prototype.intersect = function (target) {\n        var s = this.toRect();\n        var t = target.clone().toRect();\n        return s.intersect(t);\n    };\n    Range2.prototype.containsPoint = function (vec) {\n        return vec.x >= this.pos.x && vec.x <= this.pos.x + this.size.x - 1\n            && vec.y >= this.pos.y && vec.y <= this.pos.y + this.size.y - 1;\n    };\n    Range2.prototype.first = function (fn) {\n        var p = new Vec2();\n        var x = this.pos.x;\n        var y = this.pos.y;\n        for (var i = 0; i < this.size.x; i++) {\n            for (var j = 0; j < this.size.y; j++) {\n                p.x = i + x, p.y = j + y;\n                if (fn(p)) {\n                    return p;\n                }\n            }\n        }\n        return null;\n    };\n    Range2.prototype.forEach = function (fn, start) {\n        if (start === void 0) { start = null; }\n        var pos = new Vec2();\n        var begin = this.pos.clone().toInt();\n        if (start === null || !this.containsPoint(start)) {\n            start = begin;\n        }\n        var end = this.pos.clone().add(this.size).toInt();\n        for (var y = begin.y; y < end.y; y += 1) {\n            for (var x = begin.x; x < end.x; x += 1) {\n                if (y < start.y || (y === start.y && x < start.x)) {\n                    continue;\n                }\n                pos.x = x;\n                pos.y = y;\n                var brk = fn(pos);\n                if (brk) {\n                    return;\n                }\n            }\n        }\n    };\n    Range2.prototype.equals = function (range) {\n        return this.pos.equals(range.pos) && this.size.equals(range.size);\n    };\n    Range2.prototype.zero = function () {\n        this.pos.zero();\n        this.size.zero();\n        return this;\n    };\n    return Range2;\n}());\nexport { Range2 };\n//# sourceMappingURL=Range2.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { forEach } from \"../Arr\";\nimport { clone, setProperties, wipe } from \"../Obj\";\nimport { isFunction, isNotUndefined } from \"../Test\";\nimport { List } from \"./List\";\nvar Dictionary = (function () {\n    function Dictionary() {\n        this._lookup = Object.create(null);\n        this._list = new List();\n        this._isDirty = false;\n    }\n    Dictionary.prototype.create = function () {\n        return new (this.constructor)();\n    };\n    Dictionary.prototype.has = function (key) {\n        return this._lookup[key] !== undefined;\n    };\n    Dictionary.prototype.contains = function (key) {\n        return this.has(key);\n    };\n    Dictionary.prototype.get = function (key) {\n        return this._lookup[key];\n    };\n    Dictionary.prototype.set = function (key, value) {\n        this._isDirty = this._isDirty || this.has(key);\n        if (value !== undefined) {\n            this._lookup[key] = value;\n            if (!this._isDirty) {\n                this._list.push(value);\n            }\n        }\n        return this;\n    };\n    Dictionary.prototype.delete = function (key) {\n        if (this.has(key)) {\n            delete this._lookup[key];\n            this._isDirty = true;\n        }\n        return this;\n    };\n    Dictionary.prototype.clear = function () {\n        wipe(this._lookup);\n        this._list.clear();\n        return this;\n    };\n    Object.defineProperty(Dictionary.prototype, \"values\", {\n        get: function () {\n            this.cleanList();\n            return this._list.values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Dictionary.prototype, \"keys\", {\n        get: function () {\n            return Object.keys(this._lookup);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Dictionary.prototype, \"list\", {\n        get: function () {\n            this.cleanList();\n            return this._list;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Dictionary.prototype, \"count\", {\n        get: function () {\n            var result = 0;\n            if (this._isDirty) {\n                result = this.keys.length;\n            }\n            else {\n                result = this._list.count;\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Dictionary.prototype.cleanList = function () {\n        if (this._isDirty) {\n            this.reCreateList();\n        }\n    };\n    Dictionary.prototype.reCreateList = function () {\n        var lookup = this._lookup;\n        var keys = Object.keys(this._lookup);\n        var i = -1;\n        var list = this._list;\n        list.clear();\n        while (++i < keys.length) {\n            list.add(lookup[keys[i]]);\n        }\n    };\n    Dictionary.prototype.clone = function () {\n        var result = this.create();\n        result._isDirty = this._isDirty;\n        result._list = this._list.clone();\n        result._lookup = clone(this._lookup);\n        return result;\n    };\n    Dictionary.prototype.toJSON = function () {\n        return this._lookup;\n    };\n    Dictionary.prototype.serialize = function () {\n        var _this = this;\n        var obj = Object.create(null);\n        forEach(this.keys, function (key) {\n            var v = _this.get(key);\n            obj[key] = isFunction(v.serialize) ? v.serialize() : v;\n        });\n        return obj;\n    };\n    Dictionary.prototype.deserialize = function (obj) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        var _a = __read(types), T = _a[0], passthroughT = _a.slice(1);\n        this.clear();\n        if (isNotUndefined(T)) {\n            if (isNotUndefined(T.prototype.deserialize)) {\n                try {\n                    for (var _b = __values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var key = _c.value;\n                        this.set(key, (_d = (new T())).deserialize.apply(_d, __spread([obj[key]], passthroughT)));\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            else {\n                try {\n                    for (var _f = __values(Object.keys(obj)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                        var key = _g.value;\n                        var newT = new T();\n                        setProperties(newT, obj[key]);\n                        this.set(key, newT);\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_g && !_g.done && (_h = _f.return)) _h.call(_f);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        else {\n            try {\n                for (var _j = __values(Object.keys(obj)), _k = _j.next(); !_k.done; _k = _j.next()) {\n                    var key = _k.value;\n                    this.set(key, obj[key]);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_k && !_k.done && (_l = _j.return)) _l.call(_j);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        return this;\n        var e_1, _e, _d, e_2, _h, e_3, _l;\n    };\n    return Dictionary;\n}());\nexport { Dictionary };\n//# sourceMappingURL=Dictionary.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport * as Arr from \"../Arr\";\nimport { clone, equals } from \"../Obj\";\nimport { isArray, isFunction, isNotNullOrUndefined, hasWindow } from \"../Test\";\nimport { Dictionary } from \"./Dictionary\";\nif (hasWindow() && !window.Symbol) {\n    window.Symbol = { iterator: \"iterator\" };\n}\nvar List = (function () {\n    function List(arr) {\n        this._array = [];\n        this._index = null;\n        this._indexer = null;\n        this._pointer = 0;\n        if (arr === undefined) {\n            this._array = new Array();\n        }\n        else {\n            if (arr instanceof (List)) {\n                this._array = Arr.shallowCopy(arr._array);\n            }\n            else {\n                this._array = Arr.shallowCopy(arr);\n            }\n        }\n    }\n    List.prototype[Symbol.iterator] = function () {\n        return this;\n    };\n    List.prototype.next = function (value) {\n        return {\n            done: this._pointer >= this.length,\n            value: this._pointer < this.length ? this._array[this._pointer++] : (this._pointer = 0, undefined)\n        };\n    };\n    List.prototype.create = function (arr) {\n        return new (this.constructor)(arr);\n    };\n    Object.defineProperty(List.prototype, \"values\", {\n        get: function () {\n            return this._array;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    List.prototype.get = function (pos) {\n        return this._array[pos];\n    };\n    List.prototype.getByIndex = function (key) {\n        var result;\n        return isNotNullOrUndefined(this._index) ? this._index.get(key) : undefined;\n    };\n    List.prototype.set = function (pos, v) {\n        if (pos >= 0 && pos < this.length) {\n            this._array[pos | 0] = v;\n            if (this._indexer !== null) {\n                this._index.set(this._indexer(v), v);\n            }\n        }\n        else {\n            throw new Error(\"index out of bounds on <List>.set(\" + pos + \", \" + v.toString() + \")\");\n        }\n        return this;\n    };\n    Object.defineProperty(List.prototype, \"count\", {\n        get: function () {\n            return this._array.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(List.prototype, \"length\", {\n        get: function () {\n            return this._array.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(List.prototype, \"indexer\", {\n        get: function () {\n            return this._indexer;\n        },\n        set: function (fn) {\n            this._indexer = fn;\n            this._reindex();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    List.prototype._reindex = function () {\n        var _this = this;\n        if (this._indexer === null) {\n            this._index = null;\n        }\n        else {\n            if (this._index === null) {\n                this._index = new Dictionary();\n            }\n            else {\n                this._index.clear();\n            }\n            this.forEach(function (el) { return _this._index.set(_this._indexer(el), el); });\n        }\n    };\n    List.prototype.fill = function (size, populator) {\n        size = Math.max(0, size || 0);\n        if (isFunction(populator)) {\n            this._array = Arr.create(size, populator);\n        }\n        else if (!(populator instanceof Object)) {\n            this._array = Arr.create(size, function () { return populator; });\n        }\n        else {\n            this._array = Arr.create(size, function () { return clone(populator); });\n        }\n        this._reindex();\n        return this;\n    };\n    List.prototype.clear = function () {\n        this._array.length = 0;\n        if (this._index !== null) {\n            this._index.clear();\n        }\n        return this;\n    };\n    List.prototype.add = function (v) {\n        this._array.push(v);\n        if (this._indexer !== null) {\n            this._index.set(this._indexer(v), v);\n        }\n        return this;\n    };\n    List.prototype.insertAt = function (pos, v) {\n        Arr.insertAt(this._array, pos, v);\n        if (this._indexer !== null) {\n            this._index.set(this._indexer(v), v);\n        }\n        return this;\n    };\n    List.prototype.push = function (v) {\n        if (this._indexer !== null) {\n            this._index.set(this._indexer(v), v);\n        }\n        return this._array.push(v);\n    };\n    List.prototype.pop = function () {\n        var result = this._array.pop();\n        if (result !== undefined && this._indexer !== null) {\n            this._index.delete(this._indexer(result));\n        }\n        return result;\n    };\n    List.prototype.shift = function () {\n        var result = this._array.shift();\n        if (result !== undefined && this._indexer !== null) {\n            this._index.delete(this._indexer(result));\n        }\n        return result;\n    };\n    List.prototype.concat = function (v) {\n        var arr;\n        var arr2 = v instanceof List ? v.values : v;\n        arr = Arr.concat(this._array, arr2);\n        return this.create(arr);\n    };\n    List.prototype.index = function (arr) {\n        var _this = this;\n        if (this._indexer !== null) {\n            Arr.forEach(arr, function (el) {\n                _this._index.set(_this._indexer(el), el);\n            });\n        }\n    };\n    List.prototype.unindexEl = function (el) {\n        if (this._indexer !== null) {\n            this._index.delete(this._indexer(el));\n        }\n    };\n    List.prototype.append = function (v) {\n        var arr2 = v instanceof List ? v.values : v;\n        Arr.append(this._array, arr2);\n        this.index(arr2);\n        return this;\n    };\n    List.prototype.copy = function (src) {\n        var arr2 = src instanceof List ? src.values : src;\n        Arr.deepCopyInto(arr2, this._array);\n        this.index(arr2);\n        return this;\n    };\n    List.prototype.shallowCopy = function (src) {\n        var arr2 = src instanceof List ? src.values : src;\n        Arr.shallowCopyInto(arr2, this._array);\n        this.index(arr2);\n        return this;\n    };\n    List.prototype.clone = function () {\n        var arr = Arr.deepCopy(this._array);\n        var result = this.create(arr);\n        if (this._indexer !== null) {\n            result._indexer = this._indexer;\n            result._index = this._index.clone();\n        }\n        return result;\n    };\n    List.prototype.remove = function (v) {\n        Arr.remove(this._array, v);\n        this.unindexEl(v);\n        return this;\n    };\n    List.prototype.removeFirst = function (fn) {\n        var result = this.removeAt(this.indexOf(fn));\n        this.unindexEl(result);\n        return result;\n    };\n    List.prototype.removeAt = function (n) {\n        var result = Arr.removeAt(this._array, n);\n        this.unindexEl(result);\n        return result;\n    };\n    List.prototype.forEach = function (fn, startIndex) {\n        if (startIndex === void 0) { startIndex = 0; }\n        Arr.forEach(this._array, fn, startIndex);\n        return this;\n    };\n    List.prototype.forSome = function (filter, fn) {\n        Arr.forSome(this._array, filter, fn);\n        return this;\n    };\n    List.prototype.until = function (fnOrTest, fn, startIndex) {\n        Arr.until(this._array, fnOrTest, fn, startIndex);\n        return this;\n    };\n    List.prototype.reverseForEach = function (fn) {\n        Arr.reverseForEach(this._array, fn);\n        return this;\n    };\n    List.prototype.reverseUntil = function (fnOrTest, fn) {\n        Arr.reverseUntil(this._array, fnOrTest, fn);\n        return this;\n    };\n    List.prototype.some = function (fn) {\n        return Arr.some(this._array, fn);\n    };\n    List.prototype.all = function (fn) {\n        return Arr.all(this._array, fn);\n    };\n    List.prototype.indexOf = function (v) {\n        var result = -1;\n        if (isFunction(v)) {\n            result = Arr.indexOf(this._array, v);\n        }\n        else {\n            result = Arr.indexOfElement(this._array, v);\n        }\n        return result;\n    };\n    List.prototype.contains = function (v) {\n        var result = false;\n        if (isFunction(v)) {\n            result = this.find(v) !== undefined;\n        }\n        else {\n            if (this._indexer !== null) {\n                result = this._index.contains(this._indexer(v));\n            }\n            else {\n                result = Arr.indexOfElement(this._array, v) !== -1;\n            }\n        }\n        return result;\n    };\n    List.prototype.reverse = function () {\n        Arr.reverse(this._array);\n        return this;\n    };\n    List.prototype.first = function (fn) {\n        var index = -1;\n        var result;\n        if (fn === undefined) {\n            index = 0;\n        }\n        else {\n            index = Arr.indexOf(this._array, fn);\n        }\n        return index === -1 ? undefined : this.get(index);\n    };\n    List.prototype.find = function (fn) {\n        return this.first(fn);\n    };\n    List.prototype.last = function () {\n        return this.length === 0 ? undefined : this.get(this.length - 1);\n    };\n    List.prototype.filter = function (fn) {\n        return this.create(Arr.filter(this._array, fn));\n    };\n    List.prototype.select = function (fn) {\n        return this.create(Arr.filter(this._array, fn));\n    };\n    List.prototype.selectInto = function (src, fn) {\n        var arr = src instanceof List ? src.values : src;\n        Arr.filterInto(arr, this._array, fn);\n        this.index(arr);\n        return this;\n    };\n    List.prototype.head = function (count) {\n        if (count === void 0) { count = 1; }\n        count = Math.max(0, count);\n        return this.create(Arr.slice(this._array, 0, count));\n    };\n    List.prototype.tail = function (count) {\n        if (count === void 0) { count = 1; }\n        count = Math.min(this._array.length, count);\n        return this.create(Arr.slice(this._array, Math.max(0, this._array.length - count)));\n    };\n    List.prototype.splice = function (pos, remove, insert) {\n        if (pos === void 0) { pos = 0; }\n        if (remove === void 0) { remove = Infinity; }\n        if (insert === void 0) { insert = []; }\n        Arr.splice(this._array, pos, remove, isArray(insert) ? insert : insert.values);\n        this._reindex();\n        return this;\n    };\n    List.prototype.orderBy = function (fn) {\n        this._array.sort(fn);\n        return this;\n    };\n    List.prototype.map = function (fn) {\n        return this.create(Arr.map(this._array, fn));\n    };\n    List.prototype.mapInto = function (src, fn) {\n        var arr = src instanceof List ? src.values : src;\n        Arr.mapInto(arr, this._array, fn);\n        this._reindex();\n        return this;\n    };\n    List.prototype.reduce = function (fn, start) {\n        return Arr.reduce(this._array, fn, start);\n    };\n    List.prototype.reduceUntil = function (fn, test, start) {\n        return Arr.reduceUntil(this._array, fn, test, start);\n    };\n    List.prototype.reverseReduce = function (fn, start) {\n        return Arr.reverseReduce(this._array, fn, start);\n    };\n    List.prototype.reverseReduceUntil = function (fn, test, start) {\n        return Arr.reverseReduceUntil(this._array, fn, test, start);\n    };\n    List.prototype.equals = function (b) {\n        var result = equals(this._array, b.values);\n        return result;\n    };\n    List.prototype.same = function (b) {\n        var a = this;\n        var count = 0;\n        if (a.length === b.length) {\n            if (a.indexer !== null) {\n                b.until(function (el) { return !a.contains(el); }, function (el, i) { return ++count; });\n            }\n            else {\n                a.until(function (el) { return !b.contains(el); }, function (el, i) { return ++count; });\n            }\n        }\n        return count === a.length;\n    };\n    List.prototype.intersect = function (b) {\n        var result = this.create();\n        var long;\n        var short;\n        result.indexer = this.indexer;\n        if (this.length < b.length) {\n            short = this, long = b;\n        }\n        else {\n            long = this, short = b;\n        }\n        if (long.indexer !== null) {\n            short.forEach(function (el) {\n                if (long.contains(el)) {\n                    result.push(el);\n                }\n            });\n        }\n        else {\n            long.forEach(function (el) {\n                if (short.contains(el)) {\n                    result.push(el);\n                }\n            });\n        }\n        return result;\n    };\n    List.prototype.union = function (b) {\n        var result = this.create();\n        var long;\n        var short;\n        result.indexer = this.indexer;\n        if (this.length < b.length) {\n            short = this, long = b;\n        }\n        else {\n            long = this, short = b;\n        }\n        if (long.indexer !== null) {\n            result = long.clone();\n            short.forEach(function (el) {\n                if (!long.contains(el)) {\n                    result.push(el);\n                }\n            });\n        }\n        else {\n            result = short.clone();\n            long.forEach(function (el) {\n                if (!short.contains(el)) {\n                    result.push(el);\n                }\n            });\n        }\n        return result;\n    };\n    List.prototype.subtract = function (b) {\n        var result = this.create();\n        result.indexer = this.indexer;\n        result = this.select(function (el) { return !b.contains(el); });\n        return result;\n    };\n    List.prototype.zip = function (list, fn) {\n        if (fn === void 0) { fn = function (t, u) { return [t, u]; }; }\n        var result = this.create();\n        var length = list.length;\n        this.until(function (el, i) {\n            return i >= length;\n        }, function (el, i) {\n            result.push(fn(el, list.get(i)));\n        });\n        return result;\n    };\n    List.prototype.unzip = function (fn) {\n        if (fn === void 0) { fn = function (el) { return [el[0], el[1]]; }; }\n        var result = [this.create(), this.create()];\n        this.forEach(function (el) {\n            var tuple = fn(el);\n            result[0].push(tuple[0]);\n            result[1].push(tuple[1]);\n        });\n        return result;\n    };\n    List.prototype.flatten = function (maxDepth) {\n        if (maxDepth === void 0) { maxDepth = Infinity; }\n        return this.create(maxDepth < 1 ? this.values : this._flattenInner(this.values, maxDepth));\n    };\n    List.prototype._flattenInner = function (src, maxDepth, depth, result) {\n        if (depth === void 0) { depth = -1; }\n        if (result === void 0) { result = []; }\n        var i = -1;\n        var len = src.length;\n        if (++depth > maxDepth) {\n            result.push(src);\n        }\n        else {\n            while (++i < len) {\n                if (isArray(src[i])) {\n                    this._flattenInner(src[i], maxDepth, depth, result);\n                }\n                else if (src[i] instanceof List) {\n                    this._flattenInner(src[i].values, maxDepth, depth, result);\n                }\n                else {\n                    result.push(src[i]);\n                }\n            }\n        }\n        return result;\n    };\n    List.prototype.toJSON = function () {\n        return this.values;\n    };\n    List.prototype.serialize = function () {\n        return this.values.map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\n    };\n    List.prototype.deserialize = function (array) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        Arr.deserialize.apply(Arr, __spread([array, this._array], types));\n        return this;\n    };\n    return List;\n}());\nexport { List };\n//# sourceMappingURL=List.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { binarySearch } from \"../Arr\";\nimport { equals } from \"../Obj\";\nimport { isFunction, hasWindow } from \"../Test\";\nimport { List } from \"./List\";\nif (hasWindow() && !window.Symbol) {\n    window.Symbol = { iterator: \"iterator\" };\n}\nvar Comparer = (function () {\n    function Comparer() {\n    }\n    Comparer.StringAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\n    Comparer.StringDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\n    Comparer.NumberAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\n    Comparer.NumberDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\n    return Comparer;\n}());\nexport { Comparer };\nvar SortedList = (function () {\n    function SortedList(comparer, arr) {\n        if (comparer === void 0) { comparer = (function (a, b) { return a < b ? -1 : a === b ? 0 : 1; }); }\n        this._list = new List();\n        this._pointer = 0;\n        this._cmp = comparer;\n        if (arr === undefined) {\n            this._list = new List();\n        }\n        else {\n            if (arr instanceof (List) || arr instanceof (SortedList)) {\n                this.copy(arr.values);\n            }\n            else {\n                this.copy(arr);\n            }\n        }\n    }\n    SortedList.prototype[Symbol.iterator] = function () {\n        return this;\n    };\n    SortedList.prototype.next = function (value) {\n        return {\n            done: this._pointer >= this.length,\n            value: this._pointer < this.length ? this.values[this._pointer++] : (this._pointer = 0, undefined)\n        };\n    };\n    SortedList.prototype.create = function (comparer, arr) {\n        return new (this.constructor)(comparer, arr);\n    };\n    Object.defineProperty(SortedList.prototype, \"values\", {\n        get: function () {\n            return this._list.values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SortedList.prototype.get = function (pos) {\n        return this._list.get(pos);\n    };\n    Object.defineProperty(SortedList.prototype, \"count\", {\n        get: function () {\n            return this._list.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SortedList.prototype, \"length\", {\n        get: function () {\n            return this._list.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SortedList.prototype, \"comparer\", {\n        get: function () {\n            return this._cmp;\n        },\n        set: function (v) {\n            this._cmp = v;\n            this.sort();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SortedList.prototype.sort = function () {\n        this._list.orderBy(this._cmp);\n    };\n    SortedList.prototype.fill = function (size, populator) {\n        this._list.fill(size, populator);\n        this.sort();\n        return this;\n    };\n    SortedList.prototype.clear = function () {\n        this._list.clear();\n        return this;\n    };\n    SortedList.prototype.add = function (v) {\n        var index = this.getInsertIndex(v);\n        this._list.insertAt(index, v);\n        return this;\n    };\n    SortedList.prototype.pop = function () {\n        return this._list.pop();\n    };\n    SortedList.prototype.shift = function () {\n        return this._list.shift();\n    };\n    SortedList.prototype.bulkAdd = function (v) {\n        if (v instanceof List || v instanceof SortedList) {\n            this._list.append(v.values);\n        }\n        else {\n            this._list.append(v);\n        }\n        this.sort();\n        return this;\n    };\n    SortedList.prototype.copy = function (src) {\n        if (src instanceof List || src instanceof SortedList) {\n            this._list.copy(src.values);\n        }\n        else {\n            this._list.copy(src);\n        }\n        this.sort();\n        return this;\n    };\n    SortedList.prototype.clone = function () {\n        return this.create(this._cmp, this._list.clone());\n    };\n    SortedList.prototype.remove = function (v) {\n        var index = this.indexOf(v);\n        if (index !== -1) {\n            this._list.removeAt(index);\n        }\n        return this;\n    };\n    SortedList.prototype.removeAt = function (n) {\n        return this._list.removeAt(n);\n    };\n    SortedList.prototype.removeFirst = function (fn) {\n        return this._list.removeFirst(fn);\n    };\n    SortedList.prototype.forEach = function (fn, startIndex) {\n        if (startIndex === void 0) { startIndex = 0; }\n        this._list.forEach(fn, startIndex);\n        return this;\n    };\n    SortedList.prototype.forSome = function (filter, fn) {\n        this._list.forSome(filter, fn);\n        return this;\n    };\n    SortedList.prototype.until = function (fnOrTest, fn, startIndex) {\n        this._list.until(fnOrTest, fn, startIndex);\n        return this;\n    };\n    SortedList.prototype.reverseForEach = function (fn) {\n        this._list.reverseForEach(fn);\n        return this;\n    };\n    SortedList.prototype.reverseUntil = function (fnOrTest, fn) {\n        this._list.reverseUntil(fnOrTest, fn);\n        return this;\n    };\n    SortedList.prototype.some = function (fn) {\n        return this._list.some(fn);\n    };\n    SortedList.prototype.all = function (fn) {\n        return this._list.all(fn);\n    };\n    SortedList.prototype.getInsertIndex = function (v) {\n        var _this = this;\n        return binarySearch(this._list.values, function (el) { return _this._cmp(el, v); }, true);\n    };\n    SortedList.prototype.indexOf = function (v) {\n        var _this = this;\n        var result = -1;\n        if (v instanceof Function) {\n            result = this._list.indexOf(v);\n        }\n        else {\n            result = binarySearch(this._list.values, function (el) { return _this._cmp(el, v); }, false);\n        }\n        return result;\n    };\n    SortedList.prototype.contains = function (v) {\n        return this.indexOf(v) !== -1;\n    };\n    SortedList.prototype.first = function (fn) {\n        return this._list.first(fn);\n    };\n    SortedList.prototype.find = function (fn) {\n        return this._list.find(fn);\n    };\n    SortedList.prototype.last = function () {\n        return this._list.last();\n    };\n    SortedList.prototype.filter = function (fn) {\n        return this.create(this._cmp, this._list.filter(fn));\n    };\n    SortedList.prototype.select = function (fn) {\n        return this.create(this._cmp, this._list.filter(fn));\n    };\n    SortedList.prototype.selectInto = function (src, fn) {\n        if (src instanceof List || src instanceof SortedList) {\n            this._list.selectInto(src.values, fn);\n        }\n        else {\n            this._list.selectInto(src, fn);\n        }\n        this.sort();\n        return this;\n    };\n    SortedList.prototype.head = function (count) {\n        if (count === void 0) { count = 1; }\n        return this.create(this.comparer, this._list.head(count));\n    };\n    SortedList.prototype.tail = function (count) {\n        if (count === void 0) { count = 1; }\n        return this.create(this.comparer, this._list.tail(count));\n    };\n    SortedList.prototype.map = function (fn) {\n        return this._list.map(fn);\n    };\n    SortedList.prototype.mapInto = function (src, fn) {\n        if (src instanceof List || src instanceof SortedList) {\n            this._list.mapInto(src.values, fn);\n        }\n        else {\n            this._list.mapInto(src, fn);\n        }\n        this.sort();\n        return this;\n    };\n    SortedList.prototype.reduce = function (fn, start) {\n        return this._list.reduce(fn, start);\n    };\n    SortedList.prototype.reduceUntil = function (fn, test, start) {\n        return this._list.reduceUntil(fn, test, start);\n    };\n    SortedList.prototype.reverseReduce = function (fn, start) {\n        return this._list.reverseReduce(fn, start);\n    };\n    SortedList.prototype.reverseReduceUntil = function (fn, test, start) {\n        return this._list.reverseReduceUntil(fn, test, start);\n    };\n    SortedList.prototype.equals = function (b) {\n        var result = equals(this._list.values, b.values);\n        return result;\n    };\n    SortedList.prototype.same = function (b) {\n        return this.equals(b);\n    };\n    SortedList.prototype.intersect = function (b) {\n        var result = this.create(this.comparer);\n        var long;\n        var short;\n        if (this.length > 0 && b.length > 0) {\n            if (this.length < b.length) {\n                short = this, long = b;\n            }\n            else {\n                long = this, short = b;\n            }\n            if (b instanceof SortedList && this.comparer === b.comparer) {\n                var longPos = long.getInsertIndex(short.get(0)) - 1;\n                var lastPos = long.getInsertIndex(short.last()) - 1;\n                var i = -1;\n                var shortLen = short.length;\n                while (longPos < lastPos && ++i < shortLen) {\n                    var el = short.get(i);\n                    var aVsB = void 0;\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\n                        void (0);\n                    }\n                    if (longPos < lastPos && aVsB === 0) {\n                        result.add(el);\n                    }\n                }\n            }\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\n                short.forEach(function (el) {\n                    if (long.contains(el)) {\n                        result.add(el);\n                    }\n                });\n            }\n            else {\n                result = result.bulkAdd(short.toList().intersect(long));\n            }\n        }\n        return result;\n    };\n    SortedList.prototype.union = function (b) {\n        var result;\n        var long;\n        var short;\n        if (this.length > 0 || b.length > 0) {\n            if (this.length < b.length) {\n                short = this, long = b;\n            }\n            else {\n                long = this, short = b;\n            }\n            if (b instanceof SortedList && this.comparer === b.comparer) {\n                result = this.create(this.comparer, long.values);\n                var longPos = long.getInsertIndex(short.get(0)) - 1;\n                var lastPos = long.getInsertIndex(short.last()) - 1;\n                var i = -1;\n                var shortLen = short.length;\n                while (++i < shortLen && longPos < lastPos) {\n                    var el = short.get(i);\n                    var aVsB = -1;\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\n                        void (0);\n                    }\n                    if ((aVsB > 0 && longPos < lastPos) || longPos === lastPos) {\n                        result.add(el);\n                    }\n                }\n                if (i < shortLen) {\n                    --i;\n                    while (++i < shortLen) {\n                        result.add(short.get(i));\n                    }\n                }\n            }\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\n                result = this.create(this.comparer, long.values);\n                short.forEach(function (el) {\n                    if (!long.contains(el)) {\n                        result.add(el);\n                    }\n                });\n            }\n            else {\n                result = this.create(this.comparer, short.toList().union(long));\n            }\n        }\n        else {\n            result = this.create(this.comparer);\n        }\n        return result;\n    };\n    SortedList.prototype.toList = function () {\n        return new List(this.values);\n    };\n    SortedList.prototype.toJSON = function () {\n        return this.values;\n    };\n    SortedList.prototype.serialize = function () {\n        return this.values.map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\n    };\n    SortedList.prototype.deserialize = function (array) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        (_a = this._list).deserialize.apply(_a, __spread([array], types));\n        this.sort();\n        return this;\n        var _a;\n    };\n    return SortedList;\n}());\nexport { SortedList };\n//# sourceMappingURL=SortedList.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { deepCopy, slice, deserialize } from \"../Arr\";\nimport { isFunction } from \"../Test\";\nimport { List } from \"./List\";\nvar Stack = (function () {\n    function Stack(size) {\n        this.DEFAULT_SIZE = 100;\n        this._pos = 0;\n        this._limit = 0;\n        if (!size) {\n            size = this.DEFAULT_SIZE;\n        }\n        this.DEFAULT_SIZE = size;\n        this._array = new Array(size);\n        this.push = this.fastPush;\n    }\n    Object.defineProperty(Stack.prototype, \"values\", {\n        get: function () {\n            return slice(this._array, 0, this._pos);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stack.prototype, \"depth\", {\n        get: function () {\n            return this._pos;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stack.prototype, \"size\", {\n        get: function () {\n            return this._pos;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stack.prototype, \"isEmpty\", {\n        get: function () {\n            return this.size === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stack.prototype, \"limit\", {\n        get: function () {\n            return this._limit;\n        },\n        set: function (value) {\n            if (value < 0) {\n                value = 0;\n            }\n            this._limit = value;\n            if (value === 0) {\n                this.push = this.fastPush;\n            }\n            else {\n                this.push = this.limitedPush;\n                this.limitObjects();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Stack.prototype.create = function (size) {\n        return new (this.constructor)(size);\n    };\n    Stack.prototype.push = function (obj) {\n    };\n    Stack.prototype.fastPush = function (obj) {\n        this._array[this._pos++] = obj;\n    };\n    Stack.prototype.limitedPush = function (obj) {\n        this._array[this._pos] = obj;\n        ++this._pos;\n        this.limitObjects();\n    };\n    Stack.prototype.pop = function () {\n        var result = undefined;\n        if (this._pos !== 0) {\n            result = this._array[--this._pos];\n        }\n        return result;\n    };\n    Stack.prototype.peek = function () {\n        return this._array[this._pos - 1];\n    };\n    Stack.prototype.peekAt = function (index) {\n        return index < 0 || index >= this._pos ? undefined : this._array[this._pos - index - 1];\n    };\n    Stack.prototype.toList = function () {\n        var result = new List();\n        return new List(this.values);\n    };\n    Stack.prototype.clear = function () {\n        this._pos = 0;\n        this._array.length = this.DEFAULT_SIZE;\n        return this;\n    };\n    Stack.prototype.clone = function () {\n        var arr = deepCopy(this._array);\n        var result = this.create(this.DEFAULT_SIZE);\n        result._array = arr;\n        result._limit = this._limit;\n        result._pos = this._pos;\n        return result;\n    };\n    Stack.prototype.limitObjects = function () {\n        while (this._pos > this._limit) {\n            this._array.shift();\n            --this._pos;\n        }\n    };\n    Stack.prototype.toJSON = function () {\n        return slice(this.values, 0, this._pos);\n    };\n    Stack.prototype.serialize = function () {\n        return slice(this.values, 0, this._pos).map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\n    };\n    Stack.prototype.deserialize = function (array) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        deserialize.apply(void 0, __spread([array, this._array], types));\n        this._pos = array.length;\n        return this;\n    };\n    return Stack;\n}());\nexport { Stack };\n//# sourceMappingURL=Stack.js.map","var TimerState = (function () {\n    function TimerState() {\n    }\n    TimerState._hasPerformance = typeof (performance) !== \"undefined\";\n    return TimerState;\n}());\nvar Timer = (function () {\n    function Timer() {\n    }\n    Object.defineProperty(Timer, \"time\", {\n        get: function () {\n            return TimerState._time;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Timer.now = function () {\n        if (TimerState._hasPerformance) {\n            return performance.now();\n        }\n        else {\n            var hrTime = process.hrtime();\n            return hrTime[0] * 1000 + (hrTime[1] / 1e6);\n        }\n    };\n    Timer.start = function () {\n        var now = Timer.now();\n        TimerState._start = TimerState._last = now;\n        return TimerState._time = 0;\n    };\n    Timer.stop = function () {\n        var start = TimerState._start;\n        var now = Timer.now();\n        TimerState._last = now;\n        return TimerState._time = now - start;\n    };\n    return Timer;\n}());\nexport { Timer };\n//# sourceMappingURL=Timer.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { map } from \"../Arr\";\nimport { clone, isSameClass, setProperties } from \"../Obj\";\nimport { Initable } from \"../standard/mixins/Initable\";\nimport { isArray } from \"../Test\";\nimport { newUUID } from \"../Util\";\nimport { Dictionary } from \"./Dictionary\";\nimport { List } from \"./List\";\nimport { Stack } from \"./Stack\";\nvar Tree = (function () {\n    function Tree(id) {\n        this.id = \"\";\n        this.parent = null;\n        this.children = null;\n        this.data = null;\n        this.virtual = false;\n        this.id = id || newUUID();\n    }\n    Tree_1 = Tree;\n    Tree.fromObject = function (obj) {\n        var parent = (this instanceof Tree_1) ? this : null;\n        var root = new Tree_1(obj.id).init({ data: obj.data, parent: parent });\n        if (obj.children !== undefined && isArray(obj.children)) {\n            root.children = new List(map(obj.children, Tree_1.fromObject.bind(root)));\n        }\n        return root;\n    };\n    Tree.fromNodeList = function (nodes, mapcfg, virtualRoot) {\n        if (virtualRoot === void 0) { virtualRoot = false; }\n        var result = new Tree_1();\n        var mapResolver = function (key) {\n            return !mapcfg || typeof (mapcfg[key]) === \"undefined\" ? function (el) { return el[key]; } :\n                typeof (mapcfg[key]) === \"string\" ? function (el) { return el[mapcfg[key]]; } :\n                    mapcfg[key];\n        };\n        var map = {\n            id: mapResolver(\"id\"),\n            parent: mapResolver(\"parent\"),\n            data: mapResolver(\"data\")\n        };\n        var list = new List(nodes);\n        var lookup = new Dictionary();\n        function getLookupKey(node) {\n            return node.parent ? node.parent.id + \"_\" + node.id : \"_root_\" + node.id;\n        }\n        var nodeList = list.map(function (el) { return new Tree_1().init({ id: map.id(el), data: map.data(el) }); });\n        nodeList.forEach(function (node, i) {\n            if (!lookup.has(node.id)) {\n                lookup.set(node.id, []);\n            }\n            lookup.get(node.id).push(node);\n        });\n        var rootNodes = new List();\n        list.forEach(function (el, i) {\n            var parentId = map.parent(el);\n            var nodeId = map.id(el);\n            if (lookup.contains(parentId)) {\n                lookup.get(parentId).forEach(function (p) { return p.add(nodeList.get(i)); });\n            }\n            else {\n                rootNodes.add(nodeList.get(i));\n            }\n        });\n        if (virtualRoot === false) {\n            result = rootNodes.first();\n        }\n        else {\n            result = new Tree_1().init({ virtual: true });\n            rootNodes.forEach(function (el) { return result.add(el); });\n        }\n        return result;\n    };\n    Tree.prototype.create = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new ((_a = (this.constructor)).bind.apply(_a, __spread([void 0], args)))();\n        var _a;\n    };\n    Tree.prototype.init = function (obj) {\n        setProperties(this, obj);\n        return this;\n    };\n    Tree.prototype.insertAt = function (pos, data, id) {\n        var node;\n        if (this.children === null || this.children.count <= pos) {\n            node = this.add(data);\n        }\n        else {\n            node = this.create(id).init({ data: data, parent: this });\n            this.children.insertAt(pos, node);\n        }\n        return node;\n    };\n    Tree.prototype.add = function (data, id) {\n        var node;\n        if (this.children === null) {\n            this.children = new List();\n        }\n        if (isSameClass(data, this)) {\n            node = data;\n            node.parent = this;\n            this.children.add(node);\n        }\n        else {\n            node = (this.create(id)).init({ data: data, parent: this });\n            this.children.add(node);\n        }\n        return node;\n    };\n    Tree.prototype.remove = function () {\n        if (this.parent !== null) {\n            this.parent.children.remove(this);\n        }\n    };\n    Tree.prototype.prune = function () {\n        if (this.children !== null) {\n            this.children\n                .forEach(function (el, i) {\n                el.parent = null;\n            })\n                .clear();\n        }\n        this.children = null;\n        return this;\n    };\n    Tree.prototype.reduce = function (fn, start) {\n        var stack = new Stack();\n        var acc = start;\n        if (!fn) {\n            fn = function (acc, cur) { return (acc.push({ id: cur.id, parent: cur.parent ? cur.parent.id : null, data: cur.data }), acc); };\n        }\n        if (start === undefined) {\n            acc = [];\n        }\n        var cur;\n        var i;\n        stack.push(this);\n        while (cur = stack.pop()) {\n            acc = fn(acc, cur);\n            i = (cur.children && cur.children.count) || 0;\n            while (i--) {\n                stack.push(cur.children.get(i));\n            }\n        }\n        return acc;\n    };\n    Tree.prototype.clone = function () {\n        var result = this.create();\n        result.id = this.id;\n        result.parent = this.parent;\n        result.children = this.children === null ? null : this.children.clone();\n        result.data = this.data === null || this.data === undefined ? this.data : clone(this.data);\n        return result;\n    };\n    Tree.prototype.duplicateNode = function () {\n        var result = this.create();\n        result.id = this.id;\n        result.parent = this.parent;\n        result.children = this.children;\n        result.data = this.data;\n        return result;\n    };\n    Tree.prototype.filter = function (condition) {\n        var root = this.duplicateNode();\n        var children = this.children;\n        if (children !== null) {\n            root.children =\n                root.children\n                    .select(condition)\n                    .map(function (el, i) {\n                    return el.filter(condition);\n                });\n        }\n        return root;\n    };\n    Tree.prototype.select = function (condition, acc) {\n        if (acc === void 0) { acc = new List(); }\n        var result = acc;\n        var children = this.children;\n        if (condition === undefined || condition(this)) {\n            result.add(this);\n        }\n        if (children) {\n            children.reduce(function (acc, cur) {\n                return cur.select(condition, acc);\n            }, result);\n        }\n        return result;\n    };\n    Tree.prototype.find = function (condition) {\n        var result = null;\n        var children = this.children;\n        if (children !== null) {\n            var i = -1;\n            var len = this.children.count;\n            var val = this.children.values;\n            while (++i < len) {\n                if (condition(val[i].data)) {\n                    result = val[i];\n                    break;\n                }\n                else {\n                    result = val[i].children !== null ? val[i].find(condition) : null;\n                    if (result !== null) {\n                        break;\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    Tree.prototype.depth = function () {\n        var result = 0;\n        var node = this;\n        while (node.parent) {\n            node = node.parent;\n            ++result;\n        }\n        return result;\n    };\n    Tree.prototype.sort = function (comparer) {\n        if (this.children !== null) {\n            this.children.orderBy(comparer);\n            this.children.forEach(function (el) { return el.sort(comparer); });\n        }\n        return this;\n    };\n    Tree.prototype.toJSON = function () {\n        var result = new List();\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map(function (el) { return el.id; }) });\n        if (this.children !== null) {\n            this.children.forEach(function (node) { return result.append(node.toJSON()); });\n        }\n        return result.toJSON();\n    };\n    Tree.prototype.serialize = function () {\n        var result = new List();\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map(function (el) { return el.id; }) });\n        if (this.children !== null) {\n            this.children.forEach(function (node) { return result.append(node.serialize()); });\n        }\n        return result.serialize();\n    };\n    Tree = Tree_1 = __decorate([\n        Initable,\n        __metadata(\"design:paramtypes\", [Object])\n    ], Tree);\n    return Tree;\n    var Tree_1;\n}());\nexport { Tree };\n//# sourceMappingURL=Tree.js.map","import { Global } from \"./Global\";\nvar Uri = (function () {\n    function Uri() {\n        this._a = null;\n        this.hash = \"\";\n        this.pathName = \"\";\n        this.port = \"\";\n        this.hostName = \"\";\n        this.protocol = \"\";\n        this.origin = \"\";\n        this.full = \"\";\n        this.args = {};\n        this.init();\n    }\n    Uri.prototype.init = function () {\n        if (Global.window !== null) {\n            this._a = Global.window.document.createElement(\"a\");\n            this._a.setAttribute(\"href\", Global.window.location.href);\n            var args_1 = this.args;\n            this._a.search.substring(1).split(\"&\").forEach(function (arg) {\n                var p = arg.split(\"=\");\n                args_1[p[0]] = p[1];\n            });\n            this.hash = this._a.hash;\n            this.pathName = this._a.pathname;\n            this.port = this._a.port;\n            this.hostName = this._a.hostname;\n            this.protocol = this._a.protocol;\n            this.origin = this._a.origin;\n            this.full = this._a.href;\n        }\n    };\n    return Uri;\n}());\nexport { Uri };\n//# sourceMappingURL=Uri.js.map","export var async = function async(target, propertyKey, descriptor) {\n    var orgFn = descriptor.value;\n    descriptor.value = function () {\n        var _this = this;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var result = new Promise(function (resolve, reject) {\n            var value;\n            try {\n                value = orgFn.apply(_this, args);\n                resolve(value);\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n        return result;\n    };\n    return descriptor;\n};\nasync.before = function (decoration) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = new Promise(function (resolve, reject) {\n                var callback = function () {\n                    orgFn.apply(_this, args)\n                        .then(function (value) {\n                        resolve(value);\n                    })\n                        .catch(function (reason) {\n                        reject(reason);\n                    });\n                };\n                decoration.apply(_this, [orgFn.name].concat(args))\n                    .then(function (value) {\n                    callback();\n                })\n                    .catch(function (reason) {\n                    callback();\n                });\n            });\n            return result;\n        };\n        return descriptor;\n    };\n};\nasync.after = function (decoration) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = new Promise(function (resolve, reject) {\n                var callback = function (value, reason) {\n                    decoration.apply(_this, [value, reason, orgFn.name].concat(args))\n                        .then(function (value) {\n                        resolve(value);\n                    })\n                        .catch(function (reason) {\n                        reject(reason);\n                    });\n                };\n                orgFn.apply(_this, args)\n                    .then(function (value) {\n                    callback(value, undefined);\n                })\n                    .catch(function (reason) {\n                    callback(undefined, reason);\n                });\n            });\n            return result;\n        };\n        return descriptor;\n    };\n};\nasync.provided = function (async_predicate) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = new Promise(function (resolve, reject) {\n                var callback = function () {\n                    orgFn.apply(_this, args)\n                        .then(function (value) {\n                        resolve(value);\n                    })\n                        .catch(function (reason) {\n                        reject(reason);\n                    });\n                };\n                async_predicate.apply(_this, [orgFn.name].concat(args))\n                    .then(function (value) {\n                    if (value) {\n                        callback();\n                    }\n                    else {\n                        reject(false);\n                    }\n                })\n                    .catch(function (reason) {\n                    reject(reason);\n                });\n            });\n            return result;\n        };\n        return descriptor;\n    };\n};\n//# sourceMappingURL=AsyncCombinators.js.map","var Pool = (function () {\n    function Pool(cls, growthStep) {\n        if (growthStep === void 0) { growthStep = 10; }\n        this._pool = [];\n        this._available = 0;\n        this._size = 0;\n        this._cls = cls;\n        this._growthStep = growthStep;\n        this.create();\n    }\n    Object.defineProperty(Pool.prototype, \"available\", {\n        get: function () {\n            return this._available;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Pool.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Pool.prototype.create = function () {\n        var i = 0;\n        for (; i < this._growthStep; i++) {\n            this._pool.push(new this._cls());\n        }\n        this._size += this._growthStep;\n        this._available += this._growthStep;\n    };\n    Pool.prototype.get = function () {\n        var result;\n        if (this._pool.length === 0) {\n            this.create();\n        }\n        result = this._pool.pop();\n        --this._available;\n        result.initPool(this);\n        return result;\n    };\n    Pool.prototype.release = function (obj) {\n        this._pool.push(obj);\n        ++this._available;\n    };\n    return Pool;\n}());\nexport { Pool };\n//# sourceMappingURL=Pool.js.map","export var MocDataType;\n(function (MocDataType) {\n    MocDataType[MocDataType[\"LinearInt\"] = 0] = \"LinearInt\";\n    MocDataType[MocDataType[\"RandomInt\"] = 1] = \"RandomInt\";\n    MocDataType[MocDataType[\"LinearFloat\"] = 2] = \"LinearFloat\";\n    MocDataType[MocDataType[\"RandomFloat\"] = 3] = \"RandomFloat\";\n})(MocDataType || (MocDataType = {}));\nexport var VALID_CHARS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nexport function randomString(length) {\n    if (length === void 0) { length = 25; }\n    var result = \"\";\n    for (var i = 0; i < length; i += 1) {\n        result += VALID_CHARS.charAt(Math.floor(Math.random() * VALID_CHARS.length));\n    }\n    return result;\n}\nexport function randomInt() {\n    return this.randomNumber() | 0;\n}\nexport function randomNumber() {\n    return Math.random() * 2147483647;\n}\nexport function numericArray(length, type) {\n    if (type === void 0) { type = MocDataType.LinearInt; }\n    var result = new Array(length);\n    switch (type) {\n        case MocDataType.RandomInt:\n            for (var i = 0; i < length; i += 1) {\n                result[i] = this.randomInt();\n            }\n            break;\n        case MocDataType.LinearFloat:\n            for (var i = 0; i < length; i += 1) {\n                result[i] = i + 0.5;\n            }\n            break;\n        case MocDataType.RandomFloat:\n            for (var i = 0; i < length; i += 1) {\n                result[i] = this.randomNumber();\n            }\n            break;\n        default:\n            for (var i = 0; i < length; i += 1) {\n                result[i] = i;\n            }\n            break;\n    }\n    return result;\n}\nexport function stringArray(arrayLength, stringLength) {\n    var result = new Array(arrayLength);\n    var i = -1;\n    while (++i < arrayLength) {\n        result[i] = this.randomString(stringLength);\n    }\n    return result;\n}\n//# sourceMappingURL=MocData.js.map","var KeyValuePair = (function () {\n    function KeyValuePair() {\n    }\n    return KeyValuePair;\n}());\nexport { KeyValuePair };\n//# sourceMappingURL=KeyValuePair.js.map","var __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nimport * as Arr from \"./Arr\";\nimport * as Calc from \"./Calc\";\nimport * as Dom from \"./Dom\";\nimport { Global } from \"./Global\";\nimport * as MocData from \"./MocData\";\nimport * as Obj from \"./Obj\";\nimport { Initable } from \"./standard/mixins/Initable\";\nimport { Poolable } from \"./standard/mixins/Poolable\";\nimport { Pool } from \"./standard/Pool\";\nimport { Dictionary } from \"./struct/Dictionary\";\nimport { KeyValuePair } from \"./struct/KeyValuePair\";\nimport { List } from \"./struct/List\";\nimport { Range2 } from \"./struct/Range2\";\nimport { Rect } from \"./struct/Rect\";\nimport { Stack } from \"./struct/Stack\";\nimport { Tree } from \"./struct/Tree\";\nimport { Vec2 } from \"./struct/Vec2\";\nimport * as Test from \"./Test\";\nimport { Timer } from \"./Timer\";\nimport { Uri } from \"./Uri\";\nimport * as Util from \"./Util\";\nexport function integrate(alias) {\n    var stringAlias = false;\n    var objectAlias = false;\n    var list = [\n        { name: \"Arr\", object: Arr },\n        { name: \"Calc\", object: Calc },\n        { name: \"Dom\", object: Dom },\n        { name: \"MocData\", object: MocData },\n        { name: \"Obj\", object: Obj },\n        { name: \"Initable\", object: Initable },\n        { name: \"Poolable\", object: Poolable },\n        { name: \"Pool\", object: Pool },\n        { name: \"Dictionary\", object: Dictionary },\n        { name: \"KeyValuePair\", object: KeyValuePair },\n        { name: \"List\", object: List },\n        { name: \"Range2\", object: Range2 },\n        { name: \"Rect\", object: Rect },\n        { name: \"Stack\", object: Stack },\n        { name: \"Tree\", object: Tree },\n        { name: \"Vec2\", object: Vec2 },\n        { name: \"Test\", object: Test },\n        { name: \"Timer\", object: Timer },\n        { name: \"Uri\", object: Uri },\n        { name: \"Util\", object: Util },\n    ];\n    if (typeof (alias) === \"string\") {\n        Global.window[alias] = {};\n        stringAlias = true;\n    }\n    try {\n        for (var list_1 = __values(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {\n            var stuff = list_1_1.value;\n            if (stringAlias) {\n                Global.window[alias][stuff.name] = stuff.object;\n            }\n            else if (objectAlias) {\n                alias[stuff.name] = stuff.object;\n            }\n            else {\n                Global.window[stuff.name] = stuff.object;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    var e_1, _a;\n}\n//# sourceMappingURL=Integration.js.map","export function before(decoration) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            decoration.apply(this, [orgFn.name].concat(args));\n            var result = orgFn.apply(this, args);\n            return result;\n        };\n        return descriptor;\n    };\n}\nexport function after(decoration) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = orgFn.apply(this, [orgFn.name].concat(args));\n            decoration.apply(this, args);\n            return result;\n        };\n        return descriptor;\n    };\n}\nexport function around(decoration) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result;\n            var callback = function () {\n                return result = orgFn.apply(_this, args);\n            };\n            decoration.apply(this, [callback, orgFn.name].concat(args));\n            return result;\n        };\n        return descriptor;\n    };\n}\nexport function provided(condition) {\n    return function (target, propertyKey, descriptor) {\n        var orgFn = descriptor.value;\n        descriptor.value = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result;\n            if (condition.apply(this, [orgFn.name].concat(args))) {\n                result = orgFn.apply(this, args);\n            }\n            return result;\n        };\n        return descriptor;\n    };\n}\nexport function once(target, propertyKey, descriptor) {\n    var orgFn = descriptor.value;\n    var result;\n    var first = true;\n    descriptor.value = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (first) {\n            result = orgFn.apply(this, args);\n            first = false;\n        }\n        return result;\n    };\n    return descriptor;\n}\n//# sourceMappingURL=Combinators.js.map"],"names":["rotationRad","rotation","deg","CalcConst","DEGREE_FACTOR","ROTATION_DEGREE_PRECISION","this","rotationDeg","hasWindow","Global","window","hasConsole","undefined","console","isArray","it","Array","Object","prototype","toString","call","isFunction","isNumber","x","areNullOrUndefined","args","_i","arguments","length","a","len","i","result","areNotNullOrUndefined","apply","__spread","isNullOrUndefined","arg","isNotNullOrUndefined","areUndefined","isUndefined","isNotUndefined","wipe","obj","keys","setNull","constructor","clear","isClassOf","b","isSameClass","equals","key","isDifferent","clone","deepCopy","Date","getTime","RegExp","cloneInto","src","target","arrS","arrT","setProperties","values","mapping","flatten","flattenInner","push","reverse","array","left","right","temporary","concat","arrs","slice","from","count","Infinity","Math","min","splice","pos","remove","insert","Error","srcLen","max","insertLen","newLen","delta","i_1","append","arr","index","offset","removeAt","indexOfElement","el","indexOf","fn","shallowCopy","shallowCopyInto","deepCopyInto","filter","filterInto","j","space","map","mapInto","reduce","start","acc","reduceUntil","test","reverseReduce","reverseReduceUntil","forEach","startIndex","forSome","until","fnOrTest","isCombined","reverseForEach","reverseUntil","combined","some","all","insertAt","v","unshift","binarySearch","cmp","closest","mid","element","lo","hi","val","create","populator","deserialize","types","_a","__read","T","passthroughT","newT","Initable","_super","class_1","__extends","init","newUUID","d","Timer","now","replace","c","r","random","floor","counter","UtilState","_counter","LoggableCounter","callDebugger","proxyFn","objOrClass","fnName","bind","toArray","setAttr","_el","attr","get","k","styles","styleKeys","style","setProperty","join","setAttribute","children","removeChild","id","DomState","_document","getElementById","body","is","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","querySelector","querySelectorAll","Poolable","release","__pool__","initPool","pool","win","RADIAN_FACTOR","PI","DEG360","ROTATION_LOOKUP","lookup","cos","sin","NaN","radian","Vec2Const","EPSILON","IDENTITY","y","X_DIM","Y_DIM","Vec2","angle","horizontalAngle","direction","defineProperty","enumerable","configurable","set","out","toInt","ceil","toDecimal","lengthSq","sqrt","atan2","rotate","rot","nx","ny","rotateAround","center","subtract","add","normalize","scale","vectorB","relate","multiply","scalar","invert","almostEquals","abs","getNormal","isNormalized","temp","dot","cross","projectOnto","coeff","verticalAngle","rotateBy","zero","Rect","x1","y1","x2","y2","endInclusive","stop","isZero","toRange2","Range2","size","factor","keepCenter","ow","oh","w","h","translate","system","rect","area","move","vec","contains","intersect","containsPoint","toRect","org","s","t","first","p","begin","end","range","nativeWindow","_Global","_window","_nativeWindow","hasNativeWindow","o","n","m","Symbol","iterator","e","ar","next","done","value","error","nodeType","String","destroy","exclude","sources","len_1","hasOwnProperty","i_2","len_2","at","__values","Dictionary","_lookup","_list","List","_isDirty","has","delete","cleanList","reCreateList","list","toJSON","serialize","_this","_b","_c","_d","e_1_1","e_1","_e","return","_f","_g","e_2_1","e_2","_h","_j","_k","e_3_1","e_3","_l","_array","_index","_indexer","_pointer","Arr.shallowCopy","getByIndex","_reindex","fill","Arr.create","Arr.insertAt","pop","shift","arr2","Arr.concat","Arr.forEach","unindexEl","Arr.append","copy","Arr.deepCopyInto","Arr.shallowCopyInto","Arr.deepCopy","Arr.remove","removeFirst","Arr.removeAt","Arr.forSome","Arr.until","Arr.reverseForEach","Arr.reverseUntil","Arr.some","Arr.all","Arr.indexOf","Arr.indexOfElement","find","Arr.reverse","last","Arr.filter","select","selectInto","Arr.filterInto","head","Arr.slice","tail","Arr.splice","orderBy","sort","Arr.map","Arr.mapInto","Arr.reduce","Arr.reduceUntil","Arr.reverseReduce","Arr.reverseReduceUntil","same","indexer","long","short","union","zip","u","unzip","tuple","maxDepth","_flattenInner","depth","Arr.deserialize","Arr","Sides","SortedList","comparer","_cmp","getInsertIndex","bulkAdd","Function","longPos","lastPos","shortLen","aVsB","toList","Stack","DEFAULT_SIZE","_pos","_limit","fastPush","limitedPush","limitObjects","peek","peekAt","extendStatics","setPrototypeOf","__proto__","__","TimerState","_hasPerformance","_time","performance","hrTime","process","hrtime","_start","_last","name","_value","log","inc","reset","valueOf","_int","0","fnString","substring","lastIndexOf","warn","superfn","console_1","assertion","message","isDebug","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__metadata","metadata","Tree","parent","data","virtual","Tree_1","fromObject","root","fromNodeList","nodes","mapcfg","virtualRoot","mapResolver","nodeList","node","rootNodes","parentId","prune","stack","cur","duplicateNode","condition","document","createElement","html","innerHTML","appendChild","parentNode","replaceChild","top","comp","getComputedStyle","styles_1","styles_1_1","Uri","hash","pathName","port","hostName","protocol","origin","full","location","href","args_1","search","split","pathname","hostname","async","propertyKey","descriptor","orgFn","Promise","resolve","reject","err","before","decoration","callback","then","catch","reason","after","provided","async_predicate","MocDataType","Pool","cls","growthStep","_pool","_available","_size","_cls","_growthStep","VALID_CHARS","charAt","randomNumber","type","LinearInt","RandomInt","randomInt","LinearFloat","RandomFloat","arrayLength","stringLength","randomString","KeyValuePair","alias","stringAlias","object","Calc","Dom","MocData","Obj","Test","Util","list_1","list_1_1","stuff"],"mappings":"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"}