{"version":3,"file":"goodcore.es5.iife.min.js","sources":["lib/Calc.js","lib/Test.js","lib/Obj.js","lib/Arr.js","lib/Util.js","lib/Dom.js","lib/standard/mixins/Poolable.js","lib/standard/mixins/Initable.js","lib/Global.js","lib/struct/Vec2.js","lib/struct/Rect.js","lib/struct/Range2.js","lib/struct/Dictionary.js","lib/struct/List.js","lib/struct/SortedList.js","lib/struct/Stack.js","lib/Timer.js","lib/struct/Tree.js","lib/Uri.js","lib/standard/AsyncCombinators.js","lib/standard/Pool.js","lib/MocData.js","lib/struct/KeyValuePair.js","lib/standard/Combinators.js","lib/Integration.js"],"sourcesContent":["var CalcConst = (function () {\r\n    function CalcConst() {\r\n    }\r\n    CalcConst.ROTATION_DEGREE_PRECISION = 1;\r\n    CalcConst.RADIAN_FACTOR = (1 / 360) * (2 * Math.PI);\r\n    CalcConst.DEGREE_FACTOR = (1 / (2 * Math.PI) * 360);\r\n    CalcConst.DEG360 = 360 * CalcConst.ROTATION_DEGREE_PRECISION;\r\n    CalcConst.ROTATION_LOOKUP = (function () {\r\n        var lookup = [];\r\n        for (var i = 0; i < 360 * CalcConst.ROTATION_DEGREE_PRECISION; i++) {\r\n            lookup.push([Math.cos(i * CalcConst.RADIAN_FACTOR), Math.sin(i * CalcConst.RADIAN_FACTOR)]);\r\n        }\r\n        return lookup;\r\n    })();\r\n    return CalcConst;\r\n}());\r\nexport { CalcConst };\r\nexport function sign(x) {\r\n    return typeof x === \"number\" ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\r\n}\r\nexport function rotationDeg(rotation) {\r\n    var deg = (rotation * CalcConst.ROTATION_DEGREE_PRECISION) | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return CalcConst.ROTATION_LOOKUP[deg];\r\n}\r\nexport function rotationRad(rotation) {\r\n    var deg = rotation * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    return this.rotationDeg(deg / CalcConst.ROTATION_DEGREE_PRECISION);\r\n}\r\nexport function closestRadianRotation(radian) {\r\n    var deg = radian * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return deg * CalcConst.RADIAN_FACTOR / CalcConst.ROTATION_DEGREE_PRECISION;\r\n}\r\n//# sourceMappingURL=Calc.js.map","import { Global } from \"./Global\";\r\nexport function hasWindow() {\r\n    return Global.window !== null;\r\n}\r\nexport function hasConsole() {\r\n    return this.hasWindow() && Global.window.console !== undefined || typeof (console) === \"function\";\r\n}\r\nexport function isArray(it) {\r\n    return !!(it && (it instanceof Array || typeof (it) === \"array\"));\r\n}\r\nexport function isElement(target) {\r\n    return target !== undefined && target !== null && target.nodeType === 1 ? true : false;\r\n}\r\nexport function isFunction(it) {\r\n    return Object.prototype.toString.call(it) === \"[object Function]\";\r\n}\r\nexport function isNumber(x) {\r\n    return x === +x;\r\n}\r\nexport function isInt(x) {\r\n    return isNumber(x) && (x === (x | 0));\r\n}\r\nexport function isString(x) {\r\n    return isNotNullOrUndefined(x) && x.constructor === String;\r\n}\r\nexport function areNullOrUndefined() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var len = args.length;\r\n    var i = -1;\r\n    var a;\r\n    var result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined || a === null;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotNullOrUndefined() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return !areNullOrUndefined.apply(void 0, args);\r\n}\r\nexport function isNullOrUndefined(arg) {\r\n    return arg === undefined || arg === null;\r\n}\r\nexport function isNotNullOrUndefined(arg) {\r\n    return !isNullOrUndefined(arg);\r\n}\r\nexport function areUndefined() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var len = args.length;\r\n    var i = -1;\r\n    var a;\r\n    var result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotUndefined() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return !areUndefined.apply(void 0, args);\r\n}\r\nexport function isUndefined(arg) {\r\n    return arg === undefined;\r\n}\r\nexport function isNotUndefined(arg) {\r\n    return !isUndefined(arg);\r\n}\r\n//# sourceMappingURL=Test.js.map","import { deepCopy, flatten } from \"./Arr\";\r\nimport { areNotNullOrUndefined, isArray, isFunction } from \"./Test\";\r\nexport function destroy(obj) {\r\n    if (obj.constructor.prototype.destroy !== undefined) {\r\n        obj.destroy();\r\n    }\r\n    else {\r\n        setNull(obj);\r\n    }\r\n}\r\nexport function wipe(obj) {\r\n    var keys = Object.keys(obj);\r\n    var i = -1;\r\n    var len = keys.length;\r\n    while (++i < len) {\r\n        delete obj[keys[i]];\r\n    }\r\n}\r\nexport function setNull(obj) {\r\n    if (obj.constructor.prototype.clear !== undefined) {\r\n        obj.clear();\r\n    }\r\n    else {\r\n        var keys = Object.keys(obj);\r\n        var key = null;\r\n        var i = -1;\r\n        var len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            obj[key] = null;\r\n        }\r\n    }\r\n}\r\nexport function isClassOf(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a instanceof b.constructor;\r\n}\r\nexport function isSameClass(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a.constructor === b.constructor;\r\n}\r\nexport function inherits(a, b) {\r\n    return isClassOf(a, b) && !isSameClass(a, b);\r\n}\r\nexport function equals(a, b) {\r\n    var result = a === b;\r\n    if (a !== b && (a instanceof Object) && isSameClass(a, b)) {\r\n        if (isArray(a)) {\r\n            var len = a.length;\r\n            var i = 0;\r\n            result = len === b.length;\r\n            if (result) {\r\n                for (; i < len; i += 1) {\r\n                    result = equals(a[i], b[i]);\r\n                    if (result === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (a.constructor.prototype.equals) {\r\n            result = a.equals(b);\r\n        }\r\n        else {\r\n            var keys = Object.keys(a);\r\n            var key = null;\r\n            result = true;\r\n            var i = -1;\r\n            var len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                result = equals(a[key], b[key]);\r\n                if (!result) {\r\n                    if (isFunction(a[key])) {\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function isDifferent(a, b) {\r\n    return !equals(a, b);\r\n}\r\nexport function shallowCopy(obj) {\r\n    var keys = Object.keys(obj);\r\n    var result = {};\r\n    var i = -1;\r\n    var len = keys.length;\r\n    while (++i < len) {\r\n        var key = keys[i];\r\n        result[key] = obj[key];\r\n    }\r\n    return result;\r\n}\r\nexport function clone(obj) {\r\n    var result;\r\n    if (!(obj instanceof Object)) {\r\n        result = obj;\r\n    }\r\n    else if (obj.constructor.prototype.clone !== undefined) {\r\n        result = obj.clone();\r\n    }\r\n    else if (isArray(obj)) {\r\n        result = deepCopy(obj);\r\n    }\r\n    else if (obj instanceof Date) {\r\n        return new Date(obj.getTime());\r\n    }\r\n    else if (obj instanceof RegExp) {\r\n        return new RegExp(obj);\r\n    }\r\n    else {\r\n        result = new obj.constructor();\r\n        var keys = Object.keys(obj);\r\n        var key = null;\r\n        var i = -1;\r\n        var len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            result[key] = clone(obj[key]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function cloneInto(src, target) {\r\n    if (isArray(target)) {\r\n        var arrS = src;\r\n        var arrT = target;\r\n        var len = arrS.length;\r\n        arrT.length = len;\r\n        var i = -1;\r\n        while (++i < len) {\r\n            if (arrS[i] instanceof Object) {\r\n                cloneInto(arrS[i], arrT[i]);\r\n            }\r\n            else {\r\n                arrT[i] = arrS[i];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        var keys = Object.keys(src);\r\n        var key = null;\r\n        var i = -1;\r\n        var len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            var a = src[key];\r\n            if (a instanceof Object) {\r\n                var b = target[key];\r\n                if (b === undefined || b === null) {\r\n                    if (isArray(a)) {\r\n                        b = target[key] = [];\r\n                    }\r\n                    else {\r\n                        b = target[key] = {};\r\n                    }\r\n                }\r\n                if (isDifferent(a, b)) {\r\n                    cloneInto(a, b);\r\n                }\r\n            }\r\n            else {\r\n                target[key] = a;\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport function mixin(target, exclude) {\r\n    if (target === void 0) { target = {}; }\r\n    var sources = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        sources[_i - 2] = arguments[_i];\r\n    }\r\n    var result = target, len = sources ? sources.length : 0;\r\n    var i = 0;\r\n    sources = flatten(sources);\r\n    for (; i < len; i++) {\r\n        var src = sources[i];\r\n        if (isFunction(src)) {\r\n            src = src.prototype;\r\n        }\r\n        if (src === undefined) {\r\n            continue;\r\n        }\r\n        var keys = Object.keys(src);\r\n        var key = null;\r\n        if (exclude) {\r\n            var i_1 = -1;\r\n            var len_1 = keys.length;\r\n            while (++i_1 < len_1) {\r\n                key = keys[i_1];\r\n                if (exclude.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n        else {\r\n            var i_2 = -1;\r\n            var len_2 = keys.length;\r\n            while (++i_2 < len_2) {\r\n                key = keys[i_2];\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setProperties(target, values, mapping) {\r\n    var keys = Object.keys(values);\r\n    var key;\r\n    var value;\r\n    var i = -1;\r\n    var len = keys.length;\r\n    while (++i < len) {\r\n        key = keys[i];\r\n        value = values[key];\r\n        if (mapping && key in mapping) {\r\n            key = mapping[key];\r\n        }\r\n        if (key in target) {\r\n            target[key] = values[keys[i]];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Obj.js.map","import { isNumber, isUndefined } from \"util\";\r\nimport { clone } from \"./Obj\";\r\nimport { isArray } from \"./Test\";\r\nvar ArrayState = (function () {\r\n    function ArrayState() {\r\n    }\r\n    return ArrayState;\r\n}());\r\nexport function flatten(src) {\r\n    return flattenInner(src);\r\n}\r\nfunction flattenInner(src, result) {\r\n    if (result === void 0) { result = []; }\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        if (isArray(src[i])) {\r\n            flattenInner(src[i], result);\r\n        }\r\n        else {\r\n            result.push(src[i]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function reverse(array) {\r\n    var left = null;\r\n    var right = null;\r\n    var length = array.length;\r\n    for (left = 0; left < length / 2; left += 1) {\r\n        right = length - 1 - left;\r\n        var temporary = array[left];\r\n        array[left] = array[right];\r\n        array[right] = temporary;\r\n    }\r\n    return array;\r\n}\r\nexport function concat() {\r\n    var arrs = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        arrs[_i] = arguments[_i];\r\n    }\r\n    var result = Array.prototype.concat.apply([], arrs);\r\n    return result;\r\n}\r\nexport function slice(src, from, count) {\r\n    if (from === void 0) { from = 0; }\r\n    if (count === void 0) { count = Infinity; }\r\n    var len = Math.min(src.length - from, count);\r\n    if (len < 0) {\r\n        len = 0;\r\n    }\r\n    var i = -1;\r\n    var result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i + from];\r\n    }\r\n    return result;\r\n}\r\nexport function append(arr, values) {\r\n    var index = -1;\r\n    var offset = arr.length;\r\n    var length = values.length;\r\n    while (++index < length) {\r\n        arr[offset + index] = values[index];\r\n    }\r\n}\r\nexport function removeAt(arr, index) {\r\n    var result;\r\n    if (index !== -1 && index < arr.length) {\r\n        var len = arr.length;\r\n        var i = index;\r\n        result = arr[index];\r\n        while (++i < len) {\r\n            arr[i - 1] = arr[i];\r\n        }\r\n        arr.length -= 1;\r\n    }\r\n    return result;\r\n}\r\nexport function indexOfElement(src, el) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        if (src[i] === el) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function remove(arr, el) {\r\n    var start = indexOfElement(arr, el);\r\n    removeAt(arr, start);\r\n}\r\nexport function indexOf(src, fn) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        if (fn(src[i])) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function removeOneByFn(arr, fn) {\r\n    var start = indexOf(arr, fn);\r\n    removeAt(arr, start);\r\n}\r\nexport function shallowCopy(src) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    var result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i];\r\n    }\r\n    return result;\r\n}\r\nexport function shallowCopyInto(src, target) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = src[i];\r\n    }\r\n}\r\nexport function shallowFill(src, target, at) {\r\n    if (at === void 0) { at = 0; }\r\n    var i = -1;\r\n    var len = src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = src[i];\r\n    }\r\n}\r\nexport function deepCopy(src) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    var result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = (clone(src[i]));\r\n    }\r\n    return result;\r\n}\r\nexport function deepCopyInto(src, target) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function deepFill(src, target, at) {\r\n    if (at === void 0) { at = 0; }\r\n    var i = -1;\r\n    var len = src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function filter(src, fn) {\r\n    var result = [];\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        var el = src[i];\r\n        if (fn(el, i) === true) {\r\n            result.push(el);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function filterInto(src, target, fn) {\r\n    var i = -1;\r\n    var j = 0;\r\n    var len = src.length;\r\n    var space = target.length;\r\n    while (++i < len) {\r\n        var el = src[i];\r\n        if (fn(el, i) === true) {\r\n            if (j < space) {\r\n                target[j++] = el;\r\n            }\r\n            else {\r\n                ++j;\r\n                target.push(el);\r\n            }\r\n        }\r\n    }\r\n    target.length = j;\r\n}\r\nexport function map(src, fn) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    var result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = fn(src[i], i);\r\n    }\r\n    return result;\r\n}\r\nexport function mapInto(src, target, fn) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = fn(src[i], i);\r\n    }\r\n}\r\nexport function reduce(src, fn, start) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    var acc = start;\r\n    while (++i < len) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reduceUntil(src, fn, test, start) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    var acc = start;\r\n    while (++i < len && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduce(src, fn, start) {\r\n    var i = src.length;\r\n    var acc = start;\r\n    while (--i >= 0) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduceUntil(src, fn, test, start) {\r\n    var i = src.length;\r\n    var acc = start;\r\n    while (--i >= 0 && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function forEach(src, fn, startIndex) {\r\n    if (startIndex === void 0) { startIndex = 0; }\r\n    var i = startIndex - 1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function forSome(src, filter, fn) {\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len) {\r\n        var el = src[i];\r\n        if (filter(el, i)) {\r\n            fn(el, i);\r\n        }\r\n    }\r\n}\r\nexport function until(src, fnOrTest, fn, startIndex) {\r\n    var isCombined = isUndefined(fn) || isNumber(fn);\r\n    startIndex = isCombined ? fn : startIndex;\r\n    var i = isUndefined(startIndex) || startIndex < 0 ? -1 : startIndex - 1;\r\n    var len = src.length;\r\n    while (++i < len && (isCombined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function reverseForEach(src, fn) {\r\n    var i = src.length;\r\n    while (--i >= 0) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function reverseUntil(src, fnOrTest, fn) {\r\n    var i = src.length;\r\n    var combined = isUndefined(fn);\r\n    while (--i >= 0 && (combined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function some(src, fn) {\r\n    var result = false;\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len && !(result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function all(src, fn) {\r\n    var result = true;\r\n    var i = -1;\r\n    var len = src.length;\r\n    while (++i < len && (result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function insertAt(src, pos, v) {\r\n    if (pos === 0) {\r\n        src.unshift(v);\r\n    }\r\n    else if (pos > 0) {\r\n        var i = src.length;\r\n        while (--i >= pos) {\r\n            src[i + 1] = src[i];\r\n        }\r\n        src[i + 1] = v;\r\n    }\r\n}\r\nexport function binarySearch(src, cmp, closest) {\r\n    if (closest === void 0) { closest = false; }\r\n    var lo = 0, hi = src.length - 1, mid, element;\r\n    while (lo <= hi) {\r\n        mid = ((lo + hi) >> 1);\r\n        element = src[mid];\r\n        var val = cmp(element);\r\n        if (val < 0) {\r\n            lo = mid + 1;\r\n        }\r\n        else if (val > 0) {\r\n            hi = mid - 1;\r\n        }\r\n        else {\r\n            return mid;\r\n        }\r\n    }\r\n    return closest ? lo : -1;\r\n}\r\nexport function create(length, populator) {\r\n    if (length < 0) {\r\n        length = 0;\r\n    }\r\n    var arr = new Array(length);\r\n    var i = -1;\r\n    while (++i < length) {\r\n        arr[i] = populator(i, arr);\r\n    }\r\n    return arr;\r\n}\r\n//# sourceMappingURL=Arr.js.map","import { Global } from \"./Global\";\r\nimport { hasConsole, hasWindow, isNotUndefined } from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nvar UtilState = (function () {\r\n    function UtilState() {\r\n    }\r\n    UtilState._int = 0;\r\n    return UtilState;\r\n}());\r\nexport function init(win) {\r\n    if (win !== undefined) {\r\n        Global.window = win;\r\n    }\r\n}\r\nexport function getFunctionName(fn) {\r\n    var result;\r\n    if (fn.hasOwnProperty(\"name\") !== undefined) {\r\n        result = fn.name;\r\n    }\r\n    else {\r\n        var fnString = fn.toString();\r\n        result = fnString.substring(9, fnString.indexOf(\"(\"));\r\n    }\r\n    return result;\r\n}\r\nexport function getFunctionCode(fn) {\r\n    var result;\r\n    var fnString = fn.toString();\r\n    result = fnString.substring(fnString.indexOf(\"{\") + 1, fnString.lastIndexOf(\"}\"));\r\n    return result;\r\n}\r\nexport function newUUID() {\r\n    var d = new Date().getTime();\r\n    d += Timer.now();\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\nexport function newInt() {\r\n    return UtilState._int++;\r\n}\r\nexport function callDebugger() {\r\n    debugger;\r\n}\r\nexport function pipeOut(log, warn, error) {\r\n    if (hasConsole) {\r\n        proxyFn(console, \"log\", function (superfn) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            superfn.apply(void 0, args);\r\n            log.apply(void 0, args);\r\n        });\r\n        proxyFn(console, \"warn\", function (superfn) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            superfn.apply(void 0, args);\r\n            warn.apply(void 0, args);\r\n        });\r\n        proxyFn(console, \"error\", function (superfn) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            superfn.apply(void 0, args);\r\n            error.apply(void 0, args);\r\n        });\r\n    }\r\n    else {\r\n        var console_1 = {\r\n            log: log,\r\n            warn: warn,\r\n            error: error\r\n        };\r\n        if (!(hasWindow())) {\r\n            Global.window = {\r\n                console: console_1\r\n            };\r\n        }\r\n        else {\r\n            Global.window.console = console_1;\r\n        }\r\n    }\r\n}\r\nexport function assert(assertion, message, isDebug) {\r\n    if (isDebug === void 0) { isDebug = true; }\r\n    var result = true;\r\n    if (!assertion) {\r\n        if (hasConsole) {\r\n            result = false;\r\n            console.error(\"Assertion failed: \" + message);\r\n        }\r\n        if (isDebug) {\r\n            callDebugger();\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function proxyFn(objOrClass, fnName, proxyFn) {\r\n    objOrClass = isNotUndefined(objOrClass.prototype) ? objOrClass.prototype : objOrClass;\r\n    var fn = objOrClass[fnName];\r\n    var _superFn = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (args.length !== 0) {\r\n            return fn.apply(this || objOrClass, args);\r\n        }\r\n        else {\r\n            return fn.call(this || objOrClass);\r\n        }\r\n    };\r\n    objOrClass[fnName] = proxyFn.bind(objOrClass, _superFn);\r\n}\r\nexport function loop(count, fn) {\r\n    var i = -1;\r\n    while (++i < count) {\r\n        fn(i);\r\n    }\r\n}\r\nexport function toArray(arr) {\r\n    return Array.prototype.slice.call(arr);\r\n}\r\n//# sourceMappingURL=Util.js.map","import { Global } from \"./Global\";\r\nexport var Sides;\r\n(function (Sides) {\r\n    Sides[Sides[\"Top\"] = 0] = \"Top\";\r\n    Sides[Sides[\"Bottom\"] = 1] = \"Bottom\";\r\n    Sides[Sides[\"Left\"] = 2] = \"Left\";\r\n    Sides[Sides[\"Right\"] = 3] = \"Right\";\r\n})(Sides || (Sides = {}));\r\nvar DomState = (function () {\r\n    function DomState() {\r\n    }\r\n    DomState.Sides = Sides;\r\n    DomState._window = Global.window;\r\n    DomState._document = Global.window ? Global.window.document : undefined;\r\n    DomState._el = Global.window ? Global.window.document.createElement(\"div\") : undefined;\r\n    return DomState;\r\n}());\r\nexport function init(win) {\r\n    Global.window = win;\r\n    DomState._window = Global.window;\r\n    DomState._document = DomState._window.document;\r\n    DomState._el = DomState._document.createElement(\"div\");\r\n}\r\nexport function toArray(a) {\r\n    return Array.prototype.slice.call(a);\r\n}\r\nexport function create(html, attr) {\r\n    var result, keys, i, k, styles, styleKeys;\r\n    DomState._el.innerHTML = html;\r\n    result = DomState._el.children[0];\r\n    setAttr(result, attr);\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function outerHTML(el) {\r\n    DomState._el.appendChild(el);\r\n    var result = DomState._el.innerHTML;\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function setAttr(_el, attr) {\r\n    var el;\r\n    if (typeof (_el) === \"string\") {\r\n        el = get(_el);\r\n    }\r\n    else {\r\n        el = _el;\r\n    }\r\n    var keys, i, k, styles, styleKeys, style;\r\n    if (attr !== undefined && typeof (attr) === \"object\") {\r\n        keys = Object.keys(attr);\r\n        for (i = 0; i < keys.length; i++) {\r\n            if (keys[i] === \"style\") {\r\n                styles = attr[keys[i]];\r\n                styleKeys = Object.keys(styles);\r\n                for (k = 0; k < styleKeys.length; k++) {\r\n                    style = styles[styleKeys[k]];\r\n                    if (typeof (style) === \"string\") {\r\n                        el.style.setProperty(styleKeys[k], style);\r\n                    }\r\n                    else {\r\n                        el.style.setProperty(styleKeys[k], style[0], style[1]);\r\n                    }\r\n                }\r\n            }\r\n            else if (keys[i] === \"classes\" && attr[keys[i]] !== undefined && attr[keys[i]].join) {\r\n                el.setAttribute(\"className\", attr[keys[i]].join(\" \"));\r\n            }\r\n            else {\r\n                el.setAttribute(keys[i], attr[keys[i]]);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function remove(element) {\r\n    return element.parentNode === undefined ? null : element.parentNode.removeChild(element);\r\n}\r\nexport function replace(src, target) {\r\n    var result = target;\r\n    if (src.parentNode) {\r\n        src.parentNode.replaceChild(target, src);\r\n    }\r\n    return result;\r\n}\r\nexport function clear(element) {\r\n    var i = element.children.length;\r\n    while (i--) {\r\n        element.removeChild(element.children[i]);\r\n    }\r\n}\r\nexport function get(id) {\r\n    var result = DomState._document.getElementById(id);\r\n    if (result === null) {\r\n        switch (id) {\r\n            default:\r\n                result = DomState._document.body;\r\n                break;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function find(selector) {\r\n    return DomState._document.querySelector(selector);\r\n}\r\nexport function findAll(selector, root) {\r\n    return toArray((root || DomState._document).querySelectorAll(selector));\r\n}\r\nexport function children(root, selector) {\r\n    var children = toArray((root || DomState._document).children);\r\n    return selector === undefined ? children : children.filter(is.bind(this, selector));\r\n}\r\nexport function findParent(root, selector) {\r\n    var result = root.parentElement;\r\n    while (result) {\r\n        if (is(selector, result)) {\r\n            break;\r\n        }\r\n        result = result.parentElement;\r\n    }\r\n    return result;\r\n}\r\nexport function position(el, x, y) {\r\n    el.style.top = y + \"px\";\r\n    el.style.left = x + \"px\";\r\n}\r\nexport function is(selector, element) {\r\n    var result = false;\r\n    if (element.matches) {\r\n        result = element.matches(selector);\r\n    }\r\n    else if (element.msMatchesSelector) {\r\n        result = element.msMatchesSelector(selector);\r\n    }\r\n    else if (element.webkitMatchesSelector) {\r\n        result = element.webkitMatchesSelector(selector);\r\n    }\r\n    else {\r\n        if (element.parentElement === null) {\r\n            throw new Error(\"Element has no parent\");\r\n        }\r\n        if (element.id !== \"\") {\r\n            result = element.parentElement.querySelector(\"#\" + element.id) !== null;\r\n        }\r\n        else {\r\n            result = toArray(element.parentElement.querySelectorAll(selector)).indexOf(element) !== -1;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setStylesExplicitly(element) {\r\n    var styles = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        styles[_i - 1] = arguments[_i];\r\n    }\r\n    var comp = DomState._window.getComputedStyle(element);\r\n    for (var _a = 0, styles_1 = styles; _a < styles_1.length; _a++) {\r\n        var style = styles_1[_a];\r\n        element.style[style] = comp[style];\r\n    }\r\n}\r\n//# sourceMappingURL=Dom.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexport function Poolable(Base) {\r\n    return (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _super.apply(this, args) || this;\r\n        }\r\n        class_1.prototype.release = function () {\r\n            this.__pool__.release(this);\r\n        };\r\n        class_1.prototype.initPool = function (pool) {\r\n            this.__pool__ = pool;\r\n        };\r\n        return class_1;\r\n    }(Base));\r\n}\r\n//# sourceMappingURL=Poolable.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { setProperties } from \"../../Obj\";\r\nexport function Initable(base) {\r\n    return (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        class_1.prototype.init = function (obj, mapping) {\r\n            setProperties(this, obj, mapping);\r\n            return this;\r\n        };\r\n        return class_1;\r\n    }(base));\r\n}\r\n//# sourceMappingURL=Initable.js.map","var nativeWindow = true;\r\nvar win;\r\nif (typeof (window) === \"undefined\") {\r\n    win = null;\r\n    nativeWindow = false;\r\n}\r\nelse {\r\n    win = window;\r\n}\r\nvar _Global = (function () {\r\n    function _Global() {\r\n        this._window = win;\r\n        this._nativeWindow = nativeWindow;\r\n    }\r\n    Object.defineProperty(_Global.prototype, \"window\", {\r\n        get: function () {\r\n            return this._window;\r\n        },\r\n        set: function (v) {\r\n            this._window = v;\r\n            if (this.hasNativeWindow) {\r\n                win = v;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Global.prototype, \"hasNativeWindow\", {\r\n        get: function () {\r\n            return this._nativeWindow;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return _Global;\r\n}());\r\nexport { _Global };\r\nexport var Global = new _Global();\r\n//# sourceMappingURL=Global.js.map","import { rotationRad } from \"../Calc\";\r\nvar Vec2Const = (function () {\r\n    function Vec2Const() {\r\n    }\r\n    Vec2Const.EPSILON = 1e-8;\r\n    Vec2Const.IDENTITY = { x: 1, y: 1 };\r\n    Vec2Const.X_DIM = { x: 1, y: 0 };\r\n    Vec2Const.Y_DIM = { x: 0, y: 1 };\r\n    return Vec2Const;\r\n}());\r\nexport { Vec2Const };\r\nvar Vec2 = (function () {\r\n    function Vec2(x, y) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        this.angle = this.horizontalAngle;\r\n        this.direction = this.horizontalAngle;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    Object.defineProperty(Vec2.prototype, \"isZero\", {\r\n        get: function () {\r\n            return this.x === 0 && this.y === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Vec2.prototype.create = function (x, y) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        return new (this.constructor)(x, y);\r\n    };\r\n    Vec2.prototype.set = function (src) {\r\n        this.x = src.x;\r\n        this.y = src.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.clone = function (out) {\r\n        var result = out ? out.set(this) : this.create(this.x, this.y);\r\n        return result;\r\n    };\r\n    Vec2.prototype.toInt = function () {\r\n        this.x |= 0;\r\n        this.y |= 0;\r\n        return this;\r\n    };\r\n    Vec2.prototype.ceil = function () {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    };\r\n    Vec2.prototype.toDecimal = function () {\r\n        this.x += Vec2Const.EPSILON;\r\n        this.y += Vec2Const.EPSILON;\r\n        return this;\r\n    };\r\n    Vec2.prototype.lengthSq = function () { return (this.x * this.x + this.y * this.y); };\r\n    Vec2.prototype.length = function () { return Math.sqrt(this.lengthSq()); };\r\n    Vec2.prototype.horizontalAngle = function () { return Math.atan2(this.y, this.x); };\r\n    Vec2.prototype.rotate = function (angle) {\r\n        var rot = rotationRad(angle);\r\n        var nx = (this.x * rot[0]) - (this.y * rot[1]);\r\n        var ny = (this.x * rot[1]) + (this.y * rot[0]);\r\n        this.x = nx;\r\n        this.y = ny;\r\n        return this;\r\n    };\r\n    Vec2.prototype.rotateAround = function (center, angle) {\r\n        return this.subtract(center).rotate(angle).add(center);\r\n    };\r\n    Vec2.prototype.normalize = function () {\r\n        var len = this.length();\r\n        if (len === 0) {\r\n            this.x = 1;\r\n            this.y = 0;\r\n        }\r\n        else {\r\n            this.x = this.x / len;\r\n            this.y = this.y / len;\r\n        }\r\n        return this;\r\n    };\r\n    Vec2.prototype.scale = function (vectorB) {\r\n        this.x = this.x * vectorB.x;\r\n        this.y = this.y * vectorB.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.relate = function (vectorB) {\r\n        this.x = this.x / vectorB.x;\r\n        this.y = this.y / vectorB.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.multiply = function (scalar) {\r\n        this.x = this.x * scalar;\r\n        this.y = this.y * scalar;\r\n        return this;\r\n    };\r\n    Vec2.prototype.add = function (vectorB) {\r\n        this.x = this.x + vectorB.x;\r\n        this.y = this.y + vectorB.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.subtract = function (vectorB) {\r\n        this.x = this.x - vectorB.x;\r\n        this.y = this.y - vectorB.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.invert = function () {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.equals = function (target) {\r\n        return this.x === target.x && this.y === target.y;\r\n    };\r\n    Vec2.prototype.almostEquals = function (target) {\r\n        return Math.abs(this.x - target.x) < Vec2Const.EPSILON && Math.abs(this.y - target.y) < Vec2Const.EPSILON;\r\n    };\r\n    Vec2.prototype.getNormal = function (isNormalized) {\r\n        var result = this.clone();\r\n        if (!isNormalized) {\r\n            result.set(this).normalize();\r\n        }\r\n        var temp = result.x;\r\n        result.x = result.y;\r\n        result.y = -temp;\r\n        return result;\r\n    };\r\n    Vec2.prototype.dot = function (vectorB) { return (this.x * vectorB.x + this.y * vectorB.y); };\r\n    Vec2.prototype.cross = function (vectorB) { return ((this.x * vectorB.y) - (this.y * vectorB.x)); };\r\n    Vec2.prototype.projectOnto = function (vectorB) {\r\n        var coeff = ((this.x * vectorB.x) + (this.y * vectorB.y)) / ((vectorB.x * vectorB.x) + (vectorB.y * vectorB.y));\r\n        this.x = coeff * vectorB.x;\r\n        this.y = coeff * vectorB.y;\r\n        return this;\r\n    };\r\n    Vec2.prototype.verticalAngle = function () { return Math.atan2(this.x, this.y); };\r\n    Vec2.prototype.rotateBy = function (rotation) {\r\n        var angle = -this.horizontalAngle() + rotation;\r\n        return this.rotate(angle);\r\n    };\r\n    Vec2.prototype.max = function (v) {\r\n        this.x = Math.max(this.x, v.x);\r\n        this.y = Math.max(this.y, v.y);\r\n        return this;\r\n    };\r\n    Vec2.prototype.min = function (v) {\r\n        this.x = Math.min(this.x, v.x);\r\n        this.y = Math.min(this.y, v.y);\r\n        return this;\r\n    };\r\n    Vec2.prototype.zero = function () {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        return this;\r\n    };\r\n    return Vec2;\r\n}());\r\nexport { Vec2 };\r\n//# sourceMappingURL=Vec2.js.map","import { Range2 } from \"./Range2\";\r\nimport { Vec2 } from \"./Vec2\";\r\nvar Rect = (function () {\r\n    function Rect(x1, y1, x2, y2, endInclusive) {\r\n        if (x1 === void 0) { x1 = 0; }\r\n        if (y1 === void 0) { y1 = 0; }\r\n        if (x2 === void 0) { x2 = 0; }\r\n        if (y2 === void 0) { y2 = 0; }\r\n        if (endInclusive === void 0) { endInclusive = false; }\r\n        this.start = new Vec2(x1, y1);\r\n        this.stop = new Vec2(x2, y2);\r\n        this.endInclusive = endInclusive;\r\n    }\r\n    Object.defineProperty(Rect.prototype, \"isZero\", {\r\n        get: function () {\r\n            return this.start.isZero && this.stop.isZero;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Rect.prototype.create = function (x1, y1, x2, y2, endInclusive) {\r\n        if (x1 === void 0) { x1 = 0; }\r\n        if (y1 === void 0) { y1 = 0; }\r\n        if (x2 === void 0) { x2 = 0; }\r\n        if (y2 === void 0) { y2 = 0; }\r\n        if (endInclusive === void 0) { endInclusive = false; }\r\n        return new (this.constructor)(x1, y1, x2, y2, endInclusive);\r\n    };\r\n    Rect.prototype.set = function (src) {\r\n        this.start.set(src.start);\r\n        this.stop.set(src.stop);\r\n        return this;\r\n    };\r\n    Rect.prototype.clone = function (out) {\r\n        var result = out ? out.set(this) : this.create(this.start.x, this.start.y, this.stop.x, this.stop.y);\r\n        return result;\r\n    };\r\n    Rect.prototype.toRange2 = function (out) {\r\n        var result = out || new Range2();\r\n        var start = this.start;\r\n        var stop = this.stop;\r\n        result.pos.x = start.x;\r\n        result.pos.y = start.y;\r\n        result.size.x = stop.x + (this.endInclusive ? (stop.x < start.x ? -1 : 1) : 0) - start.x;\r\n        result.size.y = stop.y + (this.endInclusive ? (stop.y < start.y ? -1 : 1) : 0) - start.y;\r\n        return result;\r\n    };\r\n    Rect.prototype.scale = function (factor, keepCenter) {\r\n        if (keepCenter === void 0) { keepCenter = true; }\r\n        var ow = this.stop.x - this.start.x;\r\n        var oh = this.stop.y - this.start.y;\r\n        var w = ow;\r\n        var h = oh;\r\n        w *= factor.x;\r\n        h *= factor.y;\r\n        if (keepCenter) {\r\n            this.start.x -= (w - ow) / 2;\r\n            this.start.y -= (h - oh) / 2;\r\n        }\r\n        this.stop.x = this.start.x + w;\r\n        this.stop.y = this.start.y + h;\r\n        return this;\r\n    };\r\n    Rect.prototype.translate = function (system) {\r\n        this.start.scale(system);\r\n        this.stop.scale(system);\r\n        return this;\r\n    };\r\n    Rect.prototype.equals = function (rect) {\r\n        return this.start.equals(rect.start) && this.stop.equals(rect.stop);\r\n    };\r\n    Rect.prototype.toInt = function () {\r\n        this.start.toInt();\r\n        this.stop.toInt();\r\n        return this;\r\n    };\r\n    Rect.prototype.toDecimal = function () {\r\n        this.start.toDecimal();\r\n        this.stop.toDecimal();\r\n        return this;\r\n    };\r\n    Rect.prototype.area = function () {\r\n        var x = this.stop.x - this.start.x;\r\n        var y = this.stop.y - this.start.y;\r\n        return x * y;\r\n    };\r\n    Rect.prototype.move = function (vec) {\r\n        this.start.add(vec);\r\n        this.stop.add(vec);\r\n        return this;\r\n    };\r\n    Rect.prototype.contains = function (target) {\r\n        return this.start.x <= target.start.x &&\r\n            this.start.y <= target.start.y &&\r\n            this.stop.x >= target.stop.x &&\r\n            this.stop.y >= target.stop.y;\r\n    };\r\n    Rect.prototype.intersect = function (target) {\r\n        return this.containsPoint(target.start.x, target.start.y) ||\r\n            this.containsPoint(target.stop.x, target.stop.y) ||\r\n            this.containsPoint(target.start.x, target.stop.y) ||\r\n            this.containsPoint(target.stop.x, target.start.y);\r\n    };\r\n    Rect.prototype.containsPoint = function (x, y) {\r\n        return this.start.x <= x && this.stop.x >= x &&\r\n            this.start.y <= y && this.stop.y >= y;\r\n    };\r\n    Rect.prototype.zero = function () {\r\n        this.start.zero();\r\n        this.stop.zero();\r\n        return this;\r\n    };\r\n    return Rect;\r\n}());\r\nexport { Rect };\r\n//# sourceMappingURL=Rect.js.map","import { Rect } from \"./Rect\";\r\nimport { Vec2 } from \"./Vec2\";\r\nvar Range2 = (function () {\r\n    function Range2(x, y, w, h) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (w === void 0) { w = 0; }\r\n        if (h === void 0) { h = 0; }\r\n        this.pos = new Vec2(x, y);\r\n        this.size = new Vec2(w, h);\r\n    }\r\n    Object.defineProperty(Range2.prototype, \"isZero\", {\r\n        get: function () {\r\n            return this.pos.isZero && this.size.isZero;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Range2.prototype.create = function (x, y, w, h) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (w === void 0) { w = 0; }\r\n        if (h === void 0) { h = 0; }\r\n        return new (this.constructor)(x, y, w, h);\r\n    };\r\n    Range2.prototype.set = function (src) {\r\n        this.pos.set(src.pos);\r\n        this.size.set(src.size);\r\n        return this;\r\n    };\r\n    Range2.prototype.clone = function (out) {\r\n        var result = out ? out.set(this) : this.create(this.pos.x, this.pos.y, this.size.x, this.size.y);\r\n        return result;\r\n    };\r\n    Range2.prototype.toRect = function (endInclusive, out) {\r\n        if (endInclusive === void 0) { endInclusive = false; }\r\n        var result = out || new Rect();\r\n        result.start.x = this.pos.x,\r\n            result.start.y = this.pos.y,\r\n            result.stop.x = this.pos.x - (endInclusive ? (this.size.x < 0 ? -1 : 1) : 0) + this.size.x,\r\n            result.stop.y = this.pos.y - (endInclusive ? (this.size.y < 0 ? -1 : 1) : 0) + this.size.y,\r\n            result.endInclusive = endInclusive;\r\n        return result;\r\n    };\r\n    Range2.prototype.scale = function (factor, keepCenter) {\r\n        if (keepCenter === void 0) { keepCenter = true; }\r\n        var org = null;\r\n        if (keepCenter) {\r\n            org = this.size.clone();\r\n        }\r\n        this.size.scale(factor);\r\n        if (keepCenter) {\r\n            this.pos.add(org.subtract(this.size).multiply(0.5));\r\n        }\r\n        return this;\r\n    };\r\n    Range2.prototype.translate = function (system) {\r\n        this.toRect(false).translate(system).toRange2(this);\r\n        return this;\r\n    };\r\n    Range2.prototype.toInt = function () {\r\n        this.pos.toInt();\r\n        this.size.toInt();\r\n        return this;\r\n    };\r\n    Range2.prototype.toDecimal = function () {\r\n        this.pos.toDecimal();\r\n        this.size.toDecimal();\r\n        return this;\r\n    };\r\n    Range2.prototype.contains = function (target) {\r\n        return this.pos.x <= target.pos.x &&\r\n            this.pos.y <= target.pos.y &&\r\n            this.pos.x + this.size.x >= target.pos.x + target.size.x &&\r\n            this.pos.y + this.size.y >= target.pos.y + target.size.y;\r\n    };\r\n    Range2.prototype.intersect = function (target) {\r\n        var s = this.toRect();\r\n        var t = target.clone().toRect();\r\n        return s.intersect(t);\r\n    };\r\n    Range2.prototype.containsPoint = function (vec) {\r\n        return vec.x >= this.pos.x && vec.x <= this.pos.x + this.size.x - 1\r\n            && vec.y >= this.pos.y && vec.y <= this.pos.y + this.size.y - 1;\r\n    };\r\n    Range2.prototype.first = function (fn) {\r\n        var p = new Vec2();\r\n        var x = this.pos.x;\r\n        var y = this.pos.y;\r\n        for (var i = 0; i < this.size.x; i++) {\r\n            for (var j = 0; j < this.size.y; j++) {\r\n                p.x = i + x, p.y = j + y;\r\n                if (fn(p)) {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    Range2.prototype.forEach = function (fn, start) {\r\n        if (start === void 0) { start = null; }\r\n        var pos = new Vec2();\r\n        var begin = this.pos.clone().toInt();\r\n        if (start === null || !this.containsPoint(start)) {\r\n            start = begin;\r\n        }\r\n        var end = this.pos.clone().add(this.size).toInt();\r\n        for (var y = begin.y; y < end.y; y += 1) {\r\n            for (var x = begin.x; x < end.x; x += 1) {\r\n                if (y < start.y || (y === start.y && x < start.x)) {\r\n                    continue;\r\n                }\r\n                pos.x = x;\r\n                pos.y = y;\r\n                var brk = fn(pos);\r\n                if (brk) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Range2.prototype.equals = function (range) {\r\n        return this.pos.equals(range.pos) && this.size.equals(range.size);\r\n    };\r\n    Range2.prototype.zero = function () {\r\n        this.pos.zero();\r\n        this.size.zero();\r\n        return this;\r\n    };\r\n    return Range2;\r\n}());\r\nexport { Range2 };\r\n//# sourceMappingURL=Range2.js.map","import { forEach } from \"../Arr\";\r\nimport { clone, setProperties, wipe } from \"../Obj\";\r\nimport { isFunction, isNotUndefined } from \"../Test\";\r\nimport { List } from \"./List\";\r\nvar Dictionary = (function () {\r\n    function Dictionary() {\r\n        this._lookup = Object.create(null);\r\n        this._list = new List();\r\n        this._isDirty = false;\r\n    }\r\n    Dictionary.prototype.create = function () {\r\n        return new (this.constructor)();\r\n    };\r\n    Dictionary.prototype.has = function (key) {\r\n        return this._lookup[key] !== undefined;\r\n    };\r\n    Dictionary.prototype.contains = function (key) {\r\n        return this.has(key);\r\n    };\r\n    Dictionary.prototype.get = function (key) {\r\n        return this._lookup[key];\r\n    };\r\n    Dictionary.prototype.set = function (key, value) {\r\n        this._isDirty = this._isDirty || this.has(key);\r\n        if (value !== undefined) {\r\n            this._lookup[key] = value;\r\n            if (!this._isDirty) {\r\n                this._list.push(value);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Dictionary.prototype.delete = function (key) {\r\n        if (this.has(key)) {\r\n            delete this._lookup[key];\r\n            this._isDirty = true;\r\n        }\r\n        return this;\r\n    };\r\n    Dictionary.prototype.clear = function () {\r\n        wipe(this._lookup);\r\n        this._list.clear();\r\n        return this;\r\n    };\r\n    Object.defineProperty(Dictionary.prototype, \"values\", {\r\n        get: function () {\r\n            this.cleanList();\r\n            return this._list.values;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Dictionary.prototype, \"keys\", {\r\n        get: function () {\r\n            return Object.keys(this._lookup);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Dictionary.prototype, \"list\", {\r\n        get: function () {\r\n            this.cleanList();\r\n            return this._list;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Dictionary.prototype, \"count\", {\r\n        get: function () {\r\n            var result = 0;\r\n            if (this._isDirty) {\r\n                result = this.keys.length;\r\n            }\r\n            else {\r\n                result = this._list.count;\r\n            }\r\n            return result;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Dictionary.prototype.cleanList = function () {\r\n        if (this._isDirty) {\r\n            this.reCreateList();\r\n        }\r\n    };\r\n    Dictionary.prototype.reCreateList = function () {\r\n        var lookup = this._lookup;\r\n        var keys = Object.keys(this._lookup);\r\n        var i = -1;\r\n        var list = this._list;\r\n        list.clear();\r\n        while (++i < keys.length) {\r\n            list.add(lookup[keys[i]]);\r\n        }\r\n    };\r\n    Dictionary.prototype.clone = function () {\r\n        var result = this.create();\r\n        result._isDirty = this._isDirty;\r\n        result._list = this._list.clone();\r\n        result._lookup = clone(this._lookup);\r\n        return result;\r\n    };\r\n    Dictionary.prototype.toJSON = function () {\r\n        return this._lookup;\r\n    };\r\n    Dictionary.prototype.serialize = function () {\r\n        var _this = this;\r\n        var obj = Object.create(null);\r\n        forEach(this.keys, function (key) {\r\n            var v = _this.get(key);\r\n            obj[key] = isFunction(v.serialize) ? v.serialize() : v;\r\n        });\r\n        return obj;\r\n    };\r\n    Dictionary.prototype.revive = function (obj) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        var T = types[0], passthroughT = types.slice(1);\r\n        this.clear();\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.revive)) {\r\n                for (var _a = 0, _b = Object.keys(obj); _a < _b.length; _a++) {\r\n                    var key = _b[_a];\r\n                    this.set(key, (_c = (new T())).revive.apply(_c, [obj[key]].concat(passthroughT)));\r\n                }\r\n            }\r\n            else if (isNotUndefined(T.prototype.deserialize)) {\r\n                for (var _d = 0, _e = Object.keys(obj); _d < _e.length; _d++) {\r\n                    var key = _e[_d];\r\n                    this.set(key, (_f = (new T())).deserialize.apply(_f, [obj[key]].concat(passthroughT)));\r\n                }\r\n            }\r\n            else {\r\n                for (var _g = 0, _h = Object.keys(obj); _g < _h.length; _g++) {\r\n                    var key = _h[_g];\r\n                    var newT = new T();\r\n                    setProperties(newT, obj[key]);\r\n                    this.set(key, newT);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _j = 0, _k = Object.keys(obj); _j < _k.length; _j++) {\r\n                var key = _k[_j];\r\n                this.set(key, obj[key]);\r\n            }\r\n        }\r\n        return this;\r\n        var _c, _f;\r\n    };\r\n    Dictionary.prototype.deserialize = function (obj) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        return this.revive.apply(this, [obj].concat(types));\r\n    };\r\n    return Dictionary;\r\n}());\r\nexport { Dictionary };\r\n//# sourceMappingURL=Dictionary.js.map","import * as Arr from \"../Arr\";\r\nimport { equals, setProperties } from \"../Obj\";\r\nimport { isArray, isFunction, isNotNullOrUndefined, isNotUndefined } from \"../Test\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nvar List = (function () {\r\n    function List(arr) {\r\n        this._array = [];\r\n        this._index = null;\r\n        this._indexer = null;\r\n        if (arr === undefined) {\r\n            this._array = new Array();\r\n        }\r\n        else {\r\n            if (arr instanceof (List)) {\r\n                this._array = Arr.shallowCopy(arr._array);\r\n            }\r\n            else {\r\n                this._array = Arr.shallowCopy(arr);\r\n            }\r\n        }\r\n    }\r\n    List.prototype.create = function (arr) {\r\n        return new (this.constructor)(arr);\r\n    };\r\n    Object.defineProperty(List.prototype, \"values\", {\r\n        get: function () {\r\n            return this._array;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    List.prototype.get = function (pos) {\r\n        return this._array[pos];\r\n    };\r\n    List.prototype.getByIndex = function (key) {\r\n        var result;\r\n        return isNotNullOrUndefined(this._index) ? this._index.get(key) : undefined;\r\n    };\r\n    List.prototype.set = function (pos, v) {\r\n        if (pos >= 0 && pos < this.length) {\r\n            this._array[pos | 0] = v;\r\n            if (this._indexer !== null) {\r\n                this._index.set(this._indexer(v), v);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"index out of bounds on <List>.set(\" + pos + \", \" + v.toString() + \")\");\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(List.prototype, \"count\", {\r\n        get: function () {\r\n            return this._array.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(List.prototype, \"length\", {\r\n        get: function () {\r\n            return this._array.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(List.prototype, \"indexer\", {\r\n        get: function () {\r\n            return this._indexer;\r\n        },\r\n        set: function (fn) {\r\n            this._indexer = fn;\r\n            this._reindex();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    List.prototype._reindex = function () {\r\n        var _this = this;\r\n        if (this._indexer === null) {\r\n            this._index = null;\r\n        }\r\n        else {\r\n            if (this._index === null) {\r\n                this._index = new Dictionary();\r\n            }\r\n            else {\r\n                this._index.clear();\r\n            }\r\n            this.forEach(function (el) { return _this._index.set(_this._indexer(el), el); });\r\n        }\r\n    };\r\n    List.prototype.clear = function () {\r\n        this._array.length = 0;\r\n        if (this._index !== null) {\r\n            this._index.clear();\r\n        }\r\n        return this;\r\n    };\r\n    List.prototype.add = function (v) {\r\n        this._array.push(v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    };\r\n    List.prototype.insertAt = function (pos, v) {\r\n        Arr.insertAt(this._array, pos, v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    };\r\n    List.prototype.push = function (v) {\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this._array.push(v);\r\n    };\r\n    List.prototype.pop = function () {\r\n        var result = this._array.pop();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.shift = function () {\r\n        var result = this._array.shift();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.concat = function (v) {\r\n        var arr;\r\n        var arr2 = v instanceof List ? v.values : v;\r\n        arr = Arr.concat(this._array, arr2);\r\n        return this.create(arr);\r\n    };\r\n    List.prototype.index = function (arr) {\r\n        var _this = this;\r\n        if (this._indexer !== null) {\r\n            Arr.forEach(arr, function (el) {\r\n                _this._index.set(_this._indexer(el), el);\r\n            });\r\n        }\r\n    };\r\n    List.prototype.unindexEl = function (el) {\r\n        if (this._indexer !== null) {\r\n            this._index.delete(this._indexer(el));\r\n        }\r\n    };\r\n    List.prototype.append = function (v) {\r\n        var arr2 = v instanceof List ? v.values : v;\r\n        Arr.append(this._array, arr2);\r\n        this.index(arr2);\r\n        return this;\r\n    };\r\n    List.prototype.copy = function (src) {\r\n        var arr2 = src instanceof List ? src.values : src;\r\n        Arr.deepCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    };\r\n    List.prototype.shallowCopy = function (src) {\r\n        var arr2 = src instanceof List ? src.values : src;\r\n        Arr.shallowCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    };\r\n    List.prototype.clone = function () {\r\n        var arr = Arr.deepCopy(this._array);\r\n        var result = this.create(arr);\r\n        if (this._indexer !== null) {\r\n            result._indexer = this._indexer;\r\n            result._index = this._index.clone();\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.remove = function (v) {\r\n        Arr.remove(this._array, v);\r\n        this.unindexEl(v);\r\n        return this;\r\n    };\r\n    List.prototype.removeFirst = function (fn) {\r\n        var result = this.removeAt(this.indexOf(fn));\r\n        this.unindexEl(result);\r\n        return result;\r\n    };\r\n    List.prototype.removeAt = function (n) {\r\n        var result = Arr.removeAt(this._array, n);\r\n        this.unindexEl(result);\r\n        return result;\r\n    };\r\n    List.prototype.forEach = function (fn, startIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        Arr.forEach(this._array, fn, startIndex);\r\n        return this;\r\n    };\r\n    List.prototype.forSome = function (filter, fn) {\r\n        Arr.forSome(this._array, filter, fn);\r\n        return this;\r\n    };\r\n    List.prototype.until = function (fnOrTest, fn, startIndex) {\r\n        Arr.until(this._array, fnOrTest, fn, startIndex);\r\n        return this;\r\n    };\r\n    List.prototype.reverseForEach = function (fn) {\r\n        Arr.reverseForEach(this._array, fn);\r\n        return this;\r\n    };\r\n    List.prototype.reverseUntil = function (fnOrTest, fn) {\r\n        Arr.reverseUntil(this._array, fnOrTest, fn);\r\n        return this;\r\n    };\r\n    List.prototype.some = function (fn) {\r\n        return Arr.some(this._array, fn);\r\n    };\r\n    List.prototype.all = function (fn) {\r\n        return Arr.all(this._array, fn);\r\n    };\r\n    List.prototype.indexOf = function (v) {\r\n        var result = -1;\r\n        if (isFunction(v)) {\r\n            result = Arr.indexOf(this._array, v);\r\n        }\r\n        else {\r\n            result = Arr.indexOfElement(this._array, v);\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.contains = function (v) {\r\n        var result = false;\r\n        if (isFunction(v)) {\r\n            result = this.find(v) !== undefined;\r\n        }\r\n        else {\r\n            if (this._indexer !== null) {\r\n                result = this._index.contains(this._indexer(v));\r\n            }\r\n            else {\r\n                result = Arr.indexOfElement(this._array, v) !== -1;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.reverse = function () {\r\n        Arr.reverse(this._array);\r\n        return this;\r\n    };\r\n    List.prototype.first = function (fn) {\r\n        var index = -1;\r\n        var result;\r\n        if (fn === undefined) {\r\n            index = 0;\r\n        }\r\n        else {\r\n            index = Arr.indexOf(this._array, fn);\r\n        }\r\n        return index === -1 ? undefined : this.get(index);\r\n    };\r\n    List.prototype.find = function (fn) {\r\n        return this.first(fn);\r\n    };\r\n    List.prototype.last = function () {\r\n        return this.length === 0 ? undefined : this.get(this.length - 1);\r\n    };\r\n    List.prototype.filter = function (fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    };\r\n    List.prototype.select = function (fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    };\r\n    List.prototype.selectInto = function (src, fn) {\r\n        var arr = src instanceof List ? src.values : src;\r\n        Arr.filterInto(arr, this._array, fn);\r\n        this.index(arr);\r\n        return this;\r\n    };\r\n    List.prototype.orderBy = function (fn) {\r\n        this._array.sort(fn);\r\n        return this;\r\n    };\r\n    List.prototype.map = function (fn) {\r\n        return this.create(Arr.map(this._array, fn));\r\n    };\r\n    List.prototype.mapInto = function (src, fn) {\r\n        var arr = src instanceof List ? src.values : src;\r\n        Arr.mapInto(arr, this._array, fn);\r\n        this._reindex();\r\n        return this;\r\n    };\r\n    List.prototype.reduce = function (fn, start) {\r\n        return Arr.reduce(this._array, fn, start);\r\n    };\r\n    List.prototype.reduceUntil = function (fn, test, start) {\r\n        return Arr.reduceUntil(this._array, fn, test, start);\r\n    };\r\n    List.prototype.reverseReduce = function (fn, start) {\r\n        return Arr.reverseReduce(this._array, fn, start);\r\n    };\r\n    List.prototype.reverseReduceUntil = function (fn, test, start) {\r\n        return Arr.reverseReduceUntil(this._array, fn, test, start);\r\n    };\r\n    List.prototype.equals = function (b) {\r\n        var result = equals(this._array, b.values);\r\n        return result;\r\n    };\r\n    List.prototype.same = function (b) {\r\n        var a = this;\r\n        var count = 0;\r\n        if (a.length === b.length) {\r\n            if (a.indexer !== null) {\r\n                b.until(function (el) { return !a.contains(el); }, function (el, i) { return ++count; });\r\n            }\r\n            else {\r\n                a.until(function (el) { return !b.contains(el); }, function (el, i) { return ++count; });\r\n            }\r\n        }\r\n        return count === a.length;\r\n    };\r\n    List.prototype.intersect = function (b) {\r\n        var result = this.create();\r\n        var long;\r\n        var short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            short.forEach(function (el) {\r\n                if (long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            long.forEach(function (el) {\r\n                if (short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.union = function (b) {\r\n        var result = this.create();\r\n        var long;\r\n        var short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            result = long.clone();\r\n            short.forEach(function (el) {\r\n                if (!long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            result = short.clone();\r\n            long.forEach(function (el) {\r\n                if (!short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.zip = function (list, fn) {\r\n        if (fn === void 0) { fn = function (t, u) { return [t, u]; }; }\r\n        var result = this.create();\r\n        var length = list.length;\r\n        this.until(function (el, i) {\r\n            return i >= length;\r\n        }, function (el, i) {\r\n            result.push(fn(el, list.get(i)));\r\n        });\r\n        return result;\r\n    };\r\n    List.prototype.unzip = function (fn) {\r\n        if (fn === void 0) { fn = function (el) { return [el[0], el[1]]; }; }\r\n        var result = [this.create(), this.create()];\r\n        this.forEach(function (el) {\r\n            var tuple = fn(el);\r\n            result[0].push(tuple[0]);\r\n            result[1].push(tuple[1]);\r\n        });\r\n        return result;\r\n    };\r\n    List.prototype.flatten = function (maxDepth) {\r\n        if (maxDepth === void 0) { maxDepth = Infinity; }\r\n        return this.create(maxDepth < 1 ? this.values : this._flattenInner(this.values, maxDepth));\r\n    };\r\n    List.prototype._flattenInner = function (src, maxDepth, depth, result) {\r\n        if (depth === void 0) { depth = -1; }\r\n        if (result === void 0) { result = []; }\r\n        var i = -1;\r\n        var len = src.length;\r\n        if (++depth > maxDepth) {\r\n            result.push(src);\r\n        }\r\n        else {\r\n            while (++i < len) {\r\n                if (isArray(src[i])) {\r\n                    this._flattenInner(src[i], maxDepth, depth, result);\r\n                }\r\n                else if (src[i] instanceof List) {\r\n                    this._flattenInner(src[i].values, maxDepth, depth, result);\r\n                }\r\n                else {\r\n                    result.push(src[i]);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    List.prototype.toJSON = function () {\r\n        return this.values;\r\n    };\r\n    List.prototype.serialize = function () {\r\n        return this.values.map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\r\n    };\r\n    List.prototype.revive = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        var T = types[0], passthroughT = types.slice(1);\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.revive)) {\r\n                this.mapInto(array, function (el) {\r\n                    return (_a = (new T())).revive.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else if (isNotUndefined(T.prototype.deserialize)) {\r\n                this.mapInto(array, function (el) {\r\n                    return (_a = (new T())).deserialize.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else {\r\n                this.mapInto(array, function (el) {\r\n                    var newT = new T();\r\n                    setProperties(newT, el);\r\n                    return newT;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.copy(array);\r\n        }\r\n        return this;\r\n    };\r\n    List.prototype.deserialize = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        return this.revive.apply(this, [array].concat(types));\r\n    };\r\n    return List;\r\n}());\r\nexport { List };\r\n//# sourceMappingURL=List.js.map","import { isFunction } from \"util\";\r\nimport { binarySearch } from \"../Arr\";\r\nimport { equals, setProperties } from \"../Obj\";\r\nimport { isNotUndefined } from \"../Test\";\r\nimport { List } from \"./List\";\r\nvar Comparer = (function () {\r\n    function Comparer() {\r\n    }\r\n    Comparer.StringAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\n    Comparer.StringDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\n    Comparer.NumberAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\n    Comparer.NumberDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\n    return Comparer;\r\n}());\r\nexport { Comparer };\r\nvar SortedList = (function () {\r\n    function SortedList(comparer, arr) {\r\n        if (comparer === void 0) { comparer = (function (a, b) { return a < b ? -1 : a === b ? 0 : 1; }); }\r\n        this._list = new List();\r\n        this._cmp = comparer;\r\n        if (arr === undefined) {\r\n            this._list = new List();\r\n        }\r\n        else {\r\n            if (arr instanceof (List) || arr instanceof (SortedList)) {\r\n                this.copy(arr.values);\r\n            }\r\n            else {\r\n                this.copy(arr);\r\n            }\r\n        }\r\n    }\r\n    SortedList.prototype.create = function (comparer, arr) {\r\n        return new (this.constructor)(comparer, arr);\r\n    };\r\n    Object.defineProperty(SortedList.prototype, \"values\", {\r\n        get: function () {\r\n            return this._list.values;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortedList.prototype.get = function (pos) {\r\n        return this._list.get(pos);\r\n    };\r\n    Object.defineProperty(SortedList.prototype, \"count\", {\r\n        get: function () {\r\n            return this._list.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SortedList.prototype, \"length\", {\r\n        get: function () {\r\n            return this._list.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SortedList.prototype, \"comparer\", {\r\n        get: function () {\r\n            return this._cmp;\r\n        },\r\n        set: function (v) {\r\n            this._cmp = v;\r\n            this.sort();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortedList.prototype.sort = function () {\r\n        this._list.orderBy(this._cmp);\r\n    };\r\n    SortedList.prototype.clear = function () {\r\n        this._list.clear();\r\n        return this;\r\n    };\r\n    SortedList.prototype.add = function (v) {\r\n        var index = this.getInsertIndex(v);\r\n        this._list.insertAt(index, v);\r\n        return this;\r\n    };\r\n    SortedList.prototype.pop = function () {\r\n        return this._list.pop();\r\n    };\r\n    SortedList.prototype.shift = function () {\r\n        return this._list.shift();\r\n    };\r\n    SortedList.prototype.bulkAdd = function (v) {\r\n        if (v instanceof List || v instanceof SortedList) {\r\n            this._list.append(v.values);\r\n        }\r\n        else {\r\n            this._list.append(v);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    };\r\n    SortedList.prototype.copy = function (src) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.copy(src.values);\r\n        }\r\n        else {\r\n            this._list.copy(src);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    };\r\n    SortedList.prototype.clone = function () {\r\n        return this.create(this._cmp, this._list.clone());\r\n    };\r\n    SortedList.prototype.remove = function (v) {\r\n        var index = this.indexOf(v);\r\n        if (index !== -1) {\r\n            this._list.removeAt(index);\r\n        }\r\n        return this;\r\n    };\r\n    SortedList.prototype.removeAt = function (n) {\r\n        return this._list.removeAt(n);\r\n    };\r\n    SortedList.prototype.removeFirst = function (fn) {\r\n        return this._list.removeFirst(fn);\r\n    };\r\n    SortedList.prototype.forEach = function (fn, startIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        this._list.forEach(fn, startIndex);\r\n        return this;\r\n    };\r\n    SortedList.prototype.forSome = function (filter, fn) {\r\n        this._list.forSome(filter, fn);\r\n        return this;\r\n    };\r\n    SortedList.prototype.until = function (fnOrTest, fn, startIndex) {\r\n        this._list.until(fnOrTest, fn, startIndex);\r\n        return this;\r\n    };\r\n    SortedList.prototype.reverseForEach = function (fn) {\r\n        this._list.reverseForEach(fn);\r\n        return this;\r\n    };\r\n    SortedList.prototype.reverseUntil = function (fnOrTest, fn) {\r\n        this._list.reverseUntil(fnOrTest, fn);\r\n        return this;\r\n    };\r\n    SortedList.prototype.some = function (fn) {\r\n        return this._list.some(fn);\r\n    };\r\n    SortedList.prototype.all = function (fn) {\r\n        return this._list.all(fn);\r\n    };\r\n    SortedList.prototype.getInsertIndex = function (v) {\r\n        var _this = this;\r\n        return binarySearch(this._list.values, function (el) { return _this._cmp(el, v); }, true);\r\n    };\r\n    SortedList.prototype.indexOf = function (v) {\r\n        var _this = this;\r\n        var result = -1;\r\n        if (v instanceof Function) {\r\n            result = this._list.indexOf(v);\r\n        }\r\n        else {\r\n            result = binarySearch(this._list.values, function (el) { return _this._cmp(el, v); }, false);\r\n        }\r\n        return result;\r\n    };\r\n    SortedList.prototype.contains = function (v) {\r\n        return this.indexOf(v) !== -1;\r\n    };\r\n    SortedList.prototype.first = function (fn) {\r\n        return this._list.first(fn);\r\n    };\r\n    SortedList.prototype.find = function (fn) {\r\n        return this._list.find(fn);\r\n    };\r\n    SortedList.prototype.last = function () {\r\n        return this._list.last();\r\n    };\r\n    SortedList.prototype.filter = function (fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    };\r\n    SortedList.prototype.select = function (fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    };\r\n    SortedList.prototype.selectInto = function (src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.selectInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.selectInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    };\r\n    SortedList.prototype.map = function (fn) {\r\n        return this._list.map(fn);\r\n    };\r\n    SortedList.prototype.mapInto = function (src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.mapInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.mapInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    };\r\n    SortedList.prototype.reduce = function (fn, start) {\r\n        return this._list.reduce(fn, start);\r\n    };\r\n    SortedList.prototype.reduceUntil = function (fn, test, start) {\r\n        return this._list.reduceUntil(fn, test, start);\r\n    };\r\n    SortedList.prototype.reverseReduce = function (fn, start) {\r\n        return this._list.reverseReduce(fn, start);\r\n    };\r\n    SortedList.prototype.reverseReduceUntil = function (fn, test, start) {\r\n        return this._list.reverseReduceUntil(fn, test, start);\r\n    };\r\n    SortedList.prototype.equals = function (b) {\r\n        var result = equals(this._list.values, b.values);\r\n        return result;\r\n    };\r\n    SortedList.prototype.same = function (b) {\r\n        return this.equals(b);\r\n    };\r\n    SortedList.prototype.intersect = function (b) {\r\n        var result = this.create(this.comparer);\r\n        var long;\r\n        var short;\r\n        if (this.length > 0 && b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                var longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                var lastPos = long.getInsertIndex(short.last()) - 1;\r\n                var i = -1;\r\n                var shortLen = short.length;\r\n                while (longPos < lastPos && ++i < shortLen) {\r\n                    var el = short.get(i);\r\n                    var aVsB = void 0;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if (longPos < lastPos && aVsB === 0) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                short.forEach(function (el) {\r\n                    if (long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = result.bulkAdd(short.toList().intersect(long));\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    SortedList.prototype.union = function (b) {\r\n        var result;\r\n        var long;\r\n        var short;\r\n        if (this.length > 0 || b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                result = this.create(this.comparer, long.values);\r\n                var longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                var lastPos = long.getInsertIndex(short.last()) - 1;\r\n                var i = -1;\r\n                var shortLen = short.length;\r\n                while (++i < shortLen && longPos < lastPos) {\r\n                    var el = short.get(i);\r\n                    var aVsB = -1;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if ((aVsB > 0 && longPos < lastPos) || longPos === lastPos) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n                if (i < shortLen) {\r\n                    --i;\r\n                    while (++i < shortLen) {\r\n                        result.add(short.get(i));\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                result = this.create(this.comparer, long.values);\r\n                short.forEach(function (el) {\r\n                    if (!long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = this.create(this.comparer, short.toList().union(long));\r\n            }\r\n        }\r\n        else {\r\n            result = this.create(this.comparer);\r\n        }\r\n        return result;\r\n    };\r\n    SortedList.prototype.toList = function () {\r\n        return new List(this.values);\r\n    };\r\n    SortedList.prototype.toJSON = function () {\r\n        return this.values;\r\n    };\r\n    SortedList.prototype.serialize = function () {\r\n        return this.values.map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\r\n    };\r\n    SortedList.prototype.revive = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        var T = types[0], passthroughT = types.slice(1);\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.revive)) {\r\n                this.mapInto(array, function (el) {\r\n                    return (_a = (new T())).revive.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else if (isNotUndefined(T.prototype.deserialize)) {\r\n                this.mapInto(array, function (el) {\r\n                    return (_a = (new T())).deserialize.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else {\r\n                this.mapInto(array, function (el) {\r\n                    var newT = new T();\r\n                    setProperties(newT, el);\r\n                    return newT;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.copy(array);\r\n        }\r\n        return this;\r\n    };\r\n    SortedList.prototype.deserialize = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        return this.revive.apply(this, [array].concat(types));\r\n    };\r\n    return SortedList;\r\n}());\r\nexport { SortedList };\r\n//# sourceMappingURL=SortedList.js.map","import { isFunction } from \"util\";\r\nimport { deepCopy, deepCopyInto, mapInto, slice } from \"../Arr\";\r\nimport { setProperties } from \"../Obj\";\r\nimport { isNotUndefined } from \"../Test\";\r\nimport { List } from \"./List\";\r\nvar Stack = (function () {\r\n    function Stack(size) {\r\n        this.DEFAULT_SIZE = 100;\r\n        this._pos = 0;\r\n        this._limit = 0;\r\n        if (!size) {\r\n            size = this.DEFAULT_SIZE;\r\n        }\r\n        this.DEFAULT_SIZE = size;\r\n        this._array = new Array(size);\r\n        this.push = this.fastPush;\r\n    }\r\n    Object.defineProperty(Stack.prototype, \"values\", {\r\n        get: function () {\r\n            return slice(this._array, 0, this._pos);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Stack.prototype, \"depth\", {\r\n        get: function () {\r\n            return this._pos;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Stack.prototype, \"size\", {\r\n        get: function () {\r\n            return this._pos;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Stack.prototype, \"isEmpty\", {\r\n        get: function () {\r\n            return this.size === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Stack.prototype, \"limit\", {\r\n        get: function () {\r\n            return this._limit;\r\n        },\r\n        set: function (value) {\r\n            if (value < 0) {\r\n                value = 0;\r\n            }\r\n            this._limit = value;\r\n            if (value === 0) {\r\n                this.push = this.fastPush;\r\n            }\r\n            else {\r\n                this.push = this.limitedPush;\r\n                this.limitObjects();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Stack.prototype.create = function (size) {\r\n        return new (this.constructor)(size);\r\n    };\r\n    Stack.prototype.push = function (obj) {\r\n    };\r\n    Stack.prototype.fastPush = function (obj) {\r\n        this._array[this._pos++] = obj;\r\n    };\r\n    Stack.prototype.limitedPush = function (obj) {\r\n        this._array[this._pos] = obj;\r\n        ++this._pos;\r\n        this.limitObjects();\r\n    };\r\n    Stack.prototype.pop = function () {\r\n        var result = undefined;\r\n        if (this._pos !== 0) {\r\n            result = this._array[--this._pos];\r\n        }\r\n        return result;\r\n    };\r\n    Stack.prototype.peek = function () {\r\n        return this._array[this._pos - 1];\r\n    };\r\n    Stack.prototype.peekAt = function (index) {\r\n        return index < 0 || index >= this._pos ? undefined : this._array[this._pos - index - 1];\r\n    };\r\n    Stack.prototype.toList = function () {\r\n        var result = new List();\r\n        return new List(this.values);\r\n    };\r\n    Stack.prototype.clear = function () {\r\n        this._pos = 0;\r\n        this._array.length = this.DEFAULT_SIZE;\r\n        return this;\r\n    };\r\n    Stack.prototype.clone = function () {\r\n        var arr = deepCopy(this._array);\r\n        var result = this.create(this.DEFAULT_SIZE);\r\n        result._array = arr;\r\n        result._limit = this._limit;\r\n        result._pos = this._pos;\r\n        return result;\r\n    };\r\n    Stack.prototype.limitObjects = function () {\r\n        if (this._limit > 0) {\r\n            while (this._pos > this._limit) {\r\n                this._array.shift();\r\n                --this._pos;\r\n            }\r\n        }\r\n    };\r\n    Stack.prototype.toJSON = function () {\r\n        return slice(this.values, 0, this._pos);\r\n    };\r\n    Stack.prototype.serialize = function () {\r\n        return slice(this.values, 0, this._pos).map(function (el) { return isFunction(el.serialize) ? el.serialize() : el; });\r\n    };\r\n    Stack.prototype.revive = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        var T = types[0], passthroughT = types.slice(1);\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.revive)) {\r\n                mapInto(array, this._array, function (el) {\r\n                    return (_a = (new T())).revive.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else if (isNotUndefined(T.prototype.deserialize)) {\r\n                mapInto(array, this._array, function (el) {\r\n                    return (_a = (new T())).deserialize.apply(_a, [el].concat(passthroughT));\r\n                    var _a;\r\n                });\r\n            }\r\n            else {\r\n                mapInto(array, this._array, function (el) {\r\n                    var newT = new T();\r\n                    setProperties(newT, el);\r\n                    return newT;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            deepCopyInto(array, this._array);\r\n        }\r\n        this._pos = array.length;\r\n        return this;\r\n    };\r\n    Stack.prototype.deserialize = function (array) {\r\n        var types = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            types[_i - 1] = arguments[_i];\r\n        }\r\n        return this.revive.apply(this, [array].concat(types));\r\n    };\r\n    return Stack;\r\n}());\r\nexport { Stack };\r\n//# sourceMappingURL=Stack.js.map","var TimerState = (function () {\r\n    function TimerState() {\r\n    }\r\n    TimerState._hasPerformance = typeof (performance) !== \"undefined\";\r\n    return TimerState;\r\n}());\r\nvar Timer = (function () {\r\n    function Timer() {\r\n        Timer.start();\r\n    }\r\n    Object.defineProperty(Timer, \"time\", {\r\n        get: function () {\r\n            return TimerState._time;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Timer.now = function () {\r\n        if (TimerState._hasPerformance) {\r\n            return performance.now();\r\n        }\r\n        else {\r\n            var hrTime = process.hrtime();\r\n            return hrTime[0] * 1000 + (hrTime[1] / 1e6);\r\n        }\r\n    };\r\n    Timer.start = function () {\r\n        var now = Timer.now();\r\n        TimerState._start = TimerState._last = now;\r\n        return TimerState._time = 0;\r\n    };\r\n    Timer.stop = function () {\r\n        var start = TimerState._start;\r\n        var now = Timer.now();\r\n        TimerState._last = now;\r\n        return TimerState._time = now - start;\r\n    };\r\n    return Timer;\r\n}());\r\nexport { Timer };\r\n//# sourceMappingURL=Timer.js.map","import { map } from \"../Arr\";\r\nimport { clone, isSameClass, setProperties } from \"../Obj\";\r\nimport { isArray } from \"../Test\";\r\nimport { newUUID } from \"../Util\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nimport { List } from \"./List\";\r\nimport { Stack } from \"./Stack\";\r\nvar Tree = (function () {\r\n    function Tree() {\r\n        this.id = \"\";\r\n        this.parent = null;\r\n        this.children = null;\r\n        this.data = null;\r\n        this.id = newUUID();\r\n    }\r\n    Tree.fromObject = function (obj) {\r\n        var parent = (this instanceof Tree) ? this : null;\r\n        var root = new Tree().init({ id: obj.id || newUUID(), data: obj.data, parent: parent });\r\n        if (obj.children !== undefined && isArray(obj.children)) {\r\n            root.children = new List(map(obj.children, Tree.fromObject.bind(root)));\r\n        }\r\n        return root;\r\n    };\r\n    Tree.fromNodeList = function (nodes, mapcfg) {\r\n        var result = new Tree();\r\n        var mapResolver = function (key) {\r\n            return !mapcfg || typeof (mapcfg[key]) === \"undefined\" ? function (el) { return el[key]; } :\r\n                typeof (mapcfg[key]) === \"string\" ? function (el) { return el[mapcfg[key]]; } :\r\n                    mapcfg[key];\r\n        };\r\n        var map = {\r\n            id: mapResolver(\"id\"),\r\n            parent: mapResolver(\"parent\"),\r\n            data: mapResolver(\"data\")\r\n        };\r\n        var list = new List(nodes);\r\n        var lookup = new Dictionary();\r\n        list.forEach(function (el, i) {\r\n            var node = new Tree().init({ id: map.id(el), data: map.data(el) });\r\n            lookup.set(node.id, node);\r\n        });\r\n        list.forEach(function (el, i) {\r\n            var parent = map.parent(el);\r\n            if (lookup.contains(parent)) {\r\n                lookup.get(parent).add(lookup.get(map.id(el)));\r\n            }\r\n        });\r\n        result = lookup.get(map.id(list.get(0)));\r\n        while (result.parent) {\r\n            result = result.parent;\r\n        }\r\n        return result;\r\n    };\r\n    Tree.prototype.create = function () {\r\n        return new (this.constructor)();\r\n    };\r\n    Tree.prototype.init = function (obj) {\r\n        setProperties(this, obj);\r\n        return this;\r\n    };\r\n    Tree.prototype.insertAt = function (pos, data) {\r\n        if (this.children === null || this.children.count <= pos) {\r\n            this.add(data);\r\n        }\r\n        else {\r\n            this.children.insertAt(pos, this.create().init({ data: data, parent: this }));\r\n        }\r\n    };\r\n    Tree.prototype.add = function (data) {\r\n        if (this.children === null) {\r\n            this.children = new List();\r\n        }\r\n        if (isSameClass(data, this)) {\r\n            data.parent = this;\r\n            this.children.add(data);\r\n        }\r\n        else {\r\n            this.children.add((this.create()).init({ data: data, parent: this }));\r\n        }\r\n    };\r\n    Tree.prototype.remove = function () {\r\n        if (this.parent !== null) {\r\n            this.parent.children.remove(this);\r\n        }\r\n    };\r\n    Tree.prototype.prune = function () {\r\n        if (this.children !== null) {\r\n            this.children\r\n                .forEach(function (el, i) {\r\n                el.parent = null;\r\n            })\r\n                .clear();\r\n        }\r\n        this.children = null;\r\n        return this;\r\n    };\r\n    Tree.prototype.reduce = function (fn, start) {\r\n        var stack = new Stack();\r\n        var acc = start;\r\n        if (!fn) {\r\n            fn = function (acc, cur) { return (acc.push({ id: cur.id, parent: cur.parent ? cur.parent.id : null, data: cur.data }), acc); };\r\n        }\r\n        if (start === undefined) {\r\n            acc = [];\r\n        }\r\n        var cur;\r\n        var i;\r\n        stack.push(this);\r\n        while (cur = stack.pop()) {\r\n            acc = fn(acc, cur);\r\n            i = (cur.children && cur.children.count) || 0;\r\n            while (i--) {\r\n                stack.push(cur.children.get(i));\r\n            }\r\n        }\r\n        return acc;\r\n    };\r\n    Tree.prototype.clone = function () {\r\n        var result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children === null ? null : this.children.clone();\r\n        result.data = this.data === null || this.data === undefined ? this.data : clone(this.data);\r\n        return result;\r\n    };\r\n    Tree.prototype.duplicateNode = function () {\r\n        var result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children;\r\n        result.data = this.data;\r\n        return result;\r\n    };\r\n    Tree.prototype.filter = function (condition) {\r\n        var root = this.duplicateNode();\r\n        var children = this.children;\r\n        if (children !== null) {\r\n            root.children =\r\n                root.children\r\n                    .select(condition)\r\n                    .map(function (el, i) {\r\n                    return el.filter(condition);\r\n                });\r\n        }\r\n        return root;\r\n    };\r\n    Tree.prototype.select = function (condition, acc) {\r\n        if (acc === void 0) { acc = new List(); }\r\n        var result = acc;\r\n        var children = this.children;\r\n        if (condition === undefined || condition(this)) {\r\n            result.add(this);\r\n        }\r\n        if (children) {\r\n            children.reduce(function (acc, cur) {\r\n                return cur.select(condition, acc);\r\n            }, result);\r\n        }\r\n        return result;\r\n    };\r\n    Tree.prototype.find = function (condition) {\r\n        var result = null;\r\n        var children = this.children;\r\n        if (children !== null) {\r\n            var i = -1;\r\n            var len = this.children.count;\r\n            var val = this.children.values;\r\n            while (++i < len) {\r\n                if (condition(val[i].data)) {\r\n                    result = val[i];\r\n                    break;\r\n                }\r\n                else {\r\n                    result = val[i].children !== null ? val[i].find(condition) : null;\r\n                    if (result !== null) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Tree.prototype.contains = function (condition) {\r\n        return this.find(condition) !== null;\r\n    };\r\n    Tree.prototype.depth = function () {\r\n        var result = 0;\r\n        var node = this;\r\n        while (node.parent) {\r\n            node = node.parent;\r\n            ++result;\r\n        }\r\n        return result;\r\n    };\r\n    Tree.prototype.toJSON = function () {\r\n        var result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map(function (el) { return el.id; }) });\r\n        if (this.children !== null) {\r\n            this.children.forEach(function (node) { return result.append(node.toJSON()); });\r\n        }\r\n        return result.toJSON();\r\n    };\r\n    Tree.prototype.serialize = function () {\r\n        var result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map(function (el) { return el.id; }) });\r\n        if (this.children !== null) {\r\n            this.children.forEach(function (node) { return result.append(node.serialize()); });\r\n        }\r\n        return result.serialize();\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n//# sourceMappingURL=Tree.js.map","import { Global } from \"./Global\";\r\nvar Uri = (function () {\r\n    function Uri() {\r\n        this._a = null;\r\n        this.hash = \"\";\r\n        this.pathName = \"\";\r\n        this.port = \"\";\r\n        this.hostName = \"\";\r\n        this.protocol = \"\";\r\n        this.origin = \"\";\r\n        this.full = \"\";\r\n        this.args = {};\r\n        this.init();\r\n    }\r\n    Uri.prototype.init = function () {\r\n        if (Global.window !== null) {\r\n            this._a = Global.window.document.createElement(\"a\");\r\n            this._a.setAttribute(\"href\", Global.window.location.href);\r\n            var args_1 = this.args;\r\n            this._a.search.substring(1).split(\"&\").forEach(function (arg) {\r\n                var p = arg.split(\"=\");\r\n                args_1[p[0]] = p[1];\r\n            });\r\n            this.hash = this._a.hash;\r\n            this.pathName = this._a.pathname;\r\n            this.port = this._a.port;\r\n            this.hostName = this._a.hostname;\r\n            this.protocol = this._a.protocol;\r\n            this.origin = this._a.origin;\r\n            this.full = this._a.href;\r\n        }\r\n    };\r\n    return Uri;\r\n}());\r\nexport { Uri };\r\n//# sourceMappingURL=Uri.js.map","export var async = function async(target, propertyKey, descriptor) {\r\n    var orgFn = descriptor.value;\r\n    descriptor.value = function () {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var result = new Promise(function (resolve, reject) {\r\n            var value;\r\n            try {\r\n                value = orgFn.apply(_this, args);\r\n                resolve(value);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    return descriptor;\r\n};\r\nasync.before = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var _this = this;\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result = new Promise(function (resolve, reject) {\r\n                var callback = function () {\r\n                    orgFn.apply(_this, args)\r\n                        .then(function (value) {\r\n                        resolve(value);\r\n                    })\r\n                        .catch(function (reason) {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                decoration.apply(_this, [orgFn.name].concat(args))\r\n                    .then(function (value) {\r\n                    callback();\r\n                })\r\n                    .catch(function (reason) {\r\n                    callback();\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.after = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var _this = this;\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result = new Promise(function (resolve, reject) {\r\n                var callback = function (value, reason) {\r\n                    decoration.apply(_this, [value, reason, orgFn.name].concat(args))\r\n                        .then(function (value) {\r\n                        resolve(value);\r\n                    })\r\n                        .catch(function (reason) {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                orgFn.apply(_this, args)\r\n                    .then(function (value) {\r\n                    callback(value, undefined);\r\n                })\r\n                    .catch(function (reason) {\r\n                    callback(undefined, reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.provided = function (async_predicate) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var _this = this;\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result = new Promise(function (resolve, reject) {\r\n                var callback = function () {\r\n                    orgFn.apply(_this, args)\r\n                        .then(function (value) {\r\n                        resolve(value);\r\n                    })\r\n                        .catch(function (reason) {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                async_predicate.apply(_this, [orgFn.name].concat(args))\r\n                    .then(function (value) {\r\n                    if (value) {\r\n                        callback();\r\n                    }\r\n                    else {\r\n                        reject(false);\r\n                    }\r\n                })\r\n                    .catch(function (reason) {\r\n                    reject(reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\n//# sourceMappingURL=AsyncCombinators.js.map","var Pool = (function () {\r\n    function Pool(cls, growthStep) {\r\n        if (growthStep === void 0) { growthStep = 10; }\r\n        this._pool = [];\r\n        this._available = 0;\r\n        this._size = 0;\r\n        this._cls = cls;\r\n        this._growthStep = growthStep;\r\n        this.create();\r\n    }\r\n    Object.defineProperty(Pool.prototype, \"available\", {\r\n        get: function () {\r\n            return this._available;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pool.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Pool.prototype.create = function () {\r\n        var i = 0;\r\n        for (; i < this._growthStep; i++) {\r\n            this._pool.push(new this._cls());\r\n        }\r\n        this._size += this._growthStep;\r\n        this._available += this._growthStep;\r\n    };\r\n    Pool.prototype.get = function () {\r\n        var result;\r\n        if (this._pool.length === 0) {\r\n            this.create();\r\n        }\r\n        result = this._pool.pop();\r\n        --this._available;\r\n        result.initPool(this);\r\n        return result;\r\n    };\r\n    Pool.prototype.release = function (obj) {\r\n        this._pool.push(obj);\r\n        ++this._available;\r\n    };\r\n    return Pool;\r\n}());\r\nexport { Pool };\r\n//# sourceMappingURL=Pool.js.map","export var MocDataType;\r\n(function (MocDataType) {\r\n    MocDataType[MocDataType[\"LinearInt\"] = 0] = \"LinearInt\";\r\n    MocDataType[MocDataType[\"RandomInt\"] = 1] = \"RandomInt\";\r\n    MocDataType[MocDataType[\"LinearFloat\"] = 2] = \"LinearFloat\";\r\n    MocDataType[MocDataType[\"RandomFloat\"] = 3] = \"RandomFloat\";\r\n})(MocDataType || (MocDataType = {}));\r\nexport var VALID_CHARS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\nexport function randomString(length) {\r\n    if (length === void 0) { length = 25; }\r\n    var result = \"\";\r\n    for (var i = 0; i < length; i += 1) {\r\n        result += VALID_CHARS.charAt(Math.floor(Math.random() * VALID_CHARS.length));\r\n    }\r\n    return result;\r\n}\r\nexport function randomInt() {\r\n    return this.randomNumber() | 0;\r\n}\r\nexport function randomNumber() {\r\n    return Math.random() * 2147483647;\r\n}\r\nexport function numericArray(length, type) {\r\n    if (type === void 0) { type = MocDataType.LinearInt; }\r\n    var result = new Array(length);\r\n    switch (type) {\r\n        case MocDataType.RandomInt:\r\n            for (var i = 0; i < length; i += 1) {\r\n                result[i] = this.randomInt();\r\n            }\r\n            break;\r\n        case MocDataType.LinearFloat:\r\n            for (var i = 0; i < length; i += 1) {\r\n                result[i] = i + 0.5;\r\n            }\r\n            break;\r\n        case MocDataType.RandomFloat:\r\n            for (var i = 0; i < length; i += 1) {\r\n                result[i] = this.randomNumber();\r\n            }\r\n            break;\r\n        default:\r\n            for (var i = 0; i < length; i += 1) {\r\n                result[i] = i;\r\n            }\r\n            break;\r\n    }\r\n    return result;\r\n}\r\nexport function stringArray(arrayLength, stringLength) {\r\n    var result = new Array(arrayLength);\r\n    var i = -1;\r\n    while (++i < arrayLength) {\r\n        result[i] = this.randomString(stringLength);\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=MocData.js.map","var KeyValuePair = (function () {\r\n    function KeyValuePair() {\r\n    }\r\n    return KeyValuePair;\r\n}());\r\nexport { KeyValuePair };\r\n//# sourceMappingURL=KeyValuePair.js.map","export function before(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            decoration.apply(this, [orgFn.name].concat(args));\r\n            var result = orgFn.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function after(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result = orgFn.apply(this, [orgFn.name].concat(args));\r\n            decoration.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function around(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var _this = this;\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result;\r\n            var callback = function () {\r\n                return result = orgFn.apply(_this, args);\r\n            };\r\n            decoration.apply(this, [callback, orgFn.name].concat(args));\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function provided(condition) {\r\n    return function (target, propertyKey, descriptor) {\r\n        var orgFn = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var result;\r\n            if (condition.apply(this, [orgFn.name].concat(args))) {\r\n                result = orgFn.apply(this, args);\r\n            }\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\n//# sourceMappingURL=Combinators.js.map","import * as Arr from \"./Arr\";\r\nimport * as Calc from \"./Calc\";\r\nimport * as Dom from \"./Dom\";\r\nimport { Global } from \"./Global\";\r\nimport * as MocData from \"./MocData\";\r\nimport * as Obj from \"./Obj\";\r\nimport { Initable } from \"./standard/mixins/Initable\";\r\nimport { Poolable } from \"./standard/mixins/Poolable\";\r\nimport { Pool } from \"./standard/Pool\";\r\nimport { Dictionary } from \"./struct/Dictionary\";\r\nimport { KeyValuePair } from \"./struct/KeyValuePair\";\r\nimport { List } from \"./struct/List\";\r\nimport { Range2 } from \"./struct/Range2\";\r\nimport { Rect } from \"./struct/Rect\";\r\nimport { Stack } from \"./struct/Stack\";\r\nimport { Tree } from \"./struct/Tree\";\r\nimport { Vec2 } from \"./struct/Vec2\";\r\nimport * as Test from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nimport { Uri } from \"./Uri\";\r\nimport * as Util from \"./Util\";\r\nexport function integrate(alias) {\r\n    var stringAlias = false;\r\n    var objectAlias = false;\r\n    var list = [\r\n        { name: \"Arr\", object: Arr },\r\n        { name: \"Calc\", object: Calc },\r\n        { name: \"Dom\", object: Dom },\r\n        { name: \"MocData\", object: MocData },\r\n        { name: \"Obj\", object: Obj },\r\n        { name: \"Initable\", object: Initable },\r\n        { name: \"Poolable\", object: Poolable },\r\n        { name: \"Pool\", object: Pool },\r\n        { name: \"Dictionary\", object: Dictionary },\r\n        { name: \"KeyValuePair\", object: KeyValuePair },\r\n        { name: \"List\", object: List },\r\n        { name: \"Range2\", object: Range2 },\r\n        { name: \"Rect\", object: Rect },\r\n        { name: \"Stack\", object: Stack },\r\n        { name: \"Tree\", object: Tree },\r\n        { name: \"Vec2\", object: Vec2 },\r\n        { name: \"Test\", object: Test },\r\n        { name: \"Timer\", object: Timer },\r\n        { name: \"Uri\", object: Uri },\r\n        { name: \"Util\", object: Util },\r\n    ];\r\n    if (typeof (alias) === \"string\") {\r\n        Global.window[alias] = {};\r\n        stringAlias = true;\r\n    }\r\n    for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\r\n        var stuff = list_1[_i];\r\n        if (stringAlias) {\r\n            Global.window[alias][stuff.name] = stuff.object;\r\n        }\r\n        else if (objectAlias) {\r\n            alias[stuff.name] = stuff.object;\r\n        }\r\n        else {\r\n            Global.window[stuff.name] = stuff.object;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Integration.js.map"],"names":["rotationRad","rotation","deg","CalcConst","DEGREE_FACTOR","ROTATION_DEGREE_PRECISION","this","rotationDeg","hasWindow","Global","window","hasConsole","undefined","console","isArray","it","Array","isFunction","Object","prototype","toString","call","isNumber","x","areNullOrUndefined","args","_i","arguments","length","a","len","i","result","areNotNullOrUndefined","apply","isNullOrUndefined","arg","isNotNullOrUndefined","areUndefined","isUndefined","isNotUndefined","wipe","obj","keys","setNull","constructor","clear","isClassOf","b","isSameClass","equals","key","isDifferent","clone","deepCopy","Date","getTime","RegExp","cloneInto","src","target","arrS","arrT","setProperties","values","mapping","flatten","flattenInner","push","reverse","array","left","right","temporary","concat","arrs","slice","from","count","Infinity","Math","min","append","arr","index","offset","removeAt","indexOfElement","el","remove","indexOf","fn","shallowCopy","shallowCopyInto","deepCopyInto","filter","filterInto","j","space","map","mapInto","reduce","start","acc","reduceUntil","test","reverseReduce","reverseReduceUntil","forEach","startIndex","forSome","until","fnOrTest","isCombined","reverseForEach","reverseUntil","combined","some","all","insertAt","pos","v","unshift","binarySearch","cmp","closest","mid","element","lo","hi","val","newUUID","d","Timer","now","replace","c","r","random","floor","callDebugger","proxyFn","objOrClass","fnName","bind","toArray","setAttr","_el","attr","get","k","styles","styleKeys","style","setProperty","join","setAttribute","children","removeChild","id","DomState","_document","getElementById","body","is","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","Error","querySelector","querySelectorAll","Poolable","Base","_super","class_1","__extends","release","__pool__","initPool","pool","Initable","base","init","win","RADIAN_FACTOR","PI","DEG360","ROTATION_LOOKUP","lookup","cos","sin","NaN","radian","Vec2Const","EPSILON","IDENTITY","y","X_DIM","Y_DIM","Vec2","angle","horizontalAngle","direction","defineProperty","enumerable","configurable","create","set","out","toInt","ceil","toDecimal","lengthSq","sqrt","atan2","rotate","rot","nx","ny","rotateAround","center","subtract","add","normalize","scale","vectorB","relate","multiply","scalar","invert","almostEquals","abs","getNormal","isNormalized","temp","dot","cross","projectOnto","coeff","verticalAngle","rotateBy","max","zero","Rect","x1","y1","x2","y2","endInclusive","stop","isZero","toRange2","Range2","size","factor","keepCenter","ow","oh","w","h","translate","system","rect","area","move","vec","contains","intersect","containsPoint","toRect","org","s","t","first","p","begin","end","range","nativeWindow","Sides","_Global","_window","_nativeWindow","hasNativeWindow","nodeType","String","destroy","exclude","sources","i_1","len_1","hasOwnProperty","i_2","len_2","at","populator","Dictionary","_lookup","_list","List","_isDirty","has","value","delete","cleanList","reCreateList","list","toJSON","serialize","_this","revive","types","T","passthroughT","_a","_b","_c","deserialize","_d","_e","_f","_g","_h","newT","_j","_k","_array","_index","_indexer","Arr.shallowCopy","getByIndex","_reindex","Arr.insertAt","pop","shift","arr2","Arr.concat","Arr.forEach","unindexEl","Arr.append","copy","Arr.deepCopyInto","Arr.shallowCopyInto","Arr.deepCopy","Arr.remove","removeFirst","n","Arr.removeAt","Arr.forSome","Arr.until","Arr.reverseForEach","Arr.reverseUntil","Arr.some","Arr.all","Arr.indexOf","Arr.indexOfElement","find","Arr.reverse","last","Arr.filter","select","selectInto","Arr.filterInto","orderBy","sort","Arr.map","Arr.mapInto","Arr.reduce","Arr.reduceUntil","Arr.reverseReduce","Arr.reverseReduceUntil","same","indexer","long","short","union","zip","u","unzip","tuple","maxDepth","_flattenInner","depth","SortedList","comparer","_cmp","getInsertIndex","bulkAdd","Function","longPos","lastPos","shortLen","aVsB","toList","Stack","DEFAULT_SIZE","_pos","_limit","fastPush","limitedPush","limitObjects","peek","peekAt","TimerState","_hasPerformance","_time","performance","hrTime","process","hrtime","_start","_last","UtilState","_int","name","fnString","substring","lastIndexOf","log","warn","error","superfn","console_1","assertion","message","isDebug","Tree","parent","data","fromObject","root","fromNodeList","nodes","mapcfg","mapResolver","node","prune","stack","cur","duplicateNode","condition","document","createElement","html","innerHTML","appendChild","parentNode","replaceChild","top","comp","getComputedStyle","styles_1","Uri","hash","pathName","port","hostName","protocol","origin","full","location","href","args_1","search","split","pathname","hostname","extendStatics","setPrototypeOf","__proto__","__","async","propertyKey","descriptor","orgFn","Promise","resolve","reject","err","before","decoration","callback","then","catch","reason","after","provided","async_predicate","MocDataType","Pool","cls","growthStep","_pool","_available","_size","_cls","_growthStep","VALID_CHARS","charAt","randomNumber","type","LinearInt","RandomInt","randomInt","LinearFloat","RandomFloat","arrayLength","stringLength","randomString","KeyValuePair","alias","stringAlias","object","Arr","Calc","Dom","MocData","Obj","Test","Util","list_1","stuff"],"mappings":"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"}