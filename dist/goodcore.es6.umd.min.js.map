{"version":3,"file":"goodcore.es6.umd.min.js","sources":["lib/Calc.js","lib/Test.js","lib/Obj.js","lib/Arr.js","lib/standard/mixins/Initable.js","lib/Util.js","lib/Dom.js","lib/standard/mixins/Poolable.js","lib/struct/Vec2.js","lib/struct/Rect.js","lib/struct/Range2.js","lib/Global.js","lib/struct/Dictionary.js","lib/struct/List.js","lib/struct/SortedList.js","lib/struct/Stack.js","lib/Timer.js","lib/struct/Tree.js","lib/Uri.js","lib/standard/AsyncCombinators.js","lib/standard/Pool.js","lib/MocData.js","lib/struct/KeyValuePair.js","lib/standard/Combinators.js","lib/Integration.js"],"sourcesContent":["export class CalcConst {\r\n}\r\nCalcConst.ROTATION_DEGREE_PRECISION = 1;\r\nCalcConst.RADIAN_FACTOR = (1 / 360) * (2 * Math.PI);\r\nCalcConst.DEGREE_FACTOR = (1 / (2 * Math.PI) * 360);\r\nCalcConst.DEG360 = 360 * CalcConst.ROTATION_DEGREE_PRECISION;\r\nCalcConst.ROTATION_LOOKUP = (function () {\r\n    const lookup = [];\r\n    for (let i = 0; i < 360 * CalcConst.ROTATION_DEGREE_PRECISION; i++) {\r\n        lookup.push([Math.cos(i * CalcConst.RADIAN_FACTOR), Math.sin(i * CalcConst.RADIAN_FACTOR)]);\r\n    }\r\n    return lookup;\r\n})();\r\nexport function sign(x) {\r\n    return typeof x === \"number\" ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\r\n}\r\nexport function rotationDeg(rotation) {\r\n    let deg = (rotation * CalcConst.ROTATION_DEGREE_PRECISION) | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return CalcConst.ROTATION_LOOKUP[deg];\r\n}\r\nexport function rotationRad(rotation) {\r\n    const deg = rotation * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    return this.rotationDeg(deg / CalcConst.ROTATION_DEGREE_PRECISION);\r\n}\r\nexport function closestRadianRotation(radian) {\r\n    let deg = radian * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return deg * CalcConst.RADIAN_FACTOR / CalcConst.ROTATION_DEGREE_PRECISION;\r\n}\r\n//# sourceMappingURL=Calc.js.map","import { Global } from \"./Global\";\r\nexport function hasWindow() {\r\n    return Global.window !== null;\r\n}\r\nexport function hasConsole() {\r\n    return this.hasWindow() && Global.window.console !== undefined || typeof (console) === \"function\";\r\n}\r\nexport function isArray(it) {\r\n    return Array.isArray ? Array.isArray(it) : Object.prototype.toString.call(it) === \"[object Array]\";\r\n}\r\nexport function isElement(target) {\r\n    return target !== undefined && target !== null && target.nodeType === 1 ? true : false;\r\n}\r\nexport function isFunction(it) {\r\n    return Object.prototype.toString.call(it) === \"[object Function]\";\r\n}\r\nexport function isNumber(x) {\r\n    return x === +x;\r\n}\r\nexport function isInt(x) {\r\n    return isNumber(x) && (x === (x | 0));\r\n}\r\nexport function isString(x) {\r\n    return isNotNullOrUndefined(x) && x.constructor === String;\r\n}\r\nexport function areNullOrUndefined(...args) {\r\n    const len = args.length;\r\n    let i = -1;\r\n    let a;\r\n    let result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined || a === null;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotNullOrUndefined(...args) {\r\n    return !areNullOrUndefined(...args);\r\n}\r\nexport function isNullOrUndefined(arg) {\r\n    return arg === undefined || arg === null;\r\n}\r\nexport function isNotNullOrUndefined(arg) {\r\n    return !isNullOrUndefined(arg);\r\n}\r\nexport function areUndefined(...args) {\r\n    const len = args.length;\r\n    let i = -1;\r\n    let a;\r\n    let result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotUndefined(...args) {\r\n    return !areUndefined(...args);\r\n}\r\nexport function isUndefined(arg) {\r\n    return arg === undefined;\r\n}\r\nexport function isNotUndefined(arg) {\r\n    return !isUndefined(arg);\r\n}\r\n//# sourceMappingURL=Test.js.map","import { deepCopy, flatten } from \"./Arr\";\r\nimport { areNotNullOrUndefined, isArray, isFunction } from \"./Test\";\r\nexport function destroy(obj) {\r\n    if (obj.constructor.prototype.destroy !== undefined) {\r\n        obj.destroy();\r\n    }\r\n    else {\r\n        setNull(obj);\r\n    }\r\n}\r\nexport function wipe(obj) {\r\n    const keys = Object.keys(obj);\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        delete obj[keys[i]];\r\n    }\r\n}\r\nexport function setNull(obj) {\r\n    if (obj.constructor.prototype.clear !== undefined) {\r\n        obj.clear();\r\n    }\r\n    else {\r\n        const keys = Object.keys(obj);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            obj[key] = null;\r\n        }\r\n    }\r\n}\r\nexport function isClassOf(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a instanceof b.constructor;\r\n}\r\nexport function isSameClass(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a.constructor === b.constructor;\r\n}\r\nexport function inherits(a, b) {\r\n    return isClassOf(a, b) && !isSameClass(a, b);\r\n}\r\nexport function equals(a, b) {\r\n    let result = a === b;\r\n    if (a !== b && (a instanceof Object) && isSameClass(a, b)) {\r\n        if (isArray(a)) {\r\n            const len = a.length;\r\n            let i = 0;\r\n            result = len === b.length;\r\n            if (result) {\r\n                for (; i < len; i += 1) {\r\n                    result = equals(a[i], b[i]);\r\n                    if (result === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (a.constructor.prototype.equals) {\r\n            result = a.equals(b);\r\n        }\r\n        else {\r\n            const keys = Object.keys(a);\r\n            let key = null;\r\n            result = true;\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                result = equals(a[key], b[key]);\r\n                if (!result) {\r\n                    if (isFunction(a[key])) {\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function isDifferent(a, b) {\r\n    return !equals(a, b);\r\n}\r\nexport function shallowCopy(obj) {\r\n    const keys = Object.keys(obj);\r\n    const result = {};\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        const key = keys[i];\r\n        result[key] = obj[key];\r\n    }\r\n    return result;\r\n}\r\nexport function clone(obj) {\r\n    let result;\r\n    if (!(obj instanceof Object)) {\r\n        result = obj;\r\n    }\r\n    else if (obj.constructor.prototype.clone !== undefined) {\r\n        result = obj.clone();\r\n    }\r\n    else if (isArray(obj)) {\r\n        result = deepCopy(obj);\r\n    }\r\n    else if (obj instanceof Date) {\r\n        return new Date(obj.getTime());\r\n    }\r\n    else if (obj instanceof RegExp) {\r\n        return new RegExp(obj);\r\n    }\r\n    else {\r\n        result = new obj.constructor();\r\n        const keys = Object.keys(obj);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            result[key] = clone(obj[key]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function cloneInto(src, target) {\r\n    if (isArray(target)) {\r\n        const arrS = src;\r\n        const arrT = target;\r\n        const len = arrS.length;\r\n        arrT.length = len;\r\n        let i = -1;\r\n        while (++i < len) {\r\n            if (arrS[i] instanceof Object) {\r\n                cloneInto(arrS[i], arrT[i]);\r\n            }\r\n            else {\r\n                arrT[i] = arrS[i];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const keys = Object.keys(src);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            const a = src[key];\r\n            if (a instanceof Object) {\r\n                let b = target[key];\r\n                if (b === undefined || b === null) {\r\n                    if (isArray(a)) {\r\n                        b = target[key] = [];\r\n                    }\r\n                    else {\r\n                        b = target[key] = {};\r\n                    }\r\n                }\r\n                if (isDifferent(a, b)) {\r\n                    cloneInto(a, b);\r\n                }\r\n            }\r\n            else {\r\n                target[key] = a;\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport function mixin(target = {}, exclude, ...sources) {\r\n    const result = target, len = sources ? sources.length : 0;\r\n    let i = 0;\r\n    sources = flatten(sources);\r\n    for (; i < len; i++) {\r\n        let src = sources[i];\r\n        if (isFunction(src)) {\r\n            src = src.prototype;\r\n        }\r\n        if (src === undefined) {\r\n            continue;\r\n        }\r\n        const keys = Object.keys(src);\r\n        let key = null;\r\n        if (exclude) {\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                if (exclude.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n        else {\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setProperties(target, values, mapping) {\r\n    const keys = Object.keys(values);\r\n    let key;\r\n    let value;\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        key = keys[i];\r\n        value = values[key];\r\n        if (mapping && key in mapping) {\r\n            key = mapping[key];\r\n        }\r\n        if (key in target) {\r\n            target[key] = values[keys[i]];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Obj.js.map","import { clone, setProperties } from \"./Obj\";\r\nimport { isArray, isNullOrUndefined, isNumber, isUndefined, isNotUndefined } from \"./Test\";\r\nclass ArrayState {\r\n}\r\nexport function flatten(src) {\r\n    return flattenInner(src);\r\n}\r\nfunction flattenInner(src, result = []) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (isArray(src[i])) {\r\n            flattenInner(src[i], result);\r\n        }\r\n        else {\r\n            result.push(src[i]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function reverse(array) {\r\n    let left = null;\r\n    let right = null;\r\n    const length = isNullOrUndefined(array) ? 0 : array.length;\r\n    for (left = 0; left < length / 2; left += 1) {\r\n        right = length - 1 - left;\r\n        const temporary = array[left];\r\n        array[left] = array[right];\r\n        array[right] = temporary;\r\n    }\r\n    return array;\r\n}\r\nexport function concat(...arrs) {\r\n    const result = Array.prototype.concat.apply([], arrs);\r\n    return result;\r\n}\r\nexport function slice(src, from = 0, count = Infinity) {\r\n    let len = Math.min(isNullOrUndefined(src) ? 0 : src.length - from, count);\r\n    if (len < 0) {\r\n        len = 0;\r\n    }\r\n    let i = -1;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i + from];\r\n    }\r\n    return result;\r\n}\r\nexport function splice(src, pos = 0, remove = Infinity, insert = []) {\r\n    if (isNullOrUndefined(src)) {\r\n        throw new Error(\"Unable to splice on null or undefined\");\r\n    }\r\n    let srcLen = src.length;\r\n    pos = Math.max(0, pos);\r\n    pos = Math.min(pos, srcLen);\r\n    remove = Math.max(0, remove);\r\n    remove = Math.min(remove, srcLen - pos);\r\n    let insertLen = insert.length;\r\n    let newLen = srcLen - remove + insertLen;\r\n    let delta = remove - insertLen;\r\n    if (delta < 0) {\r\n        src.length = newLen;\r\n        let i = newLen;\r\n        while (--i >= pos + remove) {\r\n            src[i] = src[i + delta];\r\n        }\r\n    }\r\n    let i = pos - 1;\r\n    while (++i < pos + insertLen) {\r\n        src[i] = insert[i - pos];\r\n    }\r\n    if (delta > 0) {\r\n        --i;\r\n        while (++i < srcLen - delta) {\r\n            src[i] = src[i + delta];\r\n        }\r\n        src.length = newLen;\r\n    }\r\n}\r\nexport function append(arr, values) {\r\n    let index = -1;\r\n    const offset = arr.length;\r\n    const length = isNullOrUndefined(values) ? 0 : values.length;\r\n    while (++index < length) {\r\n        arr[offset + index] = values[index];\r\n    }\r\n}\r\nexport function removeAt(arr, index) {\r\n    let result;\r\n    let len = isNullOrUndefined(arr) ? 0 : arr.length;\r\n    if (index >= 0 && index < len) {\r\n        let i = index;\r\n        result = arr[index];\r\n        while (++i < len) {\r\n            arr[i - 1] = arr[i];\r\n        }\r\n        arr.length -= 1;\r\n    }\r\n    return result;\r\n}\r\nexport function indexOfElement(src, el) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (src[i] === el) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function remove(arr, el) {\r\n    const start = indexOfElement(arr, el);\r\n    removeAt(arr, start);\r\n}\r\nexport function indexOf(src, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (fn(src[i])) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function removeOneByFn(arr, fn) {\r\n    const start = indexOf(arr, fn);\r\n    removeAt(arr, start);\r\n}\r\nexport function shallowCopy(src) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i];\r\n    }\r\n    return result;\r\n}\r\nexport function shallowCopyInto(src, target) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = src[i];\r\n    }\r\n}\r\nexport function shallowFill(src, target, at = 0) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = src[i];\r\n    }\r\n}\r\nexport function deepCopy(src) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = (clone(src[i]));\r\n    }\r\n    return result;\r\n}\r\nexport function deepCopyInto(src, target) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function deepFill(src, target, at = 0) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function filter(src, fn) {\r\n    const result = [];\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (fn(el, i) === true) {\r\n            result.push(el);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function filterInto(src, target, fn) {\r\n    let i = -1;\r\n    let j = 0;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const space = target.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (fn(el, i) === true) {\r\n            if (j < space) {\r\n                target[j++] = el;\r\n            }\r\n            else {\r\n                ++j;\r\n                target.push(el);\r\n            }\r\n        }\r\n    }\r\n    target.length = j;\r\n}\r\nexport function map(src, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = fn(src[i], i);\r\n    }\r\n    return result;\r\n}\r\nexport function mapInto(src, target, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = fn(src[i], i);\r\n    }\r\n}\r\nexport function reduce(src, fn, start) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (++i < len) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reduceUntil(src, fn, test, start) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (++i < len && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduce(src, fn, start) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (--i >= 0) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduceUntil(src, fn, test, start) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (--i >= 0 && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function forEach(src, fn, startIndex = 0) {\r\n    let i = startIndex - 1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function forSome(src, filter, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (filter(el, i)) {\r\n            fn(el, i);\r\n        }\r\n    }\r\n}\r\nexport function until(src, fnOrTest, fn, startIndex) {\r\n    let isCombined = isUndefined(fn) || isNumber(fn);\r\n    startIndex = isCombined ? fn : startIndex;\r\n    let i = isUndefined(startIndex) || startIndex < 0 ? -1 : startIndex - 1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && (isCombined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function reverseForEach(src, fn) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (--i >= 0) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function reverseUntil(src, fnOrTest, fn) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let combined = isUndefined(fn);\r\n    while (--i >= 0 && (combined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function some(src, fn) {\r\n    let result = false;\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && !(result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function all(src, fn) {\r\n    let result = true;\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && (result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function insertAt(src, pos, v) {\r\n    if (isNullOrUndefined(src)) {\r\n        throw new Error(\"Unable to insertAt on null or undefined\");\r\n    }\r\n    if (pos === 0) {\r\n        src.unshift(v);\r\n    }\r\n    else if (pos > 0) {\r\n        let i = src.length;\r\n        while (--i >= pos) {\r\n            src[i + 1] = src[i];\r\n        }\r\n        src[i + 1] = v;\r\n    }\r\n}\r\nexport function binarySearch(src, cmp, closest = false) {\r\n    let lo = 0, hi = isNullOrUndefined(src) ? -1 : src.length - 1, mid, element;\r\n    while (lo <= hi) {\r\n        mid = ((lo + hi) >> 1);\r\n        element = src[mid];\r\n        let val = cmp(element);\r\n        if (val < 0) {\r\n            lo = mid + 1;\r\n        }\r\n        else if (val > 0) {\r\n            hi = mid - 1;\r\n        }\r\n        else {\r\n            return mid;\r\n        }\r\n    }\r\n    return closest ? lo : -1;\r\n}\r\nexport function create(length, populator) {\r\n    if ((length || -1) < 0) {\r\n        length = 0;\r\n    }\r\n    let arr = new Array(length);\r\n    let i = -1;\r\n    while (++i < length) {\r\n        arr[i] = populator(i, arr);\r\n    }\r\n    return arr;\r\n}\r\nexport function deserialize(array, target, ...types) {\r\n    let [T, ...passthroughT] = types;\r\n    if (isNotUndefined(T)) {\r\n        if (isNotUndefined(T.prototype.deserialize)) {\r\n            mapInto(array, target, (el) => {\r\n                return (new T()).deserialize(el, ...passthroughT);\r\n            });\r\n        }\r\n        else {\r\n            mapInto(array, target, (el) => {\r\n                let newT = new T();\r\n                setProperties(newT, el);\r\n                return newT;\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        deepCopyInto(array, target);\r\n    }\r\n    return this;\r\n}\r\n//# sourceMappingURL=Arr.js.map","import { setProperties } from \"../../Obj\";\r\nexport function Initable(constructor) {\r\n    return class extends constructor {\r\n        init(obj, mapping) {\r\n            setProperties(this, obj, mapping);\r\n            return this;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=Initable.js.map","import { Global } from \"./Global\";\r\nimport { hasConsole, hasWindow, isNotUndefined } from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nclass UtilState {\r\n}\r\nUtilState._int = 0;\r\nexport function init(win) {\r\n    if (win !== undefined) {\r\n        Global.window = win;\r\n    }\r\n}\r\nexport function getFunctionName(fn) {\r\n    let result;\r\n    if (fn.hasOwnProperty(\"name\") !== undefined) {\r\n        result = fn.name;\r\n    }\r\n    else {\r\n        const fnString = fn.toString();\r\n        result = fnString.substring(9, fnString.indexOf(\"(\"));\r\n    }\r\n    return result;\r\n}\r\nexport function getFunctionCode(fn) {\r\n    let result;\r\n    const fnString = fn.toString();\r\n    result = fnString.substring(fnString.indexOf(\"{\") + 1, fnString.lastIndexOf(\"}\"));\r\n    return result;\r\n}\r\nexport function newUUID() {\r\n    let d = new Date().getTime();\r\n    d += Timer.now();\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        const r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\nexport function newInt() {\r\n    return UtilState._int++;\r\n}\r\nexport function callDebugger() {\r\n    debugger;\r\n}\r\nexport function pipeOut(log, warn, error) {\r\n    if (hasConsole()) {\r\n        proxyFn(console, \"log\", function (superfn, ...args) { superfn(...args); log(...args); });\r\n        proxyFn(console, \"warn\", function (superfn, ...args) { superfn(...args); warn(...args); });\r\n        proxyFn(console, \"error\", function (superfn, ...args) { superfn(...args); error(...args); });\r\n    }\r\n    else {\r\n        const console = {\r\n            log,\r\n            warn,\r\n            error\r\n        };\r\n        if (!(hasWindow())) {\r\n            Global.window = {};\r\n        }\r\n        Global.window.console = console;\r\n    }\r\n}\r\nexport function assert(assertion, message, isDebug = true) {\r\n    let result = true;\r\n    if (!assertion) {\r\n        if (hasConsole) {\r\n            result = false;\r\n            console.error(\"Assertion failed: \" + message);\r\n        }\r\n        if (isDebug) {\r\n            callDebugger();\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function proxyFn(objOrClass, fnName, proxyFn) {\r\n    objOrClass = isNotUndefined(objOrClass.prototype) ? objOrClass.prototype : objOrClass;\r\n    const fn = objOrClass[fnName];\r\n    const _superFn = function (...args) {\r\n        if (args.length !== 0) {\r\n            return fn.apply(this || objOrClass, args);\r\n        }\r\n        else {\r\n            return fn.call(this || objOrClass);\r\n        }\r\n    };\r\n    objOrClass[fnName] = proxyFn.bind(objOrClass, _superFn);\r\n}\r\nexport function loop(count, fn) {\r\n    let i = -1;\r\n    while (++i < count) {\r\n        fn(i);\r\n    }\r\n}\r\nexport function toArray(arr) {\r\n    return Array.prototype.slice.call(arr);\r\n}\r\n//# sourceMappingURL=Util.js.map","import { Global } from \"./Global\";\r\nexport var Sides;\r\n(function (Sides) {\r\n    Sides[Sides[\"Top\"] = 0] = \"Top\";\r\n    Sides[Sides[\"Bottom\"] = 1] = \"Bottom\";\r\n    Sides[Sides[\"Left\"] = 2] = \"Left\";\r\n    Sides[Sides[\"Right\"] = 3] = \"Right\";\r\n})(Sides || (Sides = {}));\r\nclass DomState {\r\n}\r\nDomState.Sides = Sides;\r\nDomState._window = Global.window;\r\nDomState._document = Global.window ? Global.window.document : undefined;\r\nDomState._el = Global.window ? Global.window.document.createElement(\"div\") : undefined;\r\nexport function init(win) {\r\n    Global.window = win;\r\n    DomState._window = Global.window;\r\n    DomState._document = DomState._window.document;\r\n    DomState._el = DomState._document.createElement(\"div\");\r\n}\r\nexport function toArray(a) {\r\n    return Array.prototype.slice.call(a);\r\n}\r\nexport function create(html, attr) {\r\n    let result, keys, i, k, styles, styleKeys;\r\n    DomState._el.innerHTML = html;\r\n    result = DomState._el.children[0];\r\n    setAttr(result, attr);\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function outerHTML(el) {\r\n    DomState._el.appendChild(el);\r\n    const result = DomState._el.innerHTML;\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function setAttr(_el, attr) {\r\n    let el;\r\n    if (typeof (_el) === \"string\") {\r\n        el = get(_el);\r\n    }\r\n    else {\r\n        el = _el;\r\n    }\r\n    let keys, i, k, styles, styleKeys, style;\r\n    if (attr !== undefined && typeof (attr) === \"object\") {\r\n        keys = Object.keys(attr);\r\n        for (i = 0; i < keys.length; i++) {\r\n            if (keys[i] === \"style\") {\r\n                styles = attr[keys[i]];\r\n                styleKeys = Object.keys(styles);\r\n                for (k = 0; k < styleKeys.length; k++) {\r\n                    style = styles[styleKeys[k]];\r\n                    if (typeof (style) === \"string\") {\r\n                        el.style.setProperty(styleKeys[k], style);\r\n                    }\r\n                    else {\r\n                        el.style.setProperty(styleKeys[k], style[0], style[1]);\r\n                    }\r\n                }\r\n            }\r\n            else if (keys[i] === \"classes\" && attr[keys[i]] !== undefined && attr[keys[i]].join) {\r\n                el.setAttribute(\"className\", attr[keys[i]].join(\" \"));\r\n            }\r\n            else {\r\n                el.setAttribute(keys[i], attr[keys[i]]);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function remove(element) {\r\n    return element.parentNode === undefined ? null : element.parentNode.removeChild(element);\r\n}\r\nexport function replace(src, target) {\r\n    let result = target;\r\n    if (src.parentNode) {\r\n        src.parentNode.replaceChild(target, src);\r\n    }\r\n    return result;\r\n}\r\nexport function clear(element) {\r\n    let i = element.children.length;\r\n    while (i--) {\r\n        element.removeChild(element.children[i]);\r\n    }\r\n}\r\nexport function get(id) {\r\n    let result = DomState._document.getElementById(id);\r\n    if (result === null) {\r\n        switch (id) {\r\n            default:\r\n                result = DomState._document.body;\r\n                break;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function find(selector) {\r\n    return DomState._document.querySelector(selector);\r\n}\r\nexport function findAll(selector, root) {\r\n    return toArray((root || DomState._document).querySelectorAll(selector));\r\n}\r\nexport function children(root, selector) {\r\n    const children = toArray((root || DomState._document).children);\r\n    return selector === undefined ? children : children.filter(is.bind(this, selector));\r\n}\r\nexport function findParent(root, selector) {\r\n    let result = root.parentElement;\r\n    while (result) {\r\n        if (is(selector, result)) {\r\n            break;\r\n        }\r\n        result = result.parentElement;\r\n    }\r\n    return result;\r\n}\r\nexport function position(el, x, y) {\r\n    el.style.top = y + \"px\";\r\n    el.style.left = x + \"px\";\r\n}\r\nexport function is(selector, element) {\r\n    let result = false;\r\n    if (element.matches) {\r\n        result = element.matches(selector);\r\n    }\r\n    else if (element.msMatchesSelector) {\r\n        result = element.msMatchesSelector(selector);\r\n    }\r\n    else if (element.webkitMatchesSelector) {\r\n        result = element.webkitMatchesSelector(selector);\r\n    }\r\n    else {\r\n        if (element.parentElement === null) {\r\n            throw new Error(\"Element has no parent\");\r\n        }\r\n        if (element.id !== \"\") {\r\n            result = element.parentElement.querySelector(\"#\" + element.id) !== null;\r\n        }\r\n        else {\r\n            result = toArray(element.parentElement.querySelectorAll(selector)).indexOf(element) !== -1;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setStylesExplicitly(element, ...styles) {\r\n    const comp = DomState._window.getComputedStyle(element);\r\n    for (const style of styles) {\r\n        element.style[style] = comp[style];\r\n    }\r\n}\r\n//# sourceMappingURL=Dom.js.map","export function Poolable(constructor) {\r\n    return class extends constructor {\r\n        constructor(...args) {\r\n            super(...args);\r\n        }\r\n        release() {\r\n            this.__pool__.release(this);\r\n        }\r\n        initPool(pool) {\r\n            this.__pool__ = pool;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=Poolable.js.map","import { rotationRad } from \"../Calc\";\r\nexport class Vec2Const {\r\n}\r\nVec2Const.EPSILON = 1e-8;\r\nVec2Const.IDENTITY = { x: 1, y: 1 };\r\nVec2Const.X_DIM = { x: 1, y: 0 };\r\nVec2Const.Y_DIM = { x: 0, y: 1 };\r\nexport class Vec2 {\r\n    constructor(x = 0, y = 0) {\r\n        this.angle = this.horizontalAngle;\r\n        this.direction = this.horizontalAngle;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    get isZero() {\r\n        return this.x === 0 && this.y === 0;\r\n    }\r\n    create(x = 0, y = 0) {\r\n        return new (this.constructor)(x, y);\r\n    }\r\n    set(src) {\r\n        this.x = src.x;\r\n        this.y = src.y;\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.x, this.y);\r\n        return result;\r\n    }\r\n    toInt() {\r\n        this.x |= 0;\r\n        this.y |= 0;\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.x += Vec2Const.EPSILON;\r\n        this.y += Vec2Const.EPSILON;\r\n        return this;\r\n    }\r\n    lengthSq() { return (this.x * this.x + this.y * this.y); }\r\n    length() { return Math.sqrt(this.lengthSq()); }\r\n    horizontalAngle() { return Math.atan2(this.y, this.x); }\r\n    rotate(angle) {\r\n        const rot = rotationRad(angle);\r\n        const nx = (this.x * rot[0]) - (this.y * rot[1]);\r\n        const ny = (this.x * rot[1]) + (this.y * rot[0]);\r\n        this.x = nx;\r\n        this.y = ny;\r\n        return this;\r\n    }\r\n    rotateAround(center, angle) {\r\n        return this.subtract(center).rotate(angle).add(center);\r\n    }\r\n    normalize() {\r\n        const len = this.length();\r\n        if (len === 0) {\r\n            this.x = 1;\r\n            this.y = 0;\r\n        }\r\n        else {\r\n            this.x = this.x / len;\r\n            this.y = this.y / len;\r\n        }\r\n        return this;\r\n    }\r\n    scale(vectorB) {\r\n        this.x = this.x * vectorB.x;\r\n        this.y = this.y * vectorB.y;\r\n        return this;\r\n    }\r\n    relate(vectorB) {\r\n        this.x = this.x / vectorB.x;\r\n        this.y = this.y / vectorB.y;\r\n        return this;\r\n    }\r\n    multiply(scalar) {\r\n        this.x = this.x * scalar;\r\n        this.y = this.y * scalar;\r\n        return this;\r\n    }\r\n    add(vectorB) {\r\n        this.x = this.x + vectorB.x;\r\n        this.y = this.y + vectorB.y;\r\n        return this;\r\n    }\r\n    subtract(vectorB) {\r\n        this.x = this.x - vectorB.x;\r\n        this.y = this.y - vectorB.y;\r\n        return this;\r\n    }\r\n    invert() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    equals(target) {\r\n        return this.x === target.x && this.y === target.y;\r\n    }\r\n    almostEquals(target) {\r\n        return Math.abs(this.x - target.x) < Vec2Const.EPSILON && Math.abs(this.y - target.y) < Vec2Const.EPSILON;\r\n    }\r\n    getNormal(isNormalized) {\r\n        const result = this.clone();\r\n        if (!isNormalized) {\r\n            result.set(this).normalize();\r\n        }\r\n        const temp = result.x;\r\n        result.x = result.y;\r\n        result.y = -temp;\r\n        return result;\r\n    }\r\n    dot(vectorB) { return (this.x * vectorB.x + this.y * vectorB.y); }\r\n    cross(vectorB) { return ((this.x * vectorB.y) - (this.y * vectorB.x)); }\r\n    projectOnto(vectorB) {\r\n        const coeff = ((this.x * vectorB.x) + (this.y * vectorB.y)) / ((vectorB.x * vectorB.x) + (vectorB.y * vectorB.y));\r\n        this.x = coeff * vectorB.x;\r\n        this.y = coeff * vectorB.y;\r\n        return this;\r\n    }\r\n    verticalAngle() { return Math.atan2(this.x, this.y); }\r\n    rotateBy(rotation) {\r\n        const angle = -this.horizontalAngle() + rotation;\r\n        return this.rotate(angle);\r\n    }\r\n    max(v) {\r\n        this.x = Math.max(this.x, v.x);\r\n        this.y = Math.max(this.y, v.y);\r\n        return this;\r\n    }\r\n    min(v) {\r\n        this.x = Math.min(this.x, v.x);\r\n        this.y = Math.min(this.y, v.y);\r\n        return this;\r\n    }\r\n    zero() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Vec2.js.map","import { Range2 } from \"./Range2\";\r\nimport { Vec2 } from \"./Vec2\";\r\nexport class Rect {\r\n    get isZero() {\r\n        return this.start.isZero && this.stop.isZero;\r\n    }\r\n    constructor(x1 = 0, y1 = 0, x2 = 0, y2 = 0, endInclusive = false) {\r\n        this.start = new Vec2(x1, y1);\r\n        this.stop = new Vec2(x2, y2);\r\n        this.endInclusive = endInclusive;\r\n    }\r\n    create(x1 = 0, y1 = 0, x2 = 0, y2 = 0, endInclusive = false) {\r\n        return new (this.constructor)(x1, y1, x2, y2, endInclusive);\r\n    }\r\n    set(src) {\r\n        this.start.set(src.start);\r\n        this.stop.set(src.stop);\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.start.x, this.start.y, this.stop.x, this.stop.y);\r\n        return result;\r\n    }\r\n    toRange2(out) {\r\n        let result = out || new Range2();\r\n        let start = this.start;\r\n        let stop = this.stop;\r\n        result.pos.x = start.x;\r\n        result.pos.y = start.y;\r\n        result.size.x = stop.x + (this.endInclusive ? (stop.x < start.x ? -1 : 1) : 0) - start.x;\r\n        result.size.y = stop.y + (this.endInclusive ? (stop.y < start.y ? -1 : 1) : 0) - start.y;\r\n        return result;\r\n    }\r\n    scale(factor, keepCenter = true) {\r\n        const ow = this.stop.x - this.start.x;\r\n        const oh = this.stop.y - this.start.y;\r\n        let w = ow;\r\n        let h = oh;\r\n        w *= factor.x;\r\n        h *= factor.y;\r\n        if (keepCenter) {\r\n            this.start.x -= (w - ow) / 2;\r\n            this.start.y -= (h - oh) / 2;\r\n        }\r\n        this.stop.x = this.start.x + w;\r\n        this.stop.y = this.start.y + h;\r\n        return this;\r\n    }\r\n    translate(system) {\r\n        this.start.scale(system);\r\n        this.stop.scale(system);\r\n        return this;\r\n    }\r\n    equals(rect) {\r\n        return this.start.equals(rect.start) && this.stop.equals(rect.stop);\r\n    }\r\n    toInt() {\r\n        this.start.toInt();\r\n        this.stop.toInt();\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.start.toDecimal();\r\n        this.stop.toDecimal();\r\n        return this;\r\n    }\r\n    area() {\r\n        const x = this.stop.x - this.start.x;\r\n        const y = this.stop.y - this.start.y;\r\n        return x * y;\r\n    }\r\n    move(vec) {\r\n        this.start.add(vec);\r\n        this.stop.add(vec);\r\n        return this;\r\n    }\r\n    contains(target) {\r\n        return this.start.x <= target.start.x &&\r\n            this.start.y <= target.start.y &&\r\n            this.stop.x >= target.stop.x &&\r\n            this.stop.y >= target.stop.y;\r\n    }\r\n    intersect(target) {\r\n        return this.containsPoint(target.start.x, target.start.y) ||\r\n            this.containsPoint(target.stop.x, target.stop.y) ||\r\n            this.containsPoint(target.start.x, target.stop.y) ||\r\n            this.containsPoint(target.stop.x, target.start.y);\r\n    }\r\n    containsPoint(x, y) {\r\n        return this.start.x <= x && this.stop.x >= x &&\r\n            this.start.y <= y && this.stop.y >= y;\r\n    }\r\n    zero() {\r\n        this.start.zero();\r\n        this.stop.zero();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Rect.js.map","import { Rect } from \"./Rect\";\r\nimport { Vec2 } from \"./Vec2\";\r\nexport class Range2 {\r\n    get isZero() {\r\n        return this.pos.isZero && this.size.isZero;\r\n    }\r\n    constructor(x = 0, y = 0, w = 0, h = 0) {\r\n        this.pos = new Vec2(x, y);\r\n        this.size = new Vec2(w, h);\r\n    }\r\n    create(x = 0, y = 0, w = 0, h = 0) {\r\n        return new (this.constructor)(x, y, w, h);\r\n    }\r\n    set(src) {\r\n        this.pos.set(src.pos);\r\n        this.size.set(src.size);\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.pos.x, this.pos.y, this.size.x, this.size.y);\r\n        return result;\r\n    }\r\n    toRect(endInclusive = false, out) {\r\n        let result = out || new Rect();\r\n        result.start.x = this.pos.x,\r\n            result.start.y = this.pos.y,\r\n            result.stop.x = this.pos.x - (endInclusive ? (this.size.x < 0 ? -1 : 1) : 0) + this.size.x,\r\n            result.stop.y = this.pos.y - (endInclusive ? (this.size.y < 0 ? -1 : 1) : 0) + this.size.y,\r\n            result.endInclusive = endInclusive;\r\n        return result;\r\n    }\r\n    scale(factor, keepCenter = true) {\r\n        let org = null;\r\n        if (keepCenter) {\r\n            org = this.size.clone();\r\n        }\r\n        this.size.scale(factor);\r\n        if (keepCenter) {\r\n            this.pos.add(org.subtract(this.size).multiply(0.5));\r\n        }\r\n        return this;\r\n    }\r\n    translate(system) {\r\n        this.toRect(false).translate(system).toRange2(this);\r\n        return this;\r\n    }\r\n    toInt() {\r\n        this.pos.toInt();\r\n        this.size.toInt();\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.pos.toDecimal();\r\n        this.size.toDecimal();\r\n        return this;\r\n    }\r\n    contains(target) {\r\n        return this.pos.x <= target.pos.x &&\r\n            this.pos.y <= target.pos.y &&\r\n            this.pos.x + this.size.x >= target.pos.x + target.size.x &&\r\n            this.pos.y + this.size.y >= target.pos.y + target.size.y;\r\n    }\r\n    intersect(target) {\r\n        let s = this.toRect();\r\n        let t = target.clone().toRect();\r\n        return s.intersect(t);\r\n    }\r\n    containsPoint(vec) {\r\n        return vec.x >= this.pos.x && vec.x <= this.pos.x + this.size.x - 1\r\n            && vec.y >= this.pos.y && vec.y <= this.pos.y + this.size.y - 1;\r\n    }\r\n    first(fn) {\r\n        const p = new Vec2();\r\n        const x = this.pos.x;\r\n        const y = this.pos.y;\r\n        for (let i = 0; i < this.size.x; i++) {\r\n            for (let j = 0; j < this.size.y; j++) {\r\n                p.x = i + x, p.y = j + y;\r\n                if (fn(p)) {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    forEach(fn, start = null) {\r\n        const pos = new Vec2();\r\n        const begin = this.pos.clone().toInt();\r\n        if (start === null || !this.containsPoint(start)) {\r\n            start = begin;\r\n        }\r\n        const end = this.pos.clone().add(this.size).toInt();\r\n        for (let y = begin.y; y < end.y; y += 1) {\r\n            for (let x = begin.x; x < end.x; x += 1) {\r\n                if (y < start.y || (y === start.y && x < start.x)) {\r\n                    continue;\r\n                }\r\n                pos.x = x;\r\n                pos.y = y;\r\n                const brk = fn(pos);\r\n                if (brk) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    equals(range) {\r\n        return this.pos.equals(range.pos) && this.size.equals(range.size);\r\n    }\r\n    zero() {\r\n        this.pos.zero();\r\n        this.size.zero();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Range2.js.map","let nativeWindow = true;\r\nvar win;\r\nif (typeof (window) === \"undefined\") {\r\n    win = null;\r\n    nativeWindow = false;\r\n}\r\nelse {\r\n    win = window;\r\n}\r\nexport class _Global {\r\n    constructor() {\r\n        this._window = win;\r\n        this._nativeWindow = nativeWindow;\r\n    }\r\n    get window() {\r\n        return this._window;\r\n    }\r\n    set window(v) {\r\n        this._window = v;\r\n        if (this.hasNativeWindow) {\r\n            win = v;\r\n        }\r\n    }\r\n    get hasNativeWindow() {\r\n        return this._nativeWindow;\r\n    }\r\n}\r\nexport let Global = new _Global();\r\n//# sourceMappingURL=Global.js.map","import { forEach } from \"../Arr\";\r\nimport { clone, setProperties, wipe } from \"../Obj\";\r\nimport { isFunction, isNotUndefined } from \"../Test\";\r\nimport { List } from \"./List\";\r\nexport class Dictionary {\r\n    constructor() {\r\n        this._lookup = Object.create(null);\r\n        this._list = new List();\r\n        this._isDirty = false;\r\n    }\r\n    create() {\r\n        return new (this.constructor)();\r\n    }\r\n    has(key) {\r\n        return this._lookup[key] !== undefined;\r\n    }\r\n    contains(key) {\r\n        return this.has(key);\r\n    }\r\n    get(key) {\r\n        return this._lookup[key];\r\n    }\r\n    set(key, value) {\r\n        this._isDirty = this._isDirty || this.has(key);\r\n        if (value !== undefined) {\r\n            this._lookup[key] = value;\r\n            if (!this._isDirty) {\r\n                this._list.push(value);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    delete(key) {\r\n        if (this.has(key)) {\r\n            delete this._lookup[key];\r\n            this._isDirty = true;\r\n        }\r\n        return this;\r\n    }\r\n    clear() {\r\n        wipe(this._lookup);\r\n        this._list.clear();\r\n        return this;\r\n    }\r\n    get values() {\r\n        this.cleanList();\r\n        return this._list.values;\r\n    }\r\n    get keys() {\r\n        return Object.keys(this._lookup);\r\n    }\r\n    get list() {\r\n        this.cleanList();\r\n        return this._list;\r\n    }\r\n    get count() {\r\n        let result = 0;\r\n        if (this._isDirty) {\r\n            result = this.keys.length;\r\n        }\r\n        else {\r\n            result = this._list.count;\r\n        }\r\n        return result;\r\n    }\r\n    cleanList() {\r\n        if (this._isDirty) {\r\n            this.reCreateList();\r\n        }\r\n    }\r\n    reCreateList() {\r\n        let lookup = this._lookup;\r\n        let keys = Object.keys(this._lookup);\r\n        let i = -1;\r\n        let list = this._list;\r\n        list.clear();\r\n        while (++i < keys.length) {\r\n            list.add(lookup[keys[i]]);\r\n        }\r\n    }\r\n    clone() {\r\n        let result = this.create();\r\n        result._isDirty = this._isDirty;\r\n        result._list = this._list.clone();\r\n        result._lookup = clone(this._lookup);\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return this._lookup;\r\n    }\r\n    serialize() {\r\n        let obj = Object.create(null);\r\n        forEach(this.keys, (key) => {\r\n            let v = this.get(key);\r\n            obj[key] = isFunction(v.serialize) ? v.serialize() : v;\r\n        });\r\n        return obj;\r\n    }\r\n    deserialize(obj, ...types) {\r\n        let [T, ...passthroughT] = types;\r\n        this.clear();\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.deserialize)) {\r\n                for (let key of Object.keys(obj)) {\r\n                    this.set(key, (new T()).deserialize(obj[key], ...passthroughT));\r\n                }\r\n            }\r\n            else {\r\n                for (let key of Object.keys(obj)) {\r\n                    let newT = new T();\r\n                    setProperties(newT, obj[key]);\r\n                    this.set(key, newT);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (let key of Object.keys(obj)) {\r\n                this.set(key, obj[key]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Dictionary.js.map","import * as Arr from \"../Arr\";\r\nimport { clone, equals } from \"../Obj\";\r\nimport { isArray, isFunction, isNotNullOrUndefined } from \"../Test\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nexport class List {\r\n    constructor(arr) {\r\n        this._array = [];\r\n        this._index = null;\r\n        this._indexer = null;\r\n        if (arr === undefined) {\r\n            this._array = new Array();\r\n        }\r\n        else {\r\n            if (arr instanceof (List)) {\r\n                this._array = Arr.shallowCopy(arr._array);\r\n            }\r\n            else {\r\n                this._array = Arr.shallowCopy(arr);\r\n            }\r\n        }\r\n    }\r\n    create(arr) {\r\n        return new (this.constructor)(arr);\r\n    }\r\n    get values() {\r\n        return this._array;\r\n    }\r\n    get(pos) {\r\n        return this._array[pos];\r\n    }\r\n    getByIndex(key) {\r\n        let result;\r\n        return isNotNullOrUndefined(this._index) ? this._index.get(key) : undefined;\r\n    }\r\n    set(pos, v) {\r\n        if (pos >= 0 && pos < this.length) {\r\n            this._array[pos | 0] = v;\r\n            if (this._indexer !== null) {\r\n                this._index.set(this._indexer(v), v);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`index out of bounds on <List>.set(${pos}, ${v.toString()})`);\r\n        }\r\n        return this;\r\n    }\r\n    get count() {\r\n        return this._array.length;\r\n    }\r\n    get length() {\r\n        return this._array.length;\r\n    }\r\n    get indexer() {\r\n        return this._indexer;\r\n    }\r\n    set indexer(fn) {\r\n        this._indexer = fn;\r\n        this._reindex();\r\n    }\r\n    _reindex() {\r\n        if (this._indexer === null) {\r\n            this._index = null;\r\n        }\r\n        else {\r\n            if (this._index === null) {\r\n                this._index = new Dictionary();\r\n            }\r\n            else {\r\n                this._index.clear();\r\n            }\r\n            this.forEach((el) => this._index.set(this._indexer(el), el));\r\n        }\r\n    }\r\n    fill(size, populator) {\r\n        size = Math.max(0, size || 0);\r\n        if (isFunction(populator)) {\r\n            this._array = Arr.create(size, populator);\r\n        }\r\n        else if (!(populator instanceof Object)) {\r\n            this._array = Arr.create(size, () => populator);\r\n        }\r\n        else {\r\n            this._array = Arr.create(size, () => clone(populator));\r\n        }\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    clear() {\r\n        this._array.length = 0;\r\n        if (this._index !== null) {\r\n            this._index.clear();\r\n        }\r\n        return this;\r\n    }\r\n    add(v) {\r\n        this._array.push(v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    }\r\n    insertAt(pos, v) {\r\n        Arr.insertAt(this._array, pos, v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    }\r\n    push(v) {\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this._array.push(v);\r\n    }\r\n    pop() {\r\n        let result = this._array.pop();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    }\r\n    shift() {\r\n        let result = this._array.shift();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    }\r\n    concat(v) {\r\n        let arr;\r\n        let arr2 = v instanceof List ? v.values : v;\r\n        arr = Arr.concat(this._array, arr2);\r\n        return this.create(arr);\r\n    }\r\n    index(arr) {\r\n        if (this._indexer !== null) {\r\n            Arr.forEach(arr, (el) => {\r\n                this._index.set(this._indexer(el), el);\r\n            });\r\n        }\r\n    }\r\n    unindexEl(el) {\r\n        if (this._indexer !== null) {\r\n            this._index.delete(this._indexer(el));\r\n        }\r\n    }\r\n    append(v) {\r\n        let arr2 = v instanceof List ? v.values : v;\r\n        Arr.append(this._array, arr2);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    copy(src) {\r\n        let arr2 = src instanceof List ? src.values : src;\r\n        Arr.deepCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    shallowCopy(src) {\r\n        let arr2 = src instanceof List ? src.values : src;\r\n        Arr.shallowCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const arr = Arr.deepCopy(this._array);\r\n        let result = this.create(arr);\r\n        if (this._indexer !== null) {\r\n            result._indexer = this._indexer;\r\n            result._index = this._index.clone();\r\n        }\r\n        return result;\r\n    }\r\n    remove(v) {\r\n        Arr.remove(this._array, v);\r\n        this.unindexEl(v);\r\n        return this;\r\n    }\r\n    removeFirst(fn) {\r\n        let result = this.removeAt(this.indexOf(fn));\r\n        this.unindexEl(result);\r\n        return result;\r\n    }\r\n    removeAt(n) {\r\n        let result = Arr.removeAt(this._array, n);\r\n        this.unindexEl(result);\r\n        return result;\r\n    }\r\n    forEach(fn, startIndex = 0) {\r\n        Arr.forEach(this._array, fn, startIndex);\r\n        return this;\r\n    }\r\n    forSome(filter, fn) {\r\n        Arr.forSome(this._array, filter, fn);\r\n        return this;\r\n    }\r\n    until(fnOrTest, fn, startIndex) {\r\n        Arr.until(this._array, fnOrTest, fn, startIndex);\r\n        return this;\r\n    }\r\n    reverseForEach(fn) {\r\n        Arr.reverseForEach(this._array, fn);\r\n        return this;\r\n    }\r\n    reverseUntil(fnOrTest, fn) {\r\n        Arr.reverseUntil(this._array, fnOrTest, fn);\r\n        return this;\r\n    }\r\n    some(fn) {\r\n        return Arr.some(this._array, fn);\r\n    }\r\n    all(fn) {\r\n        return Arr.all(this._array, fn);\r\n    }\r\n    indexOf(v) {\r\n        let result = -1;\r\n        if (isFunction(v)) {\r\n            result = Arr.indexOf(this._array, v);\r\n        }\r\n        else {\r\n            result = Arr.indexOfElement(this._array, v);\r\n        }\r\n        return result;\r\n    }\r\n    contains(v) {\r\n        let result = false;\r\n        if (isFunction(v)) {\r\n            result = this.find(v) !== undefined;\r\n        }\r\n        else {\r\n            if (this._indexer !== null) {\r\n                result = this._index.contains(this._indexer(v));\r\n            }\r\n            else {\r\n                result = Arr.indexOfElement(this._array, v) !== -1;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    reverse() {\r\n        Arr.reverse(this._array);\r\n        return this;\r\n    }\r\n    first(fn) {\r\n        let index = -1;\r\n        let result;\r\n        if (fn === undefined) {\r\n            index = 0;\r\n        }\r\n        else {\r\n            index = Arr.indexOf(this._array, fn);\r\n        }\r\n        return index === -1 ? undefined : this.get(index);\r\n    }\r\n    find(fn) {\r\n        return this.first(fn);\r\n    }\r\n    last() {\r\n        return this.length === 0 ? undefined : this.get(this.length - 1);\r\n    }\r\n    filter(fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    }\r\n    select(fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    }\r\n    selectInto(src, fn) {\r\n        let arr = src instanceof List ? src.values : src;\r\n        Arr.filterInto(arr, this._array, fn);\r\n        this.index(arr);\r\n        return this;\r\n    }\r\n    head(count = 1) {\r\n        count = Math.max(0, count);\r\n        return this.create(Arr.slice(this._array, 0, count));\r\n    }\r\n    tail(count = 1) {\r\n        count = Math.min(this._array.length, count);\r\n        return this.create(Arr.slice(this._array, Math.max(0, this._array.length - count)));\r\n    }\r\n    splice(pos = 0, remove = Infinity, insert = []) {\r\n        Arr.splice(this._array, pos, remove, isArray(insert) ? insert : insert.values);\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    orderBy(fn) {\r\n        this._array.sort(fn);\r\n        return this;\r\n    }\r\n    map(fn) {\r\n        return this.create(Arr.map(this._array, fn));\r\n    }\r\n    mapInto(src, fn) {\r\n        let arr = src instanceof List ? src.values : src;\r\n        Arr.mapInto(arr, this._array, fn);\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        return Arr.reduce(this._array, fn, start);\r\n    }\r\n    reduceUntil(fn, test, start) {\r\n        return Arr.reduceUntil(this._array, fn, test, start);\r\n    }\r\n    reverseReduce(fn, start) {\r\n        return Arr.reverseReduce(this._array, fn, start);\r\n    }\r\n    reverseReduceUntil(fn, test, start) {\r\n        return Arr.reverseReduceUntil(this._array, fn, test, start);\r\n    }\r\n    equals(b) {\r\n        const result = equals(this._array, b.values);\r\n        return result;\r\n    }\r\n    same(b) {\r\n        let a = this;\r\n        let count = 0;\r\n        if (a.length === b.length) {\r\n            if (a.indexer !== null) {\r\n                b.until((el) => !a.contains(el), (el, i) => ++count);\r\n            }\r\n            else {\r\n                a.until((el) => !b.contains(el), (el, i) => ++count);\r\n            }\r\n        }\r\n        return count === a.length;\r\n    }\r\n    intersect(b) {\r\n        let result = this.create();\r\n        let long;\r\n        let short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            short.forEach((el) => {\r\n                if (long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            long.forEach((el) => {\r\n                if (short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    union(b) {\r\n        let result = this.create();\r\n        let long;\r\n        let short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            result = long.clone();\r\n            short.forEach((el) => {\r\n                if (!long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            result = short.clone();\r\n            long.forEach((el) => {\r\n                if (!short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    subtract(b) {\r\n        let result = this.create();\r\n        result.indexer = this.indexer;\r\n        result = this.select((el) => !b.contains(el));\r\n        return result;\r\n    }\r\n    zip(list, fn = (t, u) => [t, u]) {\r\n        let result = this.create();\r\n        let length = list.length;\r\n        this.until(function (el, i) {\r\n            return i >= length;\r\n        }, function (el, i) {\r\n            result.push(fn(el, list.get(i)));\r\n        });\r\n        return result;\r\n    }\r\n    unzip(fn = (el) => [el[0], el[1]]) {\r\n        let result = [this.create(), this.create()];\r\n        this.forEach(function (el) {\r\n            let tuple = fn(el);\r\n            result[0].push(tuple[0]);\r\n            result[1].push(tuple[1]);\r\n        });\r\n        return result;\r\n    }\r\n    flatten(maxDepth = Infinity) {\r\n        return this.create(maxDepth < 1 ? this.values : this._flattenInner(this.values, maxDepth));\r\n    }\r\n    _flattenInner(src, maxDepth, depth = -1, result = []) {\r\n        let i = -1;\r\n        const len = src.length;\r\n        if (++depth > maxDepth) {\r\n            result.push(src);\r\n        }\r\n        else {\r\n            while (++i < len) {\r\n                if (isArray(src[i])) {\r\n                    this._flattenInner(src[i], maxDepth, depth, result);\r\n                }\r\n                else if (src[i] instanceof List) {\r\n                    this._flattenInner(src[i].values, maxDepth, depth, result);\r\n                }\r\n                else {\r\n                    result.push(src[i]);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return this.values;\r\n    }\r\n    serialize() {\r\n        return this.values.map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        Arr.deserialize(array, this._array, ...types);\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=List.js.map","import { binarySearch } from \"../Arr\";\r\nimport { equals } from \"../Obj\";\r\nimport { isFunction } from \"../Test\";\r\nimport { List } from \"./List\";\r\nexport class Comparer {\r\n}\r\nComparer.StringAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\nComparer.StringDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\nComparer.NumberAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\nComparer.NumberDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\nexport class SortedList {\r\n    constructor(comparer = ((a, b) => a < b ? -1 : a === b ? 0 : 1), arr) {\r\n        this._list = new List();\r\n        this._cmp = comparer;\r\n        if (arr === undefined) {\r\n            this._list = new List();\r\n        }\r\n        else {\r\n            if (arr instanceof (List) || arr instanceof (SortedList)) {\r\n                this.copy(arr.values);\r\n            }\r\n            else {\r\n                this.copy(arr);\r\n            }\r\n        }\r\n    }\r\n    create(comparer, arr) {\r\n        return new (this.constructor)(comparer, arr);\r\n    }\r\n    get values() {\r\n        return this._list.values;\r\n    }\r\n    get(pos) {\r\n        return this._list.get(pos);\r\n    }\r\n    get count() {\r\n        return this._list.length;\r\n    }\r\n    get length() {\r\n        return this._list.length;\r\n    }\r\n    get comparer() {\r\n        return this._cmp;\r\n    }\r\n    set comparer(v) {\r\n        this._cmp = v;\r\n        this.sort();\r\n    }\r\n    sort() {\r\n        this._list.orderBy(this._cmp);\r\n    }\r\n    fill(size, populator) {\r\n        this._list.fill(size, populator);\r\n        this.sort();\r\n        return this;\r\n    }\r\n    clear() {\r\n        this._list.clear();\r\n        return this;\r\n    }\r\n    add(v) {\r\n        let index = this.getInsertIndex(v);\r\n        this._list.insertAt(index, v);\r\n        return this;\r\n    }\r\n    pop() {\r\n        return this._list.pop();\r\n    }\r\n    shift() {\r\n        return this._list.shift();\r\n    }\r\n    bulkAdd(v) {\r\n        if (v instanceof List || v instanceof SortedList) {\r\n            this._list.append(v.values);\r\n        }\r\n        else {\r\n            this._list.append(v);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    copy(src) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.copy(src.values);\r\n        }\r\n        else {\r\n            this._list.copy(src);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    clone() {\r\n        return this.create(this._cmp, this._list.clone());\r\n    }\r\n    remove(v) {\r\n        let index = this.indexOf(v);\r\n        if (index !== -1) {\r\n            this._list.removeAt(index);\r\n        }\r\n        return this;\r\n    }\r\n    removeAt(n) {\r\n        return this._list.removeAt(n);\r\n    }\r\n    removeFirst(fn) {\r\n        return this._list.removeFirst(fn);\r\n    }\r\n    forEach(fn, startIndex = 0) {\r\n        this._list.forEach(fn, startIndex);\r\n        return this;\r\n    }\r\n    forSome(filter, fn) {\r\n        this._list.forSome(filter, fn);\r\n        return this;\r\n    }\r\n    until(fnOrTest, fn, startIndex) {\r\n        this._list.until(fnOrTest, fn, startIndex);\r\n        return this;\r\n    }\r\n    reverseForEach(fn) {\r\n        this._list.reverseForEach(fn);\r\n        return this;\r\n    }\r\n    reverseUntil(fnOrTest, fn) {\r\n        this._list.reverseUntil(fnOrTest, fn);\r\n        return this;\r\n    }\r\n    some(fn) {\r\n        return this._list.some(fn);\r\n    }\r\n    all(fn) {\r\n        return this._list.all(fn);\r\n    }\r\n    getInsertIndex(v) {\r\n        return binarySearch(this._list.values, (el) => this._cmp(el, v), true);\r\n    }\r\n    indexOf(v) {\r\n        let result = -1;\r\n        if (v instanceof Function) {\r\n            result = this._list.indexOf(v);\r\n        }\r\n        else {\r\n            result = binarySearch(this._list.values, (el) => this._cmp(el, v), false);\r\n        }\r\n        return result;\r\n    }\r\n    contains(v) {\r\n        return this.indexOf(v) !== -1;\r\n    }\r\n    first(fn) {\r\n        return this._list.first(fn);\r\n    }\r\n    find(fn) {\r\n        return this._list.find(fn);\r\n    }\r\n    last() {\r\n        return this._list.last();\r\n    }\r\n    filter(fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    }\r\n    select(fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    }\r\n    selectInto(src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.selectInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.selectInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    head(count = 1) {\r\n        return this.create(this.comparer, this._list.head(count));\r\n    }\r\n    tail(count = 1) {\r\n        return this.create(this.comparer, this._list.tail(count));\r\n    }\r\n    map(fn) {\r\n        return this._list.map(fn);\r\n    }\r\n    mapInto(src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.mapInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.mapInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        return this._list.reduce(fn, start);\r\n    }\r\n    reduceUntil(fn, test, start) {\r\n        return this._list.reduceUntil(fn, test, start);\r\n    }\r\n    reverseReduce(fn, start) {\r\n        return this._list.reverseReduce(fn, start);\r\n    }\r\n    reverseReduceUntil(fn, test, start) {\r\n        return this._list.reverseReduceUntil(fn, test, start);\r\n    }\r\n    equals(b) {\r\n        const result = equals(this._list.values, b.values);\r\n        return result;\r\n    }\r\n    same(b) {\r\n        return this.equals(b);\r\n    }\r\n    intersect(b) {\r\n        let result = this.create(this.comparer);\r\n        let long;\r\n        let short;\r\n        if (this.length > 0 && b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                let longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                let lastPos = long.getInsertIndex(short.last()) - 1;\r\n                let i = -1;\r\n                let shortLen = short.length;\r\n                while (longPos < lastPos && ++i < shortLen) {\r\n                    let el = short.get(i);\r\n                    let aVsB;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if (longPos < lastPos && aVsB === 0) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                short.forEach((el) => {\r\n                    if (long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = result.bulkAdd(short.toList().intersect(long));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    union(b) {\r\n        let result;\r\n        let long;\r\n        let short;\r\n        if (this.length > 0 || b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                result = this.create(this.comparer, long.values);\r\n                let longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                let lastPos = long.getInsertIndex(short.last()) - 1;\r\n                let i = -1;\r\n                let shortLen = short.length;\r\n                while (++i < shortLen && longPos < lastPos) {\r\n                    let el = short.get(i);\r\n                    let aVsB = -1;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if ((aVsB > 0 && longPos < lastPos) || longPos === lastPos) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n                if (i < shortLen) {\r\n                    --i;\r\n                    while (++i < shortLen) {\r\n                        result.add(short.get(i));\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                result = this.create(this.comparer, long.values);\r\n                short.forEach((el) => {\r\n                    if (!long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = this.create(this.comparer, short.toList().union(long));\r\n            }\r\n        }\r\n        else {\r\n            result = this.create(this.comparer);\r\n        }\r\n        return result;\r\n    }\r\n    toList() {\r\n        return new List(this.values);\r\n    }\r\n    toJSON() {\r\n        return this.values;\r\n    }\r\n    serialize() {\r\n        return this.values.map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        this._list.deserialize(array, ...types);\r\n        this.sort();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=SortedList.js.map","import { deepCopy, slice, deserialize } from \"../Arr\";\r\nimport { isFunction } from \"../Test\";\r\nimport { List } from \"./List\";\r\nexport class Stack {\r\n    constructor(size) {\r\n        this.DEFAULT_SIZE = 100;\r\n        this._pos = 0;\r\n        this._limit = 0;\r\n        if (!size) {\r\n            size = this.DEFAULT_SIZE;\r\n        }\r\n        this.DEFAULT_SIZE = size;\r\n        this._array = new Array(size);\r\n        this.push = this.fastPush;\r\n    }\r\n    get values() {\r\n        return slice(this._array, 0, this._pos);\r\n    }\r\n    get depth() {\r\n        return this._pos;\r\n    }\r\n    get size() {\r\n        return this._pos;\r\n    }\r\n    get isEmpty() {\r\n        return this.size === 0;\r\n    }\r\n    get limit() {\r\n        return this._limit;\r\n    }\r\n    set limit(value) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n        this._limit = value;\r\n        if (value === 0) {\r\n            this.push = this.fastPush;\r\n        }\r\n        else {\r\n            this.push = this.limitedPush;\r\n            this.limitObjects();\r\n        }\r\n    }\r\n    create(size) {\r\n        return new (this.constructor)(size);\r\n    }\r\n    push(obj) {\r\n    }\r\n    fastPush(obj) {\r\n        this._array[this._pos++] = obj;\r\n    }\r\n    limitedPush(obj) {\r\n        this._array[this._pos] = obj;\r\n        ++this._pos;\r\n        this.limitObjects();\r\n    }\r\n    pop() {\r\n        let result = undefined;\r\n        if (this._pos !== 0) {\r\n            result = this._array[--this._pos];\r\n        }\r\n        return result;\r\n    }\r\n    peek() {\r\n        return this._array[this._pos - 1];\r\n    }\r\n    peekAt(index) {\r\n        return index < 0 || index >= this._pos ? undefined : this._array[this._pos - index - 1];\r\n    }\r\n    toList() {\r\n        const result = new List();\r\n        return new List(this.values);\r\n    }\r\n    clear() {\r\n        this._pos = 0;\r\n        this._array.length = this.DEFAULT_SIZE;\r\n        return this;\r\n    }\r\n    clone() {\r\n        const arr = deepCopy(this._array);\r\n        let result = this.create(this.DEFAULT_SIZE);\r\n        result._array = arr;\r\n        result._limit = this._limit;\r\n        result._pos = this._pos;\r\n        return result;\r\n    }\r\n    limitObjects() {\r\n        while (this._pos > this._limit) {\r\n            this._array.shift();\r\n            --this._pos;\r\n        }\r\n    }\r\n    toJSON() {\r\n        return slice(this.values, 0, this._pos);\r\n    }\r\n    serialize() {\r\n        return slice(this.values, 0, this._pos).map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        deserialize(array, this._array, ...types);\r\n        this._pos = array.length;\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Stack.js.map","class TimerState {\r\n}\r\nTimerState._hasPerformance = typeof (performance) !== \"undefined\";\r\nexport class Timer {\r\n    static get time() {\r\n        return TimerState._time;\r\n    }\r\n    static now() {\r\n        if (TimerState._hasPerformance) {\r\n            return performance.now();\r\n        }\r\n        else {\r\n            const hrTime = process.hrtime();\r\n            return hrTime[0] * 1000 + (hrTime[1] / 1e6);\r\n        }\r\n    }\r\n    static start() {\r\n        const now = Timer.now();\r\n        TimerState._start = TimerState._last = now;\r\n        return TimerState._time = 0;\r\n    }\r\n    static stop() {\r\n        const start = TimerState._start;\r\n        const now = Timer.now();\r\n        TimerState._last = now;\r\n        return TimerState._time = now - start;\r\n    }\r\n}\r\n//# sourceMappingURL=Timer.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { map } from \"../Arr\";\r\nimport { clone, isSameClass, setProperties } from \"../Obj\";\r\nimport { Initable } from \"../standard/mixins/Initable\";\r\nimport { isArray } from \"../Test\";\r\nimport { newUUID } from \"../Util\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nimport { List } from \"./List\";\r\nimport { Stack } from \"./Stack\";\r\nlet Tree = Tree_1 = class Tree {\r\n    constructor() {\r\n        this.id = \"\";\r\n        this.parent = null;\r\n        this.children = null;\r\n        this.data = null;\r\n        this.virtual = false;\r\n        this.id = newUUID();\r\n    }\r\n    static fromObject(obj) {\r\n        const parent = (this instanceof Tree_1) ? this : null;\r\n        const root = new Tree_1().init({ id: obj.id || newUUID(), data: obj.data, parent });\r\n        if (obj.children !== undefined && isArray(obj.children)) {\r\n            root.children = new List(map(obj.children, Tree_1.fromObject.bind(root)));\r\n        }\r\n        return root;\r\n    }\r\n    static fromNodeList(nodes, mapcfg, virtualRoot = false) {\r\n        let result = new Tree_1();\r\n        let mapResolver = (key) => {\r\n            return !mapcfg || typeof (mapcfg[key]) === \"undefined\" ? (el) => el[key] :\r\n                typeof (mapcfg[key]) === \"string\" ? (el) => el[mapcfg[key]] :\r\n                    mapcfg[key];\r\n        };\r\n        let map = {\r\n            id: mapResolver(\"id\"),\r\n            parent: mapResolver(\"parent\"),\r\n            data: mapResolver(\"data\")\r\n        };\r\n        let list = new List(nodes);\r\n        let lookup = new Dictionary();\r\n        list.forEach((el, i) => {\r\n            let node = new Tree_1().init({ id: map.id(el), data: map.data(el) });\r\n            lookup.set(node.id, node);\r\n        });\r\n        let rootNodes = new List();\r\n        list.forEach((el, i) => {\r\n            let parent = map.parent(el);\r\n            if (lookup.contains(parent)) {\r\n                lookup.get(parent).add(lookup.get(map.id(el)));\r\n            }\r\n            else {\r\n                rootNodes.add(lookup.get(map.id(el)));\r\n            }\r\n        });\r\n        if (virtualRoot === false) {\r\n            result = rootNodes.first();\r\n        }\r\n        else {\r\n            result = new Tree_1().init({ id: newUUID(), virtual: true });\r\n            rootNodes.forEach((el) => result.add(el));\r\n        }\r\n        return result;\r\n    }\r\n    create() {\r\n        return new (this.constructor)();\r\n    }\r\n    init(obj) {\r\n        setProperties(this, obj);\r\n        return this;\r\n    }\r\n    insertAt(pos, data) {\r\n        if (this.children === null || this.children.count <= pos) {\r\n            this.add(data);\r\n        }\r\n        else {\r\n            this.children.insertAt(pos, this.create().init({ data, parent: this }));\r\n        }\r\n    }\r\n    add(data) {\r\n        if (this.children === null) {\r\n            this.children = new List();\r\n        }\r\n        if (isSameClass(data, this)) {\r\n            data.parent = this;\r\n            this.children.add(data);\r\n        }\r\n        else {\r\n            this.children.add((this.create()).init({ data: data, parent: this }));\r\n        }\r\n    }\r\n    remove() {\r\n        if (this.parent !== null) {\r\n            this.parent.children.remove(this);\r\n        }\r\n    }\r\n    prune() {\r\n        if (this.children !== null) {\r\n            this.children\r\n                .forEach(function (el, i) {\r\n                el.parent = null;\r\n            })\r\n                .clear();\r\n        }\r\n        this.children = null;\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        const stack = new Stack();\r\n        let acc = start;\r\n        if (!fn) {\r\n            fn = (acc, cur) => (acc.push({ id: cur.id, parent: cur.parent ? cur.parent.id : null, data: cur.data }), acc);\r\n        }\r\n        if (start === undefined) {\r\n            acc = [];\r\n        }\r\n        let cur;\r\n        let i;\r\n        stack.push(this);\r\n        while (cur = stack.pop()) {\r\n            acc = fn(acc, cur);\r\n            i = (cur.children && cur.children.count) || 0;\r\n            while (i--) {\r\n                stack.push(cur.children.get(i));\r\n            }\r\n        }\r\n        return acc;\r\n    }\r\n    clone() {\r\n        const result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children === null ? null : this.children.clone();\r\n        result.data = this.data === null || this.data === undefined ? this.data : clone(this.data);\r\n        return result;\r\n    }\r\n    duplicateNode() {\r\n        const result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children;\r\n        result.data = this.data;\r\n        return result;\r\n    }\r\n    filter(condition) {\r\n        const root = this.duplicateNode();\r\n        const children = this.children;\r\n        if (children !== null) {\r\n            root.children =\r\n                root.children\r\n                    .select(condition)\r\n                    .map(function (el, i) {\r\n                    return el.filter(condition);\r\n                });\r\n        }\r\n        return root;\r\n    }\r\n    select(condition, acc = new List()) {\r\n        const result = acc;\r\n        const children = this.children;\r\n        if (condition === undefined || condition(this)) {\r\n            result.add(this);\r\n        }\r\n        if (children) {\r\n            children.reduce(function (acc, cur) {\r\n                return cur.select(condition, acc);\r\n            }, result);\r\n        }\r\n        return result;\r\n    }\r\n    find(condition) {\r\n        let result = null;\r\n        const children = this.children;\r\n        if (children !== null) {\r\n            let i = -1;\r\n            const len = this.children.count;\r\n            const val = this.children.values;\r\n            while (++i < len) {\r\n                if (condition(val[i].data)) {\r\n                    result = val[i];\r\n                    break;\r\n                }\r\n                else {\r\n                    result = val[i].children !== null ? val[i].find(condition) : null;\r\n                    if (result !== null) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    contains(condition) {\r\n        return this.find(condition) !== null;\r\n    }\r\n    depth() {\r\n        let result = 0;\r\n        let node = this;\r\n        while (node.parent) {\r\n            node = node.parent;\r\n            ++result;\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        let result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map((el) => el.id) });\r\n        if (this.children !== null) {\r\n            this.children.forEach((node) => result.append(node.toJSON()));\r\n        }\r\n        return result.toJSON();\r\n    }\r\n    serialize() {\r\n        let result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map((el) => el.id) });\r\n        if (this.children !== null) {\r\n            this.children.forEach((node) => result.append(node.serialize()));\r\n        }\r\n        return result.serialize();\r\n    }\r\n};\r\nTree = Tree_1 = __decorate([\r\n    Initable,\r\n    __metadata(\"design:paramtypes\", [])\r\n], Tree);\r\nexport { Tree };\r\nvar Tree_1;\r\n//# sourceMappingURL=Tree.js.map","import { Global } from \"./Global\";\r\nexport class Uri {\r\n    constructor() {\r\n        this._a = null;\r\n        this.hash = \"\";\r\n        this.pathName = \"\";\r\n        this.port = \"\";\r\n        this.hostName = \"\";\r\n        this.protocol = \"\";\r\n        this.origin = \"\";\r\n        this.full = \"\";\r\n        this.args = {};\r\n        this.init();\r\n    }\r\n    init() {\r\n        if (Global.window !== null) {\r\n            this._a = Global.window.document.createElement(\"a\");\r\n            this._a.setAttribute(\"href\", Global.window.location.href);\r\n            const args = this.args;\r\n            this._a.search.substring(1).split(\"&\").forEach((arg) => {\r\n                const p = arg.split(\"=\");\r\n                args[p[0]] = p[1];\r\n            });\r\n            this.hash = this._a.hash;\r\n            this.pathName = this._a.pathname;\r\n            this.port = this._a.port;\r\n            this.hostName = this._a.hostname;\r\n            this.protocol = this._a.protocol;\r\n            this.origin = this._a.origin;\r\n            this.full = this._a.href;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Uri.js.map","export let async = function async(target, propertyKey, descriptor) {\r\n    const orgFn = descriptor.value;\r\n    descriptor.value = function (...args) {\r\n        let result = new Promise((resolve, reject) => {\r\n            let value;\r\n            try {\r\n                value = orgFn.apply(this, args);\r\n                resolve(value);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    return descriptor;\r\n};\r\nasync.before = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = () => {\r\n                    orgFn.apply(this, args)\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                decoration.apply(this, [orgFn.name].concat(args))\r\n                    .then((value) => {\r\n                    callback();\r\n                })\r\n                    .catch((reason) => {\r\n                    callback();\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.after = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = (value, reason) => {\r\n                    decoration.apply(this, [value, reason, orgFn.name].concat(args))\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                orgFn.apply(this, args)\r\n                    .then((value) => {\r\n                    callback(value, undefined);\r\n                })\r\n                    .catch((reason) => {\r\n                    callback(undefined, reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.provided = function (async_predicate) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = () => {\r\n                    orgFn.apply(this, args)\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                async_predicate.apply(this, [orgFn.name].concat(args))\r\n                    .then((value) => {\r\n                    if (value) {\r\n                        callback();\r\n                    }\r\n                    else {\r\n                        reject(false);\r\n                    }\r\n                })\r\n                    .catch((reason) => {\r\n                    reject(reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\n//# sourceMappingURL=AsyncCombinators.js.map","export class Pool {\r\n    constructor(cls, growthStep = 10) {\r\n        this._pool = [];\r\n        this._available = 0;\r\n        this._size = 0;\r\n        this._cls = cls;\r\n        this._growthStep = growthStep;\r\n        this.create();\r\n    }\r\n    get available() {\r\n        return this._available;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    create() {\r\n        let i = 0;\r\n        for (; i < this._growthStep; i++) {\r\n            this._pool.push(new this._cls());\r\n        }\r\n        this._size += this._growthStep;\r\n        this._available += this._growthStep;\r\n    }\r\n    get() {\r\n        let result;\r\n        if (this._pool.length === 0) {\r\n            this.create();\r\n        }\r\n        result = this._pool.pop();\r\n        --this._available;\r\n        result.initPool(this);\r\n        return result;\r\n    }\r\n    release(obj) {\r\n        this._pool.push(obj);\r\n        ++this._available;\r\n    }\r\n}\r\n//# sourceMappingURL=Pool.js.map","export var MocDataType;\r\n(function (MocDataType) {\r\n    MocDataType[MocDataType[\"LinearInt\"] = 0] = \"LinearInt\";\r\n    MocDataType[MocDataType[\"RandomInt\"] = 1] = \"RandomInt\";\r\n    MocDataType[MocDataType[\"LinearFloat\"] = 2] = \"LinearFloat\";\r\n    MocDataType[MocDataType[\"RandomFloat\"] = 3] = \"RandomFloat\";\r\n})(MocDataType || (MocDataType = {}));\r\nexport const VALID_CHARS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\nexport function randomString(length = 25) {\r\n    let result = \"\";\r\n    for (let i = 0; i < length; i += 1) {\r\n        result += VALID_CHARS.charAt(Math.floor(Math.random() * VALID_CHARS.length));\r\n    }\r\n    return result;\r\n}\r\nexport function randomInt() {\r\n    return this.randomNumber() | 0;\r\n}\r\nexport function randomNumber() {\r\n    return Math.random() * 2147483647;\r\n}\r\nexport function numericArray(length, type = MocDataType.LinearInt) {\r\n    const result = new Array(length);\r\n    switch (type) {\r\n        case MocDataType.RandomInt:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = this.randomInt();\r\n            }\r\n            break;\r\n        case MocDataType.LinearFloat:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = i + 0.5;\r\n            }\r\n            break;\r\n        case MocDataType.RandomFloat:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = this.randomNumber();\r\n            }\r\n            break;\r\n        default:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = i;\r\n            }\r\n            break;\r\n    }\r\n    return result;\r\n}\r\nexport function stringArray(arrayLength, stringLength) {\r\n    const result = new Array(arrayLength);\r\n    let i = -1;\r\n    while (++i < arrayLength) {\r\n        result[i] = this.randomString(stringLength);\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=MocData.js.map","export class KeyValuePair {\r\n}\r\n//# sourceMappingURL=KeyValuePair.js.map","export function before(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            decoration.apply(this, [orgFn.name].concat(args));\r\n            const result = orgFn.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function after(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            const result = orgFn.apply(this, [orgFn.name].concat(args));\r\n            decoration.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function around(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result;\r\n            let callback = () => result = orgFn.apply(this, args);\r\n            decoration.apply(this, [callback, orgFn.name].concat(args));\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function provided(condition) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result;\r\n            if (condition.apply(this, [orgFn.name].concat(args))) {\r\n                result = orgFn.apply(this, args);\r\n            }\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function once(target, propertyKey, descriptor) {\r\n    const orgFn = descriptor.value;\r\n    let result;\r\n    let first = true;\r\n    descriptor.value = function (...args) {\r\n        if (first) {\r\n            result = orgFn.apply(this, args);\r\n            first = false;\r\n        }\r\n        return result;\r\n    };\r\n    return descriptor;\r\n}\r\n//# sourceMappingURL=Combinators.js.map","import * as Arr from \"./Arr\";\r\nimport * as Calc from \"./Calc\";\r\nimport * as Dom from \"./Dom\";\r\nimport { Global } from \"./Global\";\r\nimport * as MocData from \"./MocData\";\r\nimport * as Obj from \"./Obj\";\r\nimport { Initable } from \"./standard/mixins/Initable\";\r\nimport { Poolable } from \"./standard/mixins/Poolable\";\r\nimport { Pool } from \"./standard/Pool\";\r\nimport { Dictionary } from \"./struct/Dictionary\";\r\nimport { KeyValuePair } from \"./struct/KeyValuePair\";\r\nimport { List } from \"./struct/List\";\r\nimport { Range2 } from \"./struct/Range2\";\r\nimport { Rect } from \"./struct/Rect\";\r\nimport { Stack } from \"./struct/Stack\";\r\nimport { Tree } from \"./struct/Tree\";\r\nimport { Vec2 } from \"./struct/Vec2\";\r\nimport * as Test from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nimport { Uri } from \"./Uri\";\r\nimport * as Util from \"./Util\";\r\nexport function integrate(alias) {\r\n    let stringAlias = false;\r\n    let objectAlias = false;\r\n    let list = [\r\n        { name: \"Arr\", object: Arr },\r\n        { name: \"Calc\", object: Calc },\r\n        { name: \"Dom\", object: Dom },\r\n        { name: \"MocData\", object: MocData },\r\n        { name: \"Obj\", object: Obj },\r\n        { name: \"Initable\", object: Initable },\r\n        { name: \"Poolable\", object: Poolable },\r\n        { name: \"Pool\", object: Pool },\r\n        { name: \"Dictionary\", object: Dictionary },\r\n        { name: \"KeyValuePair\", object: KeyValuePair },\r\n        { name: \"List\", object: List },\r\n        { name: \"Range2\", object: Range2 },\r\n        { name: \"Rect\", object: Rect },\r\n        { name: \"Stack\", object: Stack },\r\n        { name: \"Tree\", object: Tree },\r\n        { name: \"Vec2\", object: Vec2 },\r\n        { name: \"Test\", object: Test },\r\n        { name: \"Timer\", object: Timer },\r\n        { name: \"Uri\", object: Uri },\r\n        { name: \"Util\", object: Util },\r\n    ];\r\n    if (typeof (alias) === \"string\") {\r\n        Global.window[alias] = {};\r\n        stringAlias = true;\r\n    }\r\n    for (const stuff of list) {\r\n        if (stringAlias) {\r\n            Global.window[alias][stuff.name] = stuff.object;\r\n        }\r\n        else if (objectAlias) {\r\n            alias[stuff.name] = stuff.object;\r\n        }\r\n        else {\r\n            Global.window[stuff.name] = stuff.object;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Integration.js.map"],"names":["rotationRad","rotation","deg","CalcConst","DEGREE_FACTOR","ROTATION_DEGREE_PRECISION","this","rotationDeg","hasWindow","Global","window","hasConsole","undefined","console","isArray","it","Array","Object","prototype","toString","call","isFunction","isNumber","x","areNullOrUndefined","args","len","length","a","i","result","areNotNullOrUndefined","isNullOrUndefined","arg","isNotNullOrUndefined","areUndefined","isUndefined","isNotUndefined","wipe","obj","keys","setNull","constructor","clear","key","isClassOf","b","isSameClass","equals","isDifferent","clone","deepCopy","Date","getTime","RegExp","cloneInto","src","target","arrS","arrT","setProperties","values","mapping","value","flatten","flattenInner","push","reverse","array","left","right","temporary","concat","arrs","apply","slice","from","count","Infinity","Math","min","splice","pos","remove","insert","Error","srcLen","max","insertLen","newLen","delta","append","arr","index","offset","removeAt","indexOfElement","el","indexOf","fn","shallowCopy","shallowCopyInto","deepCopyInto","filter","filterInto","j","space","map","mapInto","reduce","start","acc","reduceUntil","test","reverseReduce","reverseReduceUntil","forEach","startIndex","forSome","until","fnOrTest","isCombined","reverseForEach","reverseUntil","combined","some","all","insertAt","v","unshift","binarySearch","cmp","closest","mid","element","lo","hi","val","create","populator","deserialize","types","T","passthroughT","newT","Initable","[object Object]","newUUID","d","Timer","now","replace","c","r","random","floor","callDebugger","proxyFn","objOrClass","fnName","bind","toArray","setAttr","_el","attr","get","k","styles","styleKeys","style","setProperty","join","setAttribute","children","removeChild","id","DomState","_document","getElementById","body","is","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","querySelector","querySelectorAll","Poolable","super","__pool__","release","pool","RADIAN_FACTOR","PI","DEG360","ROTATION_LOOKUP","lookup","cos","sin","NaN","radian","Vec2Const","EPSILON","IDENTITY","y","X_DIM","Y_DIM","Vec2","angle","horizontalAngle","direction","isZero","out","set","ceil","sqrt","lengthSq","atan2","rot","nx","ny","center","subtract","rotate","add","vectorB","scalar","abs","isNormalized","normalize","temp","coeff","Rect","stop","x1","y1","x2","y2","endInclusive","Range2","size","factor","keepCenter","ow","oh","w","h","system","scale","rect","toInt","toDecimal","vec","containsPoint","zero","org","multiply","toRect","translate","toRange2","s","t","intersect","p","begin","end","range","nativeWindow","win","_Global","_window","_nativeWindow","hasNativeWindow","nodeType","String","destroy","exclude","sources","hasOwnProperty","at","Dictionary","_lookup","_list","List","_isDirty","has","cleanList","list","reCreateList","serialize","_array","_index","_indexer","Arr.shallowCopy","indexer","_reindex","Arr.create","Arr.insertAt","pop","delete","shift","arr2","Arr.concat","Arr.forEach","Arr.append","Arr.deepCopyInto","Arr.shallowCopyInto","Arr.deepCopy","Arr.remove","unindexEl","n","Arr.removeAt","Arr.forSome","Arr.until","Arr.reverseForEach","Arr.reverseUntil","Arr.some","Arr.all","Arr.indexOf","Arr.indexOfElement","find","contains","Arr.reverse","first","Arr.filter","Arr.filterInto","Arr.slice","Arr.splice","sort","Arr.map","Arr.mapInto","Arr.reduce","Arr.reduceUntil","Arr.reverseReduce","Arr.reverseReduceUntil","long","short","select","u","tuple","maxDepth","_flattenInner","depth","Arr.deserialize","SortedList","comparer","_cmp","copy","orderBy","fill","getInsertIndex","removeFirst","Function","last","selectInto","head","tail","longPos","lastPos","shortLen","aVsB","bulkAdd","toList","union","Stack","DEFAULT_SIZE","_pos","_limit","fastPush","isEmpty","limit","limitedPush","limitObjects","TimerState","_hasPerformance","time","_time","performance","hrTime","process","hrtime","_start","_last","UtilState","_int","name","fnString","substring","lastIndexOf","log","warn","error","superfn","assertion","message","isDebug","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadata","exports","Tree_1","parent","data","virtual","root","init","fromObject","nodes","mapcfg","virtualRoot","mapResolver","node","rootNodes","stack","cur","condition","duplicateNode","toJSON","Tree","Sides","document","createElement","html","innerHTML","appendChild","parentNode","replaceChild","top","comp","getComputedStyle","Uri","_a","hash","pathName","port","hostName","protocol","origin","full","location","href","search","split","pathname","hostname","async","propertyKey","descriptor","orgFn","Promise","resolve","reject","err","before","decoration","callback","then","catch","reason","after","provided","async_predicate","Pool","cls","growthStep","_pool","_available","_size","_cls","_growthStep","available","initPool","MocDataType","VALID_CHARS","charAt","randomNumber","type","LinearInt","RandomInt","randomInt","LinearFloat","RandomFloat","arrayLength","stringLength","randomString","KeyValuePair","alias","stringAlias","object","Arr","Calc","Dom","MocData","Obj","Test","Util","stuff"],"mappings":"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"}