{"version":3,"file":"goodcore.es6.umd.min.js","sources":["lib/Calc.js","lib/struct/Vec2.js","lib/struct/Rect.js","lib/struct/Range2.js","lib/Global.js","lib/Test.js","lib/Obj.js","lib/Arr.js","lib/struct/Dictionary.js","lib/struct/List.js","lib/struct/SortedList.js","lib/struct/Stack.js","lib/standard/mixins/Initable.js","lib/Timer.js","lib/Util.js","lib/struct/Tree.js","lib/Dom.js","lib/Uri.js","lib/standard/mixins/Poolable.js","lib/standard/AsyncCombinators.js","lib/standard/Pool.js","lib/MocData.js","lib/struct/KeyValuePair.js","lib/standard/Combinators.js","lib/Integration.js"],"sourcesContent":["export class CalcConst {\r\n}\r\nCalcConst.ROTATION_DEGREE_PRECISION = 1;\r\nCalcConst.RADIAN_FACTOR = (1 / 360) * (2 * Math.PI);\r\nCalcConst.DEGREE_FACTOR = (1 / (2 * Math.PI) * 360);\r\nCalcConst.DEG360 = 360 * CalcConst.ROTATION_DEGREE_PRECISION;\r\nCalcConst.ROTATION_LOOKUP = (function () {\r\n    const lookup = [];\r\n    for (let i = 0; i < 360 * CalcConst.ROTATION_DEGREE_PRECISION; i++) {\r\n        lookup.push([Math.cos(i * CalcConst.RADIAN_FACTOR), Math.sin(i * CalcConst.RADIAN_FACTOR)]);\r\n    }\r\n    return lookup;\r\n})();\r\nexport function sign(x) {\r\n    return typeof x === \"number\" ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\r\n}\r\nexport function rotationDeg(rotation) {\r\n    let deg = (rotation * CalcConst.ROTATION_DEGREE_PRECISION) | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return CalcConst.ROTATION_LOOKUP[deg];\r\n}\r\nexport function rotationRad(rotation) {\r\n    const deg = rotation * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    return this.rotationDeg(deg / CalcConst.ROTATION_DEGREE_PRECISION);\r\n}\r\nexport function closestRadianRotation(radian) {\r\n    let deg = radian * CalcConst.DEGREE_FACTOR * CalcConst.ROTATION_DEGREE_PRECISION | 0;\r\n    while (deg < 0) {\r\n        deg += CalcConst.DEG360;\r\n    }\r\n    while (deg >= CalcConst.DEG360) {\r\n        deg -= CalcConst.DEG360;\r\n    }\r\n    return deg * CalcConst.RADIAN_FACTOR / CalcConst.ROTATION_DEGREE_PRECISION;\r\n}\r\n//# sourceMappingURL=Calc.js.map","import { rotationRad } from \"../Calc\";\r\nexport class Vec2Const {\r\n}\r\nVec2Const.EPSILON = 1e-8;\r\nVec2Const.IDENTITY = { x: 1, y: 1 };\r\nVec2Const.X_DIM = { x: 1, y: 0 };\r\nVec2Const.Y_DIM = { x: 0, y: 1 };\r\nexport class Vec2 {\r\n    constructor(x = 0, y = 0) {\r\n        this.angle = this.horizontalAngle;\r\n        this.direction = this.horizontalAngle;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    get isZero() {\r\n        return this.x === 0 && this.y === 0;\r\n    }\r\n    create(x = 0, y = 0) {\r\n        return new (this.constructor)(x, y);\r\n    }\r\n    set(src) {\r\n        this.x = src.x;\r\n        this.y = src.y;\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.x, this.y);\r\n        return result;\r\n    }\r\n    toInt() {\r\n        this.x |= 0;\r\n        this.y |= 0;\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.x += Vec2Const.EPSILON;\r\n        this.y += Vec2Const.EPSILON;\r\n        return this;\r\n    }\r\n    lengthSq() { return (this.x * this.x + this.y * this.y); }\r\n    length() { return Math.sqrt(this.lengthSq()); }\r\n    horizontalAngle() { return Math.atan2(this.y, this.x); }\r\n    rotate(angle) {\r\n        const rot = rotationRad(angle);\r\n        const nx = (this.x * rot[0]) - (this.y * rot[1]);\r\n        const ny = (this.x * rot[1]) + (this.y * rot[0]);\r\n        this.x = nx;\r\n        this.y = ny;\r\n        return this;\r\n    }\r\n    rotateAround(center, angle) {\r\n        return this.subtract(center).rotate(angle).add(center);\r\n    }\r\n    normalize() {\r\n        const len = this.length();\r\n        if (len === 0) {\r\n            this.x = 1;\r\n            this.y = 0;\r\n        }\r\n        else {\r\n            this.x = this.x / len;\r\n            this.y = this.y / len;\r\n        }\r\n        return this;\r\n    }\r\n    scale(vectorB) {\r\n        this.x = this.x * vectorB.x;\r\n        this.y = this.y * vectorB.y;\r\n        return this;\r\n    }\r\n    relate(vectorB) {\r\n        this.x = this.x / vectorB.x;\r\n        this.y = this.y / vectorB.y;\r\n        return this;\r\n    }\r\n    multiply(scalar) {\r\n        this.x = this.x * scalar;\r\n        this.y = this.y * scalar;\r\n        return this;\r\n    }\r\n    add(vectorB) {\r\n        this.x = this.x + vectorB.x;\r\n        this.y = this.y + vectorB.y;\r\n        return this;\r\n    }\r\n    subtract(vectorB) {\r\n        this.x = this.x - vectorB.x;\r\n        this.y = this.y - vectorB.y;\r\n        return this;\r\n    }\r\n    invert() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    equals(target) {\r\n        return this.x === target.x && this.y === target.y;\r\n    }\r\n    almostEquals(target) {\r\n        return Math.abs(this.x - target.x) < Vec2Const.EPSILON && Math.abs(this.y - target.y) < Vec2Const.EPSILON;\r\n    }\r\n    getNormal(isNormalized) {\r\n        const result = this.clone();\r\n        if (!isNormalized) {\r\n            result.set(this).normalize();\r\n        }\r\n        const temp = result.x;\r\n        result.x = result.y;\r\n        result.y = -temp;\r\n        return result;\r\n    }\r\n    dot(vectorB) { return (this.x * vectorB.x + this.y * vectorB.y); }\r\n    cross(vectorB) { return ((this.x * vectorB.y) - (this.y * vectorB.x)); }\r\n    projectOnto(vectorB) {\r\n        const coeff = ((this.x * vectorB.x) + (this.y * vectorB.y)) / ((vectorB.x * vectorB.x) + (vectorB.y * vectorB.y));\r\n        this.x = coeff * vectorB.x;\r\n        this.y = coeff * vectorB.y;\r\n        return this;\r\n    }\r\n    verticalAngle() { return Math.atan2(this.x, this.y); }\r\n    rotateBy(rotation) {\r\n        const angle = -this.horizontalAngle() + rotation;\r\n        return this.rotate(angle);\r\n    }\r\n    max(v) {\r\n        this.x = Math.max(this.x, v.x);\r\n        this.y = Math.max(this.y, v.y);\r\n        return this;\r\n    }\r\n    min(v) {\r\n        this.x = Math.min(this.x, v.x);\r\n        this.y = Math.min(this.y, v.y);\r\n        return this;\r\n    }\r\n    zero() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Vec2.js.map","import { Range2 } from \"./Range2\";\r\nimport { Vec2 } from \"./Vec2\";\r\nexport class Rect {\r\n    get isZero() {\r\n        return this.start.isZero && this.stop.isZero;\r\n    }\r\n    constructor(x1 = 0, y1 = 0, x2 = 0, y2 = 0, endInclusive = false) {\r\n        this.start = new Vec2(x1, y1);\r\n        this.stop = new Vec2(x2, y2);\r\n        this.endInclusive = endInclusive;\r\n    }\r\n    create(x1 = 0, y1 = 0, x2 = 0, y2 = 0, endInclusive = false) {\r\n        return new (this.constructor)(x1, y1, x2, y2, endInclusive);\r\n    }\r\n    set(src) {\r\n        this.start.set(src.start);\r\n        this.stop.set(src.stop);\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.start.x, this.start.y, this.stop.x, this.stop.y);\r\n        return result;\r\n    }\r\n    toRange2(out) {\r\n        let result = out || new Range2();\r\n        let start = this.start;\r\n        let stop = this.stop;\r\n        result.pos.x = start.x;\r\n        result.pos.y = start.y;\r\n        result.size.x = stop.x + (this.endInclusive ? (stop.x < start.x ? -1 : 1) : 0) - start.x;\r\n        result.size.y = stop.y + (this.endInclusive ? (stop.y < start.y ? -1 : 1) : 0) - start.y;\r\n        return result;\r\n    }\r\n    scale(factor, keepCenter = true) {\r\n        const ow = this.stop.x - this.start.x;\r\n        const oh = this.stop.y - this.start.y;\r\n        let w = ow;\r\n        let h = oh;\r\n        w *= factor.x;\r\n        h *= factor.y;\r\n        if (keepCenter) {\r\n            this.start.x -= (w - ow) / 2;\r\n            this.start.y -= (h - oh) / 2;\r\n        }\r\n        this.stop.x = this.start.x + w;\r\n        this.stop.y = this.start.y + h;\r\n        return this;\r\n    }\r\n    translate(system) {\r\n        this.start.scale(system);\r\n        this.stop.scale(system);\r\n        return this;\r\n    }\r\n    equals(rect) {\r\n        return this.start.equals(rect.start) && this.stop.equals(rect.stop);\r\n    }\r\n    toInt() {\r\n        this.start.toInt();\r\n        this.stop.toInt();\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.start.toDecimal();\r\n        this.stop.toDecimal();\r\n        return this;\r\n    }\r\n    area() {\r\n        const x = this.stop.x - this.start.x;\r\n        const y = this.stop.y - this.start.y;\r\n        return x * y;\r\n    }\r\n    move(vec) {\r\n        this.start.add(vec);\r\n        this.stop.add(vec);\r\n        return this;\r\n    }\r\n    contains(target) {\r\n        return this.start.x <= target.start.x &&\r\n            this.start.y <= target.start.y &&\r\n            this.stop.x >= target.stop.x &&\r\n            this.stop.y >= target.stop.y;\r\n    }\r\n    intersect(target) {\r\n        return this.containsPoint(target.start.x, target.start.y) ||\r\n            this.containsPoint(target.stop.x, target.stop.y) ||\r\n            this.containsPoint(target.start.x, target.stop.y) ||\r\n            this.containsPoint(target.stop.x, target.start.y);\r\n    }\r\n    containsPoint(x, y) {\r\n        return this.start.x <= x && this.stop.x >= x &&\r\n            this.start.y <= y && this.stop.y >= y;\r\n    }\r\n    zero() {\r\n        this.start.zero();\r\n        this.stop.zero();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Rect.js.map","import { Rect } from \"./Rect\";\r\nimport { Vec2 } from \"./Vec2\";\r\nexport class Range2 {\r\n    get isZero() {\r\n        return this.pos.isZero && this.size.isZero;\r\n    }\r\n    constructor(x = 0, y = 0, w = 0, h = 0) {\r\n        this.pos = new Vec2(x, y);\r\n        this.size = new Vec2(w, h);\r\n    }\r\n    create(x = 0, y = 0, w = 0, h = 0) {\r\n        return new (this.constructor)(x, y, w, h);\r\n    }\r\n    set(src) {\r\n        this.pos.set(src.pos);\r\n        this.size.set(src.size);\r\n        return this;\r\n    }\r\n    clone(out) {\r\n        const result = out ? out.set(this) : this.create(this.pos.x, this.pos.y, this.size.x, this.size.y);\r\n        return result;\r\n    }\r\n    toRect(endInclusive = false, out) {\r\n        let result = out || new Rect();\r\n        result.start.x = this.pos.x,\r\n            result.start.y = this.pos.y,\r\n            result.stop.x = this.pos.x - (endInclusive ? (this.size.x < 0 ? -1 : 1) : 0) + this.size.x,\r\n            result.stop.y = this.pos.y - (endInclusive ? (this.size.y < 0 ? -1 : 1) : 0) + this.size.y,\r\n            result.endInclusive = endInclusive;\r\n        return result;\r\n    }\r\n    scale(factor, keepCenter = true) {\r\n        let org = null;\r\n        if (keepCenter) {\r\n            org = this.size.clone();\r\n        }\r\n        this.size.scale(factor);\r\n        if (keepCenter) {\r\n            this.pos.add(org.subtract(this.size).multiply(0.5));\r\n        }\r\n        return this;\r\n    }\r\n    translate(system) {\r\n        this.toRect(false).translate(system).toRange2(this);\r\n        return this;\r\n    }\r\n    toInt() {\r\n        this.pos.toInt();\r\n        this.size.toInt();\r\n        return this;\r\n    }\r\n    toDecimal() {\r\n        this.pos.toDecimal();\r\n        this.size.toDecimal();\r\n        return this;\r\n    }\r\n    contains(target) {\r\n        return this.pos.x <= target.pos.x &&\r\n            this.pos.y <= target.pos.y &&\r\n            this.pos.x + this.size.x >= target.pos.x + target.size.x &&\r\n            this.pos.y + this.size.y >= target.pos.y + target.size.y;\r\n    }\r\n    intersect(target) {\r\n        let s = this.toRect();\r\n        let t = target.clone().toRect();\r\n        return s.intersect(t);\r\n    }\r\n    containsPoint(vec) {\r\n        return vec.x >= this.pos.x && vec.x <= this.pos.x + this.size.x - 1\r\n            && vec.y >= this.pos.y && vec.y <= this.pos.y + this.size.y - 1;\r\n    }\r\n    first(fn) {\r\n        const p = new Vec2();\r\n        const x = this.pos.x;\r\n        const y = this.pos.y;\r\n        for (let i = 0; i < this.size.x; i++) {\r\n            for (let j = 0; j < this.size.y; j++) {\r\n                p.x = i + x, p.y = j + y;\r\n                if (fn(p)) {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    forEach(fn, start = null) {\r\n        const pos = new Vec2();\r\n        const begin = this.pos.clone().toInt();\r\n        if (start === null || !this.containsPoint(start)) {\r\n            start = begin;\r\n        }\r\n        const end = this.pos.clone().add(this.size).toInt();\r\n        for (let y = begin.y; y < end.y; y += 1) {\r\n            for (let x = begin.x; x < end.x; x += 1) {\r\n                if (y < start.y || (y === start.y && x < start.x)) {\r\n                    continue;\r\n                }\r\n                pos.x = x;\r\n                pos.y = y;\r\n                const brk = fn(pos);\r\n                if (brk) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    equals(range) {\r\n        return this.pos.equals(range.pos) && this.size.equals(range.size);\r\n    }\r\n    zero() {\r\n        this.pos.zero();\r\n        this.size.zero();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Range2.js.map","let nativeWindow = true;\r\nvar win;\r\nif (typeof (window) === \"undefined\") {\r\n    win = null;\r\n    nativeWindow = false;\r\n}\r\nelse {\r\n    win = window;\r\n}\r\nexport class _Global {\r\n    constructor() {\r\n        this._window = win;\r\n        this._nativeWindow = nativeWindow;\r\n    }\r\n    get window() {\r\n        return this._window;\r\n    }\r\n    set window(v) {\r\n        this._window = v;\r\n        if (this.hasNativeWindow) {\r\n            win = v;\r\n        }\r\n    }\r\n    get hasNativeWindow() {\r\n        return this._nativeWindow;\r\n    }\r\n}\r\nexport let Global = new _Global();\r\n//# sourceMappingURL=Global.js.map","import { Global } from \"./Global\";\r\nexport function hasWindow() {\r\n    return Global.window !== null;\r\n}\r\nexport function hasConsole() {\r\n    return this.hasWindow() && Global.window.console !== undefined || typeof (console) === \"function\";\r\n}\r\nexport function isArray(it) {\r\n    return Array.isArray ? Array.isArray(it) : Object.prototype.toString.call(it) === \"[object Array]\";\r\n}\r\nexport function isElement(target) {\r\n    return target !== undefined && target !== null && target.nodeType === 1 ? true : false;\r\n}\r\nexport function isFunction(it) {\r\n    return Object.prototype.toString.call(it) === \"[object Function]\";\r\n}\r\nexport function isNumber(x) {\r\n    return x === +x;\r\n}\r\nexport function isInt(x) {\r\n    return isNumber(x) && (x === (x | 0));\r\n}\r\nexport function isString(x) {\r\n    return isNotNullOrUndefined(x) && x.constructor === String;\r\n}\r\nexport function areNullOrUndefined(...args) {\r\n    const len = args.length;\r\n    let i = -1;\r\n    let a;\r\n    let result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined || a === null;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotNullOrUndefined(...args) {\r\n    return !areNullOrUndefined(...args);\r\n}\r\nexport function isNullOrUndefined(arg) {\r\n    return arg === undefined || arg === null;\r\n}\r\nexport function isNotNullOrUndefined(arg) {\r\n    return !isNullOrUndefined(arg);\r\n}\r\nexport function areUndefined(...args) {\r\n    const len = args.length;\r\n    let i = -1;\r\n    let a;\r\n    let result = false;\r\n    while (!result && ++i < len) {\r\n        a = args[i];\r\n        result = a === undefined;\r\n    }\r\n    return result;\r\n}\r\nexport function areNotUndefined(...args) {\r\n    return !areUndefined(...args);\r\n}\r\nexport function isUndefined(arg) {\r\n    return arg === undefined;\r\n}\r\nexport function isNotUndefined(arg) {\r\n    return !isUndefined(arg);\r\n}\r\n//# sourceMappingURL=Test.js.map","import { deepCopy, flatten } from \"./Arr\";\r\nimport { areNotNullOrUndefined, isArray, isFunction } from \"./Test\";\r\nexport function destroy(obj) {\r\n    if (obj.constructor.prototype.destroy !== undefined) {\r\n        obj.destroy();\r\n    }\r\n    else {\r\n        setNull(obj);\r\n    }\r\n}\r\nexport function wipe(obj) {\r\n    const keys = Object.keys(obj);\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        delete obj[keys[i]];\r\n    }\r\n}\r\nexport function setNull(obj) {\r\n    if (obj.constructor.prototype.clear !== undefined) {\r\n        obj.clear();\r\n    }\r\n    else {\r\n        const keys = Object.keys(obj);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            obj[key] = null;\r\n        }\r\n    }\r\n}\r\nexport function isClassOf(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a instanceof b.constructor;\r\n}\r\nexport function isSameClass(a, b) {\r\n    return areNotNullOrUndefined(a, b) && a.constructor === b.constructor;\r\n}\r\nexport function inherits(a, b) {\r\n    return isClassOf(a, b) && !isSameClass(a, b);\r\n}\r\nexport function equals(a, b) {\r\n    let result = a === b;\r\n    if (a !== b && (a instanceof Object) && isSameClass(a, b)) {\r\n        if (isArray(a)) {\r\n            const len = a.length;\r\n            let i = 0;\r\n            result = len === b.length;\r\n            if (result) {\r\n                for (; i < len; i += 1) {\r\n                    result = equals(a[i], b[i]);\r\n                    if (result === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (a.constructor.prototype.equals) {\r\n            result = a.equals(b);\r\n        }\r\n        else {\r\n            const keys = Object.keys(a);\r\n            let key = null;\r\n            result = true;\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                result = equals(a[key], b[key]);\r\n                if (!result) {\r\n                    if (isFunction(a[key])) {\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function isDifferent(a, b) {\r\n    return !equals(a, b);\r\n}\r\nexport function shallowCopy(obj) {\r\n    const keys = Object.keys(obj);\r\n    const result = {};\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        const key = keys[i];\r\n        result[key] = obj[key];\r\n    }\r\n    return result;\r\n}\r\nexport function clone(obj) {\r\n    let result;\r\n    if (!(obj instanceof Object)) {\r\n        result = obj;\r\n    }\r\n    else if (obj.constructor.prototype.clone !== undefined) {\r\n        result = obj.clone();\r\n    }\r\n    else if (isArray(obj)) {\r\n        result = deepCopy(obj);\r\n    }\r\n    else if (obj instanceof Date) {\r\n        return new Date(obj.getTime());\r\n    }\r\n    else if (obj instanceof RegExp) {\r\n        return new RegExp(obj);\r\n    }\r\n    else {\r\n        result = new obj.constructor();\r\n        const keys = Object.keys(obj);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            result[key] = clone(obj[key]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function cloneInto(src, target) {\r\n    if (isArray(target)) {\r\n        const arrS = src;\r\n        const arrT = target;\r\n        const len = arrS.length;\r\n        arrT.length = len;\r\n        let i = -1;\r\n        while (++i < len) {\r\n            if (arrS[i] instanceof Object) {\r\n                cloneInto(arrS[i], arrT[i]);\r\n            }\r\n            else {\r\n                arrT[i] = arrS[i];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const keys = Object.keys(src);\r\n        let key = null;\r\n        let i = -1;\r\n        const len = keys.length;\r\n        while (++i < len) {\r\n            key = keys[i];\r\n            const a = src[key];\r\n            if (a instanceof Object) {\r\n                let b = target[key];\r\n                if (b === undefined || b === null) {\r\n                    if (isArray(a)) {\r\n                        b = target[key] = [];\r\n                    }\r\n                    else {\r\n                        b = target[key] = {};\r\n                    }\r\n                }\r\n                if (isDifferent(a, b)) {\r\n                    cloneInto(a, b);\r\n                }\r\n            }\r\n            else {\r\n                target[key] = a;\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport function mixin(target = {}, exclude, ...sources) {\r\n    const result = target, len = sources ? sources.length : 0;\r\n    let i = 0;\r\n    sources = flatten(sources);\r\n    for (; i < len; i++) {\r\n        let src = sources[i];\r\n        if (isFunction(src)) {\r\n            src = src.prototype;\r\n        }\r\n        if (src === undefined) {\r\n            continue;\r\n        }\r\n        const keys = Object.keys(src);\r\n        let key = null;\r\n        if (exclude) {\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                if (exclude.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n        else {\r\n            let i = -1;\r\n            const len = keys.length;\r\n            while (++i < len) {\r\n                key = keys[i];\r\n                target[key] = src[key];\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setProperties(target, values, mapping) {\r\n    const keys = Object.keys(values);\r\n    let key;\r\n    let value;\r\n    let i = -1;\r\n    const len = keys.length;\r\n    while (++i < len) {\r\n        key = keys[i];\r\n        value = values[key];\r\n        if (mapping && key in mapping) {\r\n            key = mapping[key];\r\n        }\r\n        if (key in target) {\r\n            target[key] = values[keys[i]];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Obj.js.map","import { clone, setProperties } from \"./Obj\";\r\nimport { isArray, isNullOrUndefined, isNumber, isUndefined, isNotUndefined } from \"./Test\";\r\nclass ArrayState {\r\n}\r\nexport function flatten(src) {\r\n    return flattenInner(src);\r\n}\r\nfunction flattenInner(src, result = []) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (isArray(src[i])) {\r\n            flattenInner(src[i], result);\r\n        }\r\n        else {\r\n            result.push(src[i]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function reverse(array) {\r\n    let left = null;\r\n    let right = null;\r\n    const length = isNullOrUndefined(array) ? 0 : array.length;\r\n    for (left = 0; left < length / 2; left += 1) {\r\n        right = length - 1 - left;\r\n        const temporary = array[left];\r\n        array[left] = array[right];\r\n        array[right] = temporary;\r\n    }\r\n    return array;\r\n}\r\nexport function concat(...arrs) {\r\n    const result = Array.prototype.concat.apply([], arrs);\r\n    return result;\r\n}\r\nexport function slice(src, from = 0, count = Infinity) {\r\n    let len = Math.min(isNullOrUndefined(src) ? 0 : src.length - from, count);\r\n    if (len < 0) {\r\n        len = 0;\r\n    }\r\n    let i = -1;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i + from];\r\n    }\r\n    return result;\r\n}\r\nexport function splice(src, pos = 0, remove = Infinity, insert = []) {\r\n    if (isNullOrUndefined(src)) {\r\n        throw new Error(\"Unable to splice on null or undefined\");\r\n    }\r\n    let srcLen = src.length;\r\n    pos = Math.max(0, pos);\r\n    pos = Math.min(pos, srcLen);\r\n    remove = Math.max(0, remove);\r\n    remove = Math.min(remove, srcLen - pos);\r\n    let insertLen = insert.length;\r\n    let newLen = srcLen - remove + insertLen;\r\n    let delta = remove - insertLen;\r\n    if (delta < 0) {\r\n        src.length = newLen;\r\n        let i = newLen;\r\n        while (--i >= pos + remove) {\r\n            src[i] = src[i + delta];\r\n        }\r\n    }\r\n    let i = pos - 1;\r\n    while (++i < pos + insertLen) {\r\n        src[i] = insert[i - pos];\r\n    }\r\n    if (delta > 0) {\r\n        --i;\r\n        while (++i < srcLen - delta) {\r\n            src[i] = src[i + delta];\r\n        }\r\n        src.length = newLen;\r\n    }\r\n}\r\nexport function append(arr, values) {\r\n    let index = -1;\r\n    const offset = arr.length;\r\n    const length = isNullOrUndefined(values) ? 0 : values.length;\r\n    while (++index < length) {\r\n        arr[offset + index] = values[index];\r\n    }\r\n}\r\nexport function removeAt(arr, index) {\r\n    let result;\r\n    let len = isNullOrUndefined(arr) ? 0 : arr.length;\r\n    if (index >= 0 && index < len) {\r\n        let i = index;\r\n        result = arr[index];\r\n        while (++i < len) {\r\n            arr[i - 1] = arr[i];\r\n        }\r\n        arr.length -= 1;\r\n    }\r\n    return result;\r\n}\r\nexport function indexOfElement(src, el) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (src[i] === el) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function remove(arr, el) {\r\n    const start = indexOfElement(arr, el);\r\n    removeAt(arr, start);\r\n}\r\nexport function indexOf(src, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        if (fn(src[i])) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexport function removeOneByFn(arr, fn) {\r\n    const start = indexOf(arr, fn);\r\n    removeAt(arr, start);\r\n}\r\nexport function shallowCopy(src) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = src[i];\r\n    }\r\n    return result;\r\n}\r\nexport function shallowCopyInto(src, target) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = src[i];\r\n    }\r\n}\r\nexport function shallowFill(src, target, at = 0) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = src[i];\r\n    }\r\n}\r\nexport function deepCopy(src) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = (clone(src[i]));\r\n    }\r\n    return result;\r\n}\r\nexport function deepCopyInto(src, target) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function deepFill(src, target, at = 0) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    if (target.length < len + at) {\r\n        target.length = len + at;\r\n    }\r\n    while (++i < len) {\r\n        target[at + i] = (clone(src[i]));\r\n    }\r\n}\r\nexport function filter(src, fn) {\r\n    const result = [];\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (fn(el, i) === true) {\r\n            result.push(el);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function filterInto(src, target, fn) {\r\n    let i = -1;\r\n    let j = 0;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const space = target.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (fn(el, i) === true) {\r\n            if (j < space) {\r\n                target[j++] = el;\r\n            }\r\n            else {\r\n                ++j;\r\n                target.push(el);\r\n            }\r\n        }\r\n    }\r\n    target.length = j;\r\n}\r\nexport function map(src, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    const result = new Array(len);\r\n    while (++i < len) {\r\n        result[i] = fn(src[i], i);\r\n    }\r\n    return result;\r\n}\r\nexport function mapInto(src, target, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    target.length = len;\r\n    while (++i < len) {\r\n        target[i] = fn(src[i], i);\r\n    }\r\n}\r\nexport function reduce(src, fn, start) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (++i < len) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reduceUntil(src, fn, test, start) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (++i < len && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduce(src, fn, start) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (--i >= 0) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function reverseReduceUntil(src, fn, test, start) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let acc = start;\r\n    while (--i >= 0 && !test(acc, src[i])) {\r\n        acc = fn(acc, src[i]);\r\n    }\r\n    return acc;\r\n}\r\nexport function forEach(src, fn, startIndex = 0) {\r\n    let i = startIndex - 1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function forSome(src, filter, fn) {\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len) {\r\n        const el = src[i];\r\n        if (filter(el, i)) {\r\n            fn(el, i);\r\n        }\r\n    }\r\n}\r\nexport function until(src, fnOrTest, fn, startIndex) {\r\n    let isCombined = isUndefined(fn) || isNumber(fn);\r\n    startIndex = isCombined ? fn : startIndex;\r\n    let i = isUndefined(startIndex) || startIndex < 0 ? -1 : startIndex - 1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && (isCombined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function reverseForEach(src, fn) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (--i >= 0) {\r\n        fn(src[i], i);\r\n    }\r\n}\r\nexport function reverseUntil(src, fnOrTest, fn) {\r\n    let i = isNullOrUndefined(src) ? 0 : src.length;\r\n    let combined = isUndefined(fn);\r\n    while (--i >= 0 && (combined ? !fnOrTest(src[i], i) : !(fnOrTest(src[i], i) || (fn(src[i], i), false)))) {\r\n    }\r\n}\r\nexport function some(src, fn) {\r\n    let result = false;\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && !(result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function all(src, fn) {\r\n    let result = true;\r\n    let i = -1;\r\n    const len = isNullOrUndefined(src) ? 0 : src.length;\r\n    while (++i < len && (result = fn(src[i]))) {\r\n    }\r\n    return result;\r\n}\r\nexport function insertAt(src, pos, v) {\r\n    if (isNullOrUndefined(src)) {\r\n        throw new Error(\"Unable to insertAt on null or undefined\");\r\n    }\r\n    if (pos === 0) {\r\n        src.unshift(v);\r\n    }\r\n    else if (pos > 0) {\r\n        let i = src.length;\r\n        while (--i >= pos) {\r\n            src[i + 1] = src[i];\r\n        }\r\n        src[i + 1] = v;\r\n    }\r\n}\r\nexport function binarySearch(src, cmp, closest = false) {\r\n    let lo = 0, hi = isNullOrUndefined(src) ? -1 : src.length - 1, mid, element;\r\n    while (lo <= hi) {\r\n        mid = ((lo + hi) >> 1);\r\n        element = src[mid];\r\n        let val = cmp(element);\r\n        if (val < 0) {\r\n            lo = mid + 1;\r\n        }\r\n        else if (val > 0) {\r\n            hi = mid - 1;\r\n        }\r\n        else {\r\n            return mid;\r\n        }\r\n    }\r\n    return closest ? lo : -1;\r\n}\r\nexport function create(length, populator) {\r\n    if ((length || -1) < 0) {\r\n        length = 0;\r\n    }\r\n    let arr = new Array(length);\r\n    let i = -1;\r\n    while (++i < length) {\r\n        arr[i] = populator(i, arr);\r\n    }\r\n    return arr;\r\n}\r\nexport function deserialize(array, target, ...types) {\r\n    let [T, ...passthroughT] = types;\r\n    if (isNotUndefined(T)) {\r\n        if (isNotUndefined(T.prototype.deserialize)) {\r\n            mapInto(array, target, (el) => {\r\n                return (new T()).deserialize(el, ...passthroughT);\r\n            });\r\n        }\r\n        else {\r\n            mapInto(array, target, (el) => {\r\n                let newT = new T();\r\n                setProperties(newT, el);\r\n                return newT;\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        deepCopyInto(array, target);\r\n    }\r\n    return this;\r\n}\r\n//# sourceMappingURL=Arr.js.map","import { forEach } from \"../Arr\";\r\nimport { clone, setProperties, wipe } from \"../Obj\";\r\nimport { isFunction, isNotUndefined } from \"../Test\";\r\nimport { List } from \"./List\";\r\nexport class Dictionary {\r\n    constructor() {\r\n        this._lookup = Object.create(null);\r\n        this._list = new List();\r\n        this._isDirty = false;\r\n    }\r\n    create() {\r\n        return new (this.constructor)();\r\n    }\r\n    has(key) {\r\n        return this._lookup[key] !== undefined;\r\n    }\r\n    contains(key) {\r\n        return this.has(key);\r\n    }\r\n    get(key) {\r\n        return this._lookup[key];\r\n    }\r\n    set(key, value) {\r\n        this._isDirty = this._isDirty || this.has(key);\r\n        if (value !== undefined) {\r\n            this._lookup[key] = value;\r\n            if (!this._isDirty) {\r\n                this._list.push(value);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    delete(key) {\r\n        if (this.has(key)) {\r\n            delete this._lookup[key];\r\n            this._isDirty = true;\r\n        }\r\n        return this;\r\n    }\r\n    clear() {\r\n        wipe(this._lookup);\r\n        this._list.clear();\r\n        return this;\r\n    }\r\n    get values() {\r\n        this.cleanList();\r\n        return this._list.values;\r\n    }\r\n    get keys() {\r\n        return Object.keys(this._lookup);\r\n    }\r\n    get list() {\r\n        this.cleanList();\r\n        return this._list;\r\n    }\r\n    get count() {\r\n        let result = 0;\r\n        if (this._isDirty) {\r\n            result = this.keys.length;\r\n        }\r\n        else {\r\n            result = this._list.count;\r\n        }\r\n        return result;\r\n    }\r\n    cleanList() {\r\n        if (this._isDirty) {\r\n            this.reCreateList();\r\n        }\r\n    }\r\n    reCreateList() {\r\n        let lookup = this._lookup;\r\n        let keys = Object.keys(this._lookup);\r\n        let i = -1;\r\n        let list = this._list;\r\n        list.clear();\r\n        while (++i < keys.length) {\r\n            list.add(lookup[keys[i]]);\r\n        }\r\n    }\r\n    clone() {\r\n        let result = this.create();\r\n        result._isDirty = this._isDirty;\r\n        result._list = this._list.clone();\r\n        result._lookup = clone(this._lookup);\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return this._lookup;\r\n    }\r\n    serialize() {\r\n        let obj = Object.create(null);\r\n        forEach(this.keys, (key) => {\r\n            let v = this.get(key);\r\n            obj[key] = isFunction(v.serialize) ? v.serialize() : v;\r\n        });\r\n        return obj;\r\n    }\r\n    deserialize(obj, ...types) {\r\n        let [T, ...passthroughT] = types;\r\n        this.clear();\r\n        if (isNotUndefined(T)) {\r\n            if (isNotUndefined(T.prototype.deserialize)) {\r\n                for (let key of Object.keys(obj)) {\r\n                    this.set(key, (new T()).deserialize(obj[key], ...passthroughT));\r\n                }\r\n            }\r\n            else {\r\n                for (let key of Object.keys(obj)) {\r\n                    let newT = new T();\r\n                    setProperties(newT, obj[key]);\r\n                    this.set(key, newT);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (let key of Object.keys(obj)) {\r\n                this.set(key, obj[key]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Dictionary.js.map","import * as Arr from \"../Arr\";\r\nimport { clone, equals } from \"../Obj\";\r\nimport { isArray, isFunction, isNotNullOrUndefined } from \"../Test\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nwindow.Symbol = window.Symbol || { iterator: \"iterator\" };\r\nexport class List {\r\n    constructor(arr) {\r\n        this._array = [];\r\n        this._index = null;\r\n        this._indexer = null;\r\n        this._pointer = 0;\r\n        if (arr === undefined) {\r\n            this._array = new Array();\r\n        }\r\n        else {\r\n            if (arr instanceof (List)) {\r\n                this._array = Arr.shallowCopy(arr._array);\r\n            }\r\n            else {\r\n                this._array = Arr.shallowCopy(arr);\r\n            }\r\n        }\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this;\r\n    }\r\n    next(value) {\r\n        return {\r\n            done: this._pointer >= this.length,\r\n            value: this._pointer < this.length ? this._array[this._pointer++] : (this._pointer = 0, undefined)\r\n        };\r\n    }\r\n    create(arr) {\r\n        return new (this.constructor)(arr);\r\n    }\r\n    get values() {\r\n        return this._array;\r\n    }\r\n    get(pos) {\r\n        return this._array[pos];\r\n    }\r\n    getByIndex(key) {\r\n        let result;\r\n        return isNotNullOrUndefined(this._index) ? this._index.get(key) : undefined;\r\n    }\r\n    set(pos, v) {\r\n        if (pos >= 0 && pos < this.length) {\r\n            this._array[pos | 0] = v;\r\n            if (this._indexer !== null) {\r\n                this._index.set(this._indexer(v), v);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`index out of bounds on <List>.set(${pos}, ${v.toString()})`);\r\n        }\r\n        return this;\r\n    }\r\n    get count() {\r\n        return this._array.length;\r\n    }\r\n    get length() {\r\n        return this._array.length;\r\n    }\r\n    get indexer() {\r\n        return this._indexer;\r\n    }\r\n    set indexer(fn) {\r\n        this._indexer = fn;\r\n        this._reindex();\r\n    }\r\n    _reindex() {\r\n        if (this._indexer === null) {\r\n            this._index = null;\r\n        }\r\n        else {\r\n            if (this._index === null) {\r\n                this._index = new Dictionary();\r\n            }\r\n            else {\r\n                this._index.clear();\r\n            }\r\n            this.forEach((el) => this._index.set(this._indexer(el), el));\r\n        }\r\n    }\r\n    fill(size, populator) {\r\n        size = Math.max(0, size || 0);\r\n        if (isFunction(populator)) {\r\n            this._array = Arr.create(size, populator);\r\n        }\r\n        else if (!(populator instanceof Object)) {\r\n            this._array = Arr.create(size, () => populator);\r\n        }\r\n        else {\r\n            this._array = Arr.create(size, () => clone(populator));\r\n        }\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    clear() {\r\n        this._array.length = 0;\r\n        if (this._index !== null) {\r\n            this._index.clear();\r\n        }\r\n        return this;\r\n    }\r\n    add(v) {\r\n        this._array.push(v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    }\r\n    insertAt(pos, v) {\r\n        Arr.insertAt(this._array, pos, v);\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this;\r\n    }\r\n    push(v) {\r\n        if (this._indexer !== null) {\r\n            this._index.set(this._indexer(v), v);\r\n        }\r\n        return this._array.push(v);\r\n    }\r\n    pop() {\r\n        let result = this._array.pop();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    }\r\n    shift() {\r\n        let result = this._array.shift();\r\n        if (result !== undefined && this._indexer !== null) {\r\n            this._index.delete(this._indexer(result));\r\n        }\r\n        return result;\r\n    }\r\n    concat(v) {\r\n        let arr;\r\n        let arr2 = v instanceof List ? v.values : v;\r\n        arr = Arr.concat(this._array, arr2);\r\n        return this.create(arr);\r\n    }\r\n    index(arr) {\r\n        if (this._indexer !== null) {\r\n            Arr.forEach(arr, (el) => {\r\n                this._index.set(this._indexer(el), el);\r\n            });\r\n        }\r\n    }\r\n    unindexEl(el) {\r\n        if (this._indexer !== null) {\r\n            this._index.delete(this._indexer(el));\r\n        }\r\n    }\r\n    append(v) {\r\n        let arr2 = v instanceof List ? v.values : v;\r\n        Arr.append(this._array, arr2);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    copy(src) {\r\n        let arr2 = src instanceof List ? src.values : src;\r\n        Arr.deepCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    shallowCopy(src) {\r\n        let arr2 = src instanceof List ? src.values : src;\r\n        Arr.shallowCopyInto(arr2, this._array);\r\n        this.index(arr2);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const arr = Arr.deepCopy(this._array);\r\n        let result = this.create(arr);\r\n        if (this._indexer !== null) {\r\n            result._indexer = this._indexer;\r\n            result._index = this._index.clone();\r\n        }\r\n        return result;\r\n    }\r\n    remove(v) {\r\n        Arr.remove(this._array, v);\r\n        this.unindexEl(v);\r\n        return this;\r\n    }\r\n    removeFirst(fn) {\r\n        let result = this.removeAt(this.indexOf(fn));\r\n        this.unindexEl(result);\r\n        return result;\r\n    }\r\n    removeAt(n) {\r\n        let result = Arr.removeAt(this._array, n);\r\n        this.unindexEl(result);\r\n        return result;\r\n    }\r\n    forEach(fn, startIndex = 0) {\r\n        Arr.forEach(this._array, fn, startIndex);\r\n        return this;\r\n    }\r\n    forSome(filter, fn) {\r\n        Arr.forSome(this._array, filter, fn);\r\n        return this;\r\n    }\r\n    until(fnOrTest, fn, startIndex) {\r\n        Arr.until(this._array, fnOrTest, fn, startIndex);\r\n        return this;\r\n    }\r\n    reverseForEach(fn) {\r\n        Arr.reverseForEach(this._array, fn);\r\n        return this;\r\n    }\r\n    reverseUntil(fnOrTest, fn) {\r\n        Arr.reverseUntil(this._array, fnOrTest, fn);\r\n        return this;\r\n    }\r\n    some(fn) {\r\n        return Arr.some(this._array, fn);\r\n    }\r\n    all(fn) {\r\n        return Arr.all(this._array, fn);\r\n    }\r\n    indexOf(v) {\r\n        let result = -1;\r\n        if (isFunction(v)) {\r\n            result = Arr.indexOf(this._array, v);\r\n        }\r\n        else {\r\n            result = Arr.indexOfElement(this._array, v);\r\n        }\r\n        return result;\r\n    }\r\n    contains(v) {\r\n        let result = false;\r\n        if (isFunction(v)) {\r\n            result = this.find(v) !== undefined;\r\n        }\r\n        else {\r\n            if (this._indexer !== null) {\r\n                result = this._index.contains(this._indexer(v));\r\n            }\r\n            else {\r\n                result = Arr.indexOfElement(this._array, v) !== -1;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    reverse() {\r\n        Arr.reverse(this._array);\r\n        return this;\r\n    }\r\n    first(fn) {\r\n        let index = -1;\r\n        let result;\r\n        if (fn === undefined) {\r\n            index = 0;\r\n        }\r\n        else {\r\n            index = Arr.indexOf(this._array, fn);\r\n        }\r\n        return index === -1 ? undefined : this.get(index);\r\n    }\r\n    find(fn) {\r\n        return this.first(fn);\r\n    }\r\n    last() {\r\n        return this.length === 0 ? undefined : this.get(this.length - 1);\r\n    }\r\n    filter(fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    }\r\n    select(fn) {\r\n        return this.create(Arr.filter(this._array, fn));\r\n    }\r\n    selectInto(src, fn) {\r\n        let arr = src instanceof List ? src.values : src;\r\n        Arr.filterInto(arr, this._array, fn);\r\n        this.index(arr);\r\n        return this;\r\n    }\r\n    head(count = 1) {\r\n        count = Math.max(0, count);\r\n        return this.create(Arr.slice(this._array, 0, count));\r\n    }\r\n    tail(count = 1) {\r\n        count = Math.min(this._array.length, count);\r\n        return this.create(Arr.slice(this._array, Math.max(0, this._array.length - count)));\r\n    }\r\n    splice(pos = 0, remove = Infinity, insert = []) {\r\n        Arr.splice(this._array, pos, remove, isArray(insert) ? insert : insert.values);\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    orderBy(fn) {\r\n        this._array.sort(fn);\r\n        return this;\r\n    }\r\n    map(fn) {\r\n        return this.create(Arr.map(this._array, fn));\r\n    }\r\n    mapInto(src, fn) {\r\n        let arr = src instanceof List ? src.values : src;\r\n        Arr.mapInto(arr, this._array, fn);\r\n        this._reindex();\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        return Arr.reduce(this._array, fn, start);\r\n    }\r\n    reduceUntil(fn, test, start) {\r\n        return Arr.reduceUntil(this._array, fn, test, start);\r\n    }\r\n    reverseReduce(fn, start) {\r\n        return Arr.reverseReduce(this._array, fn, start);\r\n    }\r\n    reverseReduceUntil(fn, test, start) {\r\n        return Arr.reverseReduceUntil(this._array, fn, test, start);\r\n    }\r\n    equals(b) {\r\n        const result = equals(this._array, b.values);\r\n        return result;\r\n    }\r\n    same(b) {\r\n        let a = this;\r\n        let count = 0;\r\n        if (a.length === b.length) {\r\n            if (a.indexer !== null) {\r\n                b.until((el) => !a.contains(el), (el, i) => ++count);\r\n            }\r\n            else {\r\n                a.until((el) => !b.contains(el), (el, i) => ++count);\r\n            }\r\n        }\r\n        return count === a.length;\r\n    }\r\n    intersect(b) {\r\n        let result = this.create();\r\n        let long;\r\n        let short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            short.forEach((el) => {\r\n                if (long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            long.forEach((el) => {\r\n                if (short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    union(b) {\r\n        let result = this.create();\r\n        let long;\r\n        let short;\r\n        result.indexer = this.indexer;\r\n        if (this.length < b.length) {\r\n            short = this, long = b;\r\n        }\r\n        else {\r\n            long = this, short = b;\r\n        }\r\n        if (long.indexer !== null) {\r\n            result = long.clone();\r\n            short.forEach((el) => {\r\n                if (!long.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            result = short.clone();\r\n            long.forEach((el) => {\r\n                if (!short.contains(el)) {\r\n                    result.push(el);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    subtract(b) {\r\n        let result = this.create();\r\n        result.indexer = this.indexer;\r\n        result = this.select((el) => !b.contains(el));\r\n        return result;\r\n    }\r\n    zip(list, fn = (t, u) => [t, u]) {\r\n        let result = this.create();\r\n        let length = list.length;\r\n        this.until(function (el, i) {\r\n            return i >= length;\r\n        }, function (el, i) {\r\n            result.push(fn(el, list.get(i)));\r\n        });\r\n        return result;\r\n    }\r\n    unzip(fn = (el) => [el[0], el[1]]) {\r\n        let result = [this.create(), this.create()];\r\n        this.forEach(function (el) {\r\n            let tuple = fn(el);\r\n            result[0].push(tuple[0]);\r\n            result[1].push(tuple[1]);\r\n        });\r\n        return result;\r\n    }\r\n    flatten(maxDepth = Infinity) {\r\n        return this.create(maxDepth < 1 ? this.values : this._flattenInner(this.values, maxDepth));\r\n    }\r\n    _flattenInner(src, maxDepth, depth = -1, result = []) {\r\n        let i = -1;\r\n        const len = src.length;\r\n        if (++depth > maxDepth) {\r\n            result.push(src);\r\n        }\r\n        else {\r\n            while (++i < len) {\r\n                if (isArray(src[i])) {\r\n                    this._flattenInner(src[i], maxDepth, depth, result);\r\n                }\r\n                else if (src[i] instanceof List) {\r\n                    this._flattenInner(src[i].values, maxDepth, depth, result);\r\n                }\r\n                else {\r\n                    result.push(src[i]);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return this.values;\r\n    }\r\n    serialize() {\r\n        return this.values.map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        Arr.deserialize(array, this._array, ...types);\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=List.js.map","import { binarySearch } from \"../Arr\";\r\nimport { equals } from \"../Obj\";\r\nimport { isFunction } from \"../Test\";\r\nimport { List } from \"./List\";\r\nwindow.Symbol = window.Symbol || { iterator: \"iterator\" };\r\nexport class Comparer {\r\n}\r\nComparer.StringAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\nComparer.StringDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\nComparer.NumberAsc = function (a, b) { return a < b ? -1 : a === b ? 0 : 1; };\r\nComparer.NumberDesc = function (a, b) { return a < b ? 1 : a === b ? 0 : -1; };\r\nexport class SortedList {\r\n    constructor(comparer = ((a, b) => a < b ? -1 : a === b ? 0 : 1), arr) {\r\n        this._list = new List();\r\n        this._pointer = 0;\r\n        this._cmp = comparer;\r\n        if (arr === undefined) {\r\n            this._list = new List();\r\n        }\r\n        else {\r\n            if (arr instanceof (List) || arr instanceof (SortedList)) {\r\n                this.copy(arr.values);\r\n            }\r\n            else {\r\n                this.copy(arr);\r\n            }\r\n        }\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this;\r\n    }\r\n    next(value) {\r\n        return {\r\n            done: this._pointer >= this.length,\r\n            value: this._pointer < this.length ? this.values[this._pointer++] : (this._pointer = 0, undefined)\r\n        };\r\n    }\r\n    create(comparer, arr) {\r\n        return new (this.constructor)(comparer, arr);\r\n    }\r\n    get values() {\r\n        return this._list.values;\r\n    }\r\n    get(pos) {\r\n        return this._list.get(pos);\r\n    }\r\n    get count() {\r\n        return this._list.length;\r\n    }\r\n    get length() {\r\n        return this._list.length;\r\n    }\r\n    get comparer() {\r\n        return this._cmp;\r\n    }\r\n    set comparer(v) {\r\n        this._cmp = v;\r\n        this.sort();\r\n    }\r\n    sort() {\r\n        this._list.orderBy(this._cmp);\r\n    }\r\n    fill(size, populator) {\r\n        this._list.fill(size, populator);\r\n        this.sort();\r\n        return this;\r\n    }\r\n    clear() {\r\n        this._list.clear();\r\n        return this;\r\n    }\r\n    add(v) {\r\n        let index = this.getInsertIndex(v);\r\n        this._list.insertAt(index, v);\r\n        return this;\r\n    }\r\n    pop() {\r\n        return this._list.pop();\r\n    }\r\n    shift() {\r\n        return this._list.shift();\r\n    }\r\n    bulkAdd(v) {\r\n        if (v instanceof List || v instanceof SortedList) {\r\n            this._list.append(v.values);\r\n        }\r\n        else {\r\n            this._list.append(v);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    copy(src) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.copy(src.values);\r\n        }\r\n        else {\r\n            this._list.copy(src);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    clone() {\r\n        return this.create(this._cmp, this._list.clone());\r\n    }\r\n    remove(v) {\r\n        let index = this.indexOf(v);\r\n        if (index !== -1) {\r\n            this._list.removeAt(index);\r\n        }\r\n        return this;\r\n    }\r\n    removeAt(n) {\r\n        return this._list.removeAt(n);\r\n    }\r\n    removeFirst(fn) {\r\n        return this._list.removeFirst(fn);\r\n    }\r\n    forEach(fn, startIndex = 0) {\r\n        this._list.forEach(fn, startIndex);\r\n        return this;\r\n    }\r\n    forSome(filter, fn) {\r\n        this._list.forSome(filter, fn);\r\n        return this;\r\n    }\r\n    until(fnOrTest, fn, startIndex) {\r\n        this._list.until(fnOrTest, fn, startIndex);\r\n        return this;\r\n    }\r\n    reverseForEach(fn) {\r\n        this._list.reverseForEach(fn);\r\n        return this;\r\n    }\r\n    reverseUntil(fnOrTest, fn) {\r\n        this._list.reverseUntil(fnOrTest, fn);\r\n        return this;\r\n    }\r\n    some(fn) {\r\n        return this._list.some(fn);\r\n    }\r\n    all(fn) {\r\n        return this._list.all(fn);\r\n    }\r\n    getInsertIndex(v) {\r\n        return binarySearch(this._list.values, (el) => this._cmp(el, v), true);\r\n    }\r\n    indexOf(v) {\r\n        let result = -1;\r\n        if (v instanceof Function) {\r\n            result = this._list.indexOf(v);\r\n        }\r\n        else {\r\n            result = binarySearch(this._list.values, (el) => this._cmp(el, v), false);\r\n        }\r\n        return result;\r\n    }\r\n    contains(v) {\r\n        return this.indexOf(v) !== -1;\r\n    }\r\n    first(fn) {\r\n        return this._list.first(fn);\r\n    }\r\n    find(fn) {\r\n        return this._list.find(fn);\r\n    }\r\n    last() {\r\n        return this._list.last();\r\n    }\r\n    filter(fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    }\r\n    select(fn) {\r\n        return this.create(this._cmp, this._list.filter(fn));\r\n    }\r\n    selectInto(src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.selectInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.selectInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    head(count = 1) {\r\n        return this.create(this.comparer, this._list.head(count));\r\n    }\r\n    tail(count = 1) {\r\n        return this.create(this.comparer, this._list.tail(count));\r\n    }\r\n    map(fn) {\r\n        return this._list.map(fn);\r\n    }\r\n    mapInto(src, fn) {\r\n        if (src instanceof List || src instanceof SortedList) {\r\n            this._list.mapInto(src.values, fn);\r\n        }\r\n        else {\r\n            this._list.mapInto(src, fn);\r\n        }\r\n        this.sort();\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        return this._list.reduce(fn, start);\r\n    }\r\n    reduceUntil(fn, test, start) {\r\n        return this._list.reduceUntil(fn, test, start);\r\n    }\r\n    reverseReduce(fn, start) {\r\n        return this._list.reverseReduce(fn, start);\r\n    }\r\n    reverseReduceUntil(fn, test, start) {\r\n        return this._list.reverseReduceUntil(fn, test, start);\r\n    }\r\n    equals(b) {\r\n        const result = equals(this._list.values, b.values);\r\n        return result;\r\n    }\r\n    same(b) {\r\n        return this.equals(b);\r\n    }\r\n    intersect(b) {\r\n        let result = this.create(this.comparer);\r\n        let long;\r\n        let short;\r\n        if (this.length > 0 && b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                let longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                let lastPos = long.getInsertIndex(short.last()) - 1;\r\n                let i = -1;\r\n                let shortLen = short.length;\r\n                while (longPos < lastPos && ++i < shortLen) {\r\n                    let el = short.get(i);\r\n                    let aVsB;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if (longPos < lastPos && aVsB === 0) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                short.forEach((el) => {\r\n                    if (long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = result.bulkAdd(short.toList().intersect(long));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    union(b) {\r\n        let result;\r\n        let long;\r\n        let short;\r\n        if (this.length > 0 || b.length > 0) {\r\n            if (this.length < b.length) {\r\n                short = this, long = b;\r\n            }\r\n            else {\r\n                long = this, short = b;\r\n            }\r\n            if (b instanceof SortedList && this.comparer === b.comparer) {\r\n                result = this.create(this.comparer, long.values);\r\n                let longPos = long.getInsertIndex(short.get(0)) - 1;\r\n                let lastPos = long.getInsertIndex(short.last()) - 1;\r\n                let i = -1;\r\n                let shortLen = short.length;\r\n                while (++i < shortLen && longPos < lastPos) {\r\n                    let el = short.get(i);\r\n                    let aVsB = -1;\r\n                    while (++longPos < lastPos && (aVsB = this.comparer(long.get(longPos), el)) < 0) {\r\n                        void (0);\r\n                    }\r\n                    if ((aVsB > 0 && longPos < lastPos) || longPos === lastPos) {\r\n                        result.add(el);\r\n                    }\r\n                }\r\n                if (i < shortLen) {\r\n                    --i;\r\n                    while (++i < shortLen) {\r\n                        result.add(short.get(i));\r\n                    }\r\n                }\r\n            }\r\n            else if (long instanceof SortedList || (long instanceof List && long.indexer !== null)) {\r\n                result = this.create(this.comparer, long.values);\r\n                short.forEach((el) => {\r\n                    if (!long.contains(el)) {\r\n                        result.add(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                result = this.create(this.comparer, short.toList().union(long));\r\n            }\r\n        }\r\n        else {\r\n            result = this.create(this.comparer);\r\n        }\r\n        return result;\r\n    }\r\n    toList() {\r\n        return new List(this.values);\r\n    }\r\n    toJSON() {\r\n        return this.values;\r\n    }\r\n    serialize() {\r\n        return this.values.map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        this._list.deserialize(array, ...types);\r\n        this.sort();\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=SortedList.js.map","import { deepCopy, slice, deserialize } from \"../Arr\";\r\nimport { isFunction } from \"../Test\";\r\nimport { List } from \"./List\";\r\nexport class Stack {\r\n    constructor(size) {\r\n        this.DEFAULT_SIZE = 100;\r\n        this._pos = 0;\r\n        this._limit = 0;\r\n        if (!size) {\r\n            size = this.DEFAULT_SIZE;\r\n        }\r\n        this.DEFAULT_SIZE = size;\r\n        this._array = new Array(size);\r\n        this.push = this.fastPush;\r\n    }\r\n    get values() {\r\n        return slice(this._array, 0, this._pos);\r\n    }\r\n    get depth() {\r\n        return this._pos;\r\n    }\r\n    get size() {\r\n        return this._pos;\r\n    }\r\n    get isEmpty() {\r\n        return this.size === 0;\r\n    }\r\n    get limit() {\r\n        return this._limit;\r\n    }\r\n    set limit(value) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n        this._limit = value;\r\n        if (value === 0) {\r\n            this.push = this.fastPush;\r\n        }\r\n        else {\r\n            this.push = this.limitedPush;\r\n            this.limitObjects();\r\n        }\r\n    }\r\n    create(size) {\r\n        return new (this.constructor)(size);\r\n    }\r\n    push(obj) {\r\n    }\r\n    fastPush(obj) {\r\n        this._array[this._pos++] = obj;\r\n    }\r\n    limitedPush(obj) {\r\n        this._array[this._pos] = obj;\r\n        ++this._pos;\r\n        this.limitObjects();\r\n    }\r\n    pop() {\r\n        let result = undefined;\r\n        if (this._pos !== 0) {\r\n            result = this._array[--this._pos];\r\n        }\r\n        return result;\r\n    }\r\n    peek() {\r\n        return this._array[this._pos - 1];\r\n    }\r\n    peekAt(index) {\r\n        return index < 0 || index >= this._pos ? undefined : this._array[this._pos - index - 1];\r\n    }\r\n    toList() {\r\n        const result = new List();\r\n        return new List(this.values);\r\n    }\r\n    clear() {\r\n        this._pos = 0;\r\n        this._array.length = this.DEFAULT_SIZE;\r\n        return this;\r\n    }\r\n    clone() {\r\n        const arr = deepCopy(this._array);\r\n        let result = this.create(this.DEFAULT_SIZE);\r\n        result._array = arr;\r\n        result._limit = this._limit;\r\n        result._pos = this._pos;\r\n        return result;\r\n    }\r\n    limitObjects() {\r\n        while (this._pos > this._limit) {\r\n            this._array.shift();\r\n            --this._pos;\r\n        }\r\n    }\r\n    toJSON() {\r\n        return slice(this.values, 0, this._pos);\r\n    }\r\n    serialize() {\r\n        return slice(this.values, 0, this._pos).map((el) => isFunction(el.serialize) ? el.serialize() : el);\r\n    }\r\n    deserialize(array, ...types) {\r\n        deserialize(array, this._array, ...types);\r\n        this._pos = array.length;\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=Stack.js.map","import { setProperties } from \"../../Obj\";\r\nexport function Initable(constructor) {\r\n    return class extends constructor {\r\n        init(obj, mapping) {\r\n            setProperties(this, obj, mapping);\r\n            return this;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=Initable.js.map","class TimerState {\r\n}\r\nTimerState._hasPerformance = typeof (performance) !== \"undefined\";\r\nexport class Timer {\r\n    static get time() {\r\n        return TimerState._time;\r\n    }\r\n    static now() {\r\n        if (TimerState._hasPerformance) {\r\n            return performance.now();\r\n        }\r\n        else {\r\n            const hrTime = process.hrtime();\r\n            return hrTime[0] * 1000 + (hrTime[1] / 1e6);\r\n        }\r\n    }\r\n    static start() {\r\n        const now = Timer.now();\r\n        TimerState._start = TimerState._last = now;\r\n        return TimerState._time = 0;\r\n    }\r\n    static stop() {\r\n        const start = TimerState._start;\r\n        const now = Timer.now();\r\n        TimerState._last = now;\r\n        return TimerState._time = now - start;\r\n    }\r\n}\r\n//# sourceMappingURL=Timer.js.map","import { Global } from \"./Global\";\r\nimport { hasConsole, hasWindow, isNotUndefined } from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nclass UtilState {\r\n}\r\nUtilState._int = 0;\r\nexport function init(win) {\r\n    if (win !== undefined) {\r\n        Global.window = win;\r\n    }\r\n}\r\nexport function getFunctionName(fn) {\r\n    let result;\r\n    if (fn.hasOwnProperty(\"name\") !== undefined) {\r\n        result = fn.name;\r\n    }\r\n    else {\r\n        const fnString = fn.toString();\r\n        result = fnString.substring(9, fnString.indexOf(\"(\"));\r\n    }\r\n    return result;\r\n}\r\nexport function getFunctionCode(fn) {\r\n    let result;\r\n    const fnString = fn.toString();\r\n    result = fnString.substring(fnString.indexOf(\"{\") + 1, fnString.lastIndexOf(\"}\"));\r\n    return result;\r\n}\r\nexport function newUUID() {\r\n    let d = new Date().getTime();\r\n    d += Timer.now();\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        const r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\nexport function newInt() {\r\n    return UtilState._int++;\r\n}\r\nexport function callDebugger() {\r\n    debugger;\r\n}\r\nexport function pipeOut(log, warn, error) {\r\n    if (hasConsole()) {\r\n        proxyFn(console, \"log\", function (superfn, ...args) { superfn(...args); log(...args); });\r\n        proxyFn(console, \"warn\", function (superfn, ...args) { superfn(...args); warn(...args); });\r\n        proxyFn(console, \"error\", function (superfn, ...args) { superfn(...args); error(...args); });\r\n    }\r\n    else {\r\n        const console = {\r\n            log,\r\n            warn,\r\n            error\r\n        };\r\n        if (!(hasWindow())) {\r\n            Global.window = {};\r\n        }\r\n        Global.window.console = console;\r\n    }\r\n}\r\nexport function assert(assertion, message, isDebug = true) {\r\n    let result = true;\r\n    if (!assertion) {\r\n        if (hasConsole) {\r\n            result = false;\r\n            console.error(\"Assertion failed: \" + message);\r\n        }\r\n        if (isDebug) {\r\n            callDebugger();\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function proxyFn(objOrClass, fnName, proxyFn) {\r\n    objOrClass = isNotUndefined(objOrClass.prototype) ? objOrClass.prototype : objOrClass;\r\n    const fn = objOrClass[fnName];\r\n    const _superFn = function (...args) {\r\n        if (args.length !== 0) {\r\n            return fn.apply(this || objOrClass, args);\r\n        }\r\n        else {\r\n            return fn.call(this || objOrClass);\r\n        }\r\n    };\r\n    objOrClass[fnName] = proxyFn.bind(objOrClass, _superFn);\r\n}\r\nexport function loop(count, fn) {\r\n    let i = -1;\r\n    while (++i < count) {\r\n        fn(i);\r\n    }\r\n}\r\nexport function toArray(arr) {\r\n    return Array.prototype.slice.call(arr);\r\n}\r\n//# sourceMappingURL=Util.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { map } from \"../Arr\";\r\nimport { clone, isSameClass, setProperties } from \"../Obj\";\r\nimport { Initable } from \"../standard/mixins/Initable\";\r\nimport { isArray } from \"../Test\";\r\nimport { newUUID } from \"../Util\";\r\nimport { Dictionary } from \"./Dictionary\";\r\nimport { List } from \"./List\";\r\nimport { Stack } from \"./Stack\";\r\nlet Tree = Tree_1 = class Tree {\r\n    constructor() {\r\n        this.id = \"\";\r\n        this.parent = null;\r\n        this.children = null;\r\n        this.data = null;\r\n        this.virtual = false;\r\n        this.id = newUUID();\r\n    }\r\n    static fromObject(obj) {\r\n        const parent = (this instanceof Tree_1) ? this : null;\r\n        const root = new Tree_1().init({ id: obj.id || newUUID(), data: obj.data, parent });\r\n        if (obj.children !== undefined && isArray(obj.children)) {\r\n            root.children = new List(map(obj.children, Tree_1.fromObject.bind(root)));\r\n        }\r\n        return root;\r\n    }\r\n    static fromNodeList(nodes, mapcfg, virtualRoot = false) {\r\n        let result = new Tree_1();\r\n        let mapResolver = (key) => {\r\n            return !mapcfg || typeof (mapcfg[key]) === \"undefined\" ? (el) => el[key] :\r\n                typeof (mapcfg[key]) === \"string\" ? (el) => el[mapcfg[key]] :\r\n                    mapcfg[key];\r\n        };\r\n        let map = {\r\n            id: mapResolver(\"id\"),\r\n            parent: mapResolver(\"parent\"),\r\n            data: mapResolver(\"data\")\r\n        };\r\n        let list = new List(nodes);\r\n        let lookup = new Dictionary();\r\n        function getLookupKey(node) {\r\n            return node.parent ? `${node.parent.id}_${node.id}` : \"_root_\" + node.id;\r\n        }\r\n        let nodeList = list.map((el) => new Tree_1().init({ id: map.id(el), data: map.data(el) }));\r\n        nodeList.forEach((node, i) => {\r\n            if (!lookup.has(node.id)) {\r\n                lookup.set(node.id, []);\r\n            }\r\n            lookup.get(node.id).push(node);\r\n        });\r\n        let rootNodes = new List();\r\n        list.forEach((el, i) => {\r\n            let parentId = map.parent(el);\r\n            let nodeId = map.id(el);\r\n            if (lookup.contains(parentId)) {\r\n                lookup.get(parentId).forEach((p) => p.add(nodeList.get(i)));\r\n            }\r\n            else {\r\n                rootNodes.add(nodeList.get(i));\r\n            }\r\n        });\r\n        if (virtualRoot === false) {\r\n            result = rootNodes.first();\r\n        }\r\n        else {\r\n            result = new Tree_1().init({ id: newUUID(), virtual: true });\r\n            rootNodes.forEach((el) => result.add(el));\r\n        }\r\n        return result;\r\n    }\r\n    create() {\r\n        return new (this.constructor)();\r\n    }\r\n    init(obj) {\r\n        setProperties(this, obj);\r\n        return this;\r\n    }\r\n    insertAt(pos, data) {\r\n        if (this.children === null || this.children.count <= pos) {\r\n            this.add(data);\r\n        }\r\n        else {\r\n            this.children.insertAt(pos, this.create().init({ data, parent: this }));\r\n        }\r\n    }\r\n    add(data) {\r\n        if (this.children === null) {\r\n            this.children = new List();\r\n        }\r\n        if (isSameClass(data, this)) {\r\n            data.parent = this;\r\n            this.children.add(data);\r\n        }\r\n        else {\r\n            this.children.add((this.create()).init({ data: data, parent: this }));\r\n        }\r\n    }\r\n    remove() {\r\n        if (this.parent !== null) {\r\n            this.parent.children.remove(this);\r\n        }\r\n    }\r\n    prune() {\r\n        if (this.children !== null) {\r\n            this.children\r\n                .forEach(function (el, i) {\r\n                el.parent = null;\r\n            })\r\n                .clear();\r\n        }\r\n        this.children = null;\r\n        return this;\r\n    }\r\n    reduce(fn, start) {\r\n        const stack = new Stack();\r\n        let acc = start;\r\n        if (!fn) {\r\n            fn = (acc, cur) => (acc.push({ id: cur.id, parent: cur.parent ? cur.parent.id : null, data: cur.data }), acc);\r\n        }\r\n        if (start === undefined) {\r\n            acc = [];\r\n        }\r\n        let cur;\r\n        let i;\r\n        stack.push(this);\r\n        while (cur = stack.pop()) {\r\n            acc = fn(acc, cur);\r\n            i = (cur.children && cur.children.count) || 0;\r\n            while (i--) {\r\n                stack.push(cur.children.get(i));\r\n            }\r\n        }\r\n        return acc;\r\n    }\r\n    clone() {\r\n        const result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children === null ? null : this.children.clone();\r\n        result.data = this.data === null || this.data === undefined ? this.data : clone(this.data);\r\n        return result;\r\n    }\r\n    duplicateNode() {\r\n        const result = new this.constructor();\r\n        result.id = this.id;\r\n        result.parent = this.parent;\r\n        result.children = this.children;\r\n        result.data = this.data;\r\n        return result;\r\n    }\r\n    filter(condition) {\r\n        const root = this.duplicateNode();\r\n        const children = this.children;\r\n        if (children !== null) {\r\n            root.children =\r\n                root.children\r\n                    .select(condition)\r\n                    .map(function (el, i) {\r\n                    return el.filter(condition);\r\n                });\r\n        }\r\n        return root;\r\n    }\r\n    select(condition, acc = new List()) {\r\n        const result = acc;\r\n        const children = this.children;\r\n        if (condition === undefined || condition(this)) {\r\n            result.add(this);\r\n        }\r\n        if (children) {\r\n            children.reduce(function (acc, cur) {\r\n                return cur.select(condition, acc);\r\n            }, result);\r\n        }\r\n        return result;\r\n    }\r\n    find(condition) {\r\n        let result = null;\r\n        const children = this.children;\r\n        if (children !== null) {\r\n            let i = -1;\r\n            const len = this.children.count;\r\n            const val = this.children.values;\r\n            while (++i < len) {\r\n                if (condition(val[i].data)) {\r\n                    result = val[i];\r\n                    break;\r\n                }\r\n                else {\r\n                    result = val[i].children !== null ? val[i].find(condition) : null;\r\n                    if (result !== null) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    contains(condition) {\r\n        return this.find(condition) !== null;\r\n    }\r\n    depth() {\r\n        let result = 0;\r\n        let node = this;\r\n        while (node.parent) {\r\n            node = node.parent;\r\n            ++result;\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        let result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map((el) => el.id) });\r\n        if (this.children !== null) {\r\n            this.children.forEach((node) => result.append(node.toJSON()));\r\n        }\r\n        return result.toJSON();\r\n    }\r\n    serialize() {\r\n        let result = new List();\r\n        result.push({ id: this.id, data: this.data, parent: this.parent === null ? null : this.parent.id, children: this.children === null ? null : this.children.map((el) => el.id) });\r\n        if (this.children !== null) {\r\n            this.children.forEach((node) => result.append(node.serialize()));\r\n        }\r\n        return result.serialize();\r\n    }\r\n};\r\nTree = Tree_1 = __decorate([\r\n    Initable,\r\n    __metadata(\"design:paramtypes\", [])\r\n], Tree);\r\nexport { Tree };\r\nvar Tree_1;\r\n//# sourceMappingURL=Tree.js.map","import { Global } from \"./Global\";\r\nexport var Sides;\r\n(function (Sides) {\r\n    Sides[Sides[\"Top\"] = 0] = \"Top\";\r\n    Sides[Sides[\"Bottom\"] = 1] = \"Bottom\";\r\n    Sides[Sides[\"Left\"] = 2] = \"Left\";\r\n    Sides[Sides[\"Right\"] = 3] = \"Right\";\r\n})(Sides || (Sides = {}));\r\nclass DomState {\r\n}\r\nDomState.Sides = Sides;\r\nDomState._window = Global.window;\r\nDomState._document = Global.window ? Global.window.document : undefined;\r\nDomState._el = Global.window ? Global.window.document.createElement(\"div\") : undefined;\r\nexport function init(win) {\r\n    Global.window = win;\r\n    DomState._window = Global.window;\r\n    DomState._document = DomState._window.document;\r\n    DomState._el = DomState._document.createElement(\"div\");\r\n}\r\nexport function toArray(a) {\r\n    return Array.prototype.slice.call(a);\r\n}\r\nexport function create(html, attr) {\r\n    let result, keys, i, k, styles, styleKeys;\r\n    DomState._el.innerHTML = html;\r\n    result = DomState._el.children[0];\r\n    setAttr(result, attr);\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function outerHTML(el) {\r\n    DomState._el.appendChild(el);\r\n    const result = DomState._el.innerHTML;\r\n    clear(DomState._el);\r\n    return result;\r\n}\r\nexport function setAttr(_el, attr) {\r\n    let el;\r\n    if (typeof (_el) === \"string\") {\r\n        el = get(_el);\r\n    }\r\n    else {\r\n        el = _el;\r\n    }\r\n    let keys, i, k, styles, styleKeys, style;\r\n    if (attr !== undefined && typeof (attr) === \"object\") {\r\n        keys = Object.keys(attr);\r\n        for (i = 0; i < keys.length; i++) {\r\n            if (keys[i] === \"style\") {\r\n                styles = attr[keys[i]];\r\n                styleKeys = Object.keys(styles);\r\n                for (k = 0; k < styleKeys.length; k++) {\r\n                    style = styles[styleKeys[k]];\r\n                    if (typeof (style) === \"string\") {\r\n                        el.style.setProperty(styleKeys[k], style);\r\n                    }\r\n                    else {\r\n                        el.style.setProperty(styleKeys[k], style[0], style[1]);\r\n                    }\r\n                }\r\n            }\r\n            else if (keys[i] === \"classes\" && attr[keys[i]] !== undefined && attr[keys[i]].join) {\r\n                el.setAttribute(\"className\", attr[keys[i]].join(\" \"));\r\n            }\r\n            else {\r\n                el.setAttribute(keys[i], attr[keys[i]]);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function remove(element) {\r\n    return element.parentNode === undefined ? null : element.parentNode.removeChild(element);\r\n}\r\nexport function replace(src, target) {\r\n    let result = target;\r\n    if (src.parentNode) {\r\n        src.parentNode.replaceChild(target, src);\r\n    }\r\n    return result;\r\n}\r\nexport function clear(element) {\r\n    let i = element.children.length;\r\n    while (i--) {\r\n        element.removeChild(element.children[i]);\r\n    }\r\n}\r\nexport function get(id) {\r\n    let result = DomState._document.getElementById(id);\r\n    if (result === null) {\r\n        switch (id) {\r\n            default:\r\n                result = DomState._document.body;\r\n                break;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function find(selector) {\r\n    return DomState._document.querySelector(selector);\r\n}\r\nexport function findAll(selector, root) {\r\n    return toArray((root || DomState._document).querySelectorAll(selector));\r\n}\r\nexport function children(root, selector) {\r\n    const children = toArray((root || DomState._document).children);\r\n    return selector === undefined ? children : children.filter(is.bind(this, selector));\r\n}\r\nexport function findParent(root, selector) {\r\n    let result = root.parentElement;\r\n    while (result) {\r\n        if (is(selector, result)) {\r\n            break;\r\n        }\r\n        result = result.parentElement;\r\n    }\r\n    return result;\r\n}\r\nexport function position(el, x, y) {\r\n    el.style.top = y + \"px\";\r\n    el.style.left = x + \"px\";\r\n}\r\nexport function is(selector, element) {\r\n    let result = false;\r\n    if (element.matches) {\r\n        result = element.matches(selector);\r\n    }\r\n    else if (element.msMatchesSelector) {\r\n        result = element.msMatchesSelector(selector);\r\n    }\r\n    else if (element.webkitMatchesSelector) {\r\n        result = element.webkitMatchesSelector(selector);\r\n    }\r\n    else {\r\n        if (element.parentElement === null) {\r\n            throw new Error(\"Element has no parent\");\r\n        }\r\n        if (element.id !== \"\") {\r\n            result = element.parentElement.querySelector(\"#\" + element.id) !== null;\r\n        }\r\n        else {\r\n            result = toArray(element.parentElement.querySelectorAll(selector)).indexOf(element) !== -1;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport function setStylesExplicitly(element, ...styles) {\r\n    const comp = DomState._window.getComputedStyle(element);\r\n    for (const style of styles) {\r\n        element.style[style] = comp[style];\r\n    }\r\n}\r\n//# sourceMappingURL=Dom.js.map","import { Global } from \"./Global\";\r\nexport class Uri {\r\n    constructor() {\r\n        this._a = null;\r\n        this.hash = \"\";\r\n        this.pathName = \"\";\r\n        this.port = \"\";\r\n        this.hostName = \"\";\r\n        this.protocol = \"\";\r\n        this.origin = \"\";\r\n        this.full = \"\";\r\n        this.args = {};\r\n        this.init();\r\n    }\r\n    init() {\r\n        if (Global.window !== null) {\r\n            this._a = Global.window.document.createElement(\"a\");\r\n            this._a.setAttribute(\"href\", Global.window.location.href);\r\n            const args = this.args;\r\n            this._a.search.substring(1).split(\"&\").forEach((arg) => {\r\n                const p = arg.split(\"=\");\r\n                args[p[0]] = p[1];\r\n            });\r\n            this.hash = this._a.hash;\r\n            this.pathName = this._a.pathname;\r\n            this.port = this._a.port;\r\n            this.hostName = this._a.hostname;\r\n            this.protocol = this._a.protocol;\r\n            this.origin = this._a.origin;\r\n            this.full = this._a.href;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Uri.js.map","export function Poolable(constructor) {\r\n    return class extends constructor {\r\n        constructor(...args) {\r\n            super(...args);\r\n        }\r\n        release() {\r\n            this.__pool__.release(this);\r\n        }\r\n        initPool(pool) {\r\n            this.__pool__ = pool;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=Poolable.js.map","export let async = function async(target, propertyKey, descriptor) {\r\n    const orgFn = descriptor.value;\r\n    descriptor.value = function (...args) {\r\n        let result = new Promise((resolve, reject) => {\r\n            let value;\r\n            try {\r\n                value = orgFn.apply(this, args);\r\n                resolve(value);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    return descriptor;\r\n};\r\nasync.before = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = () => {\r\n                    orgFn.apply(this, args)\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                decoration.apply(this, [orgFn.name].concat(args))\r\n                    .then((value) => {\r\n                    callback();\r\n                })\r\n                    .catch((reason) => {\r\n                    callback();\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.after = function (decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = (value, reason) => {\r\n                    decoration.apply(this, [value, reason, orgFn.name].concat(args))\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                orgFn.apply(this, args)\r\n                    .then((value) => {\r\n                    callback(value, undefined);\r\n                })\r\n                    .catch((reason) => {\r\n                    callback(undefined, reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\nasync.provided = function (async_predicate) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result = new Promise((resolve, reject) => {\r\n                const callback = () => {\r\n                    orgFn.apply(this, args)\r\n                        .then((value) => {\r\n                        resolve(value);\r\n                    })\r\n                        .catch((reason) => {\r\n                        reject(reason);\r\n                    });\r\n                };\r\n                async_predicate.apply(this, [orgFn.name].concat(args))\r\n                    .then((value) => {\r\n                    if (value) {\r\n                        callback();\r\n                    }\r\n                    else {\r\n                        reject(false);\r\n                    }\r\n                })\r\n                    .catch((reason) => {\r\n                    reject(reason);\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n};\r\n//# sourceMappingURL=AsyncCombinators.js.map","export class Pool {\r\n    constructor(cls, growthStep = 10) {\r\n        this._pool = [];\r\n        this._available = 0;\r\n        this._size = 0;\r\n        this._cls = cls;\r\n        this._growthStep = growthStep;\r\n        this.create();\r\n    }\r\n    get available() {\r\n        return this._available;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    create() {\r\n        let i = 0;\r\n        for (; i < this._growthStep; i++) {\r\n            this._pool.push(new this._cls());\r\n        }\r\n        this._size += this._growthStep;\r\n        this._available += this._growthStep;\r\n    }\r\n    get() {\r\n        let result;\r\n        if (this._pool.length === 0) {\r\n            this.create();\r\n        }\r\n        result = this._pool.pop();\r\n        --this._available;\r\n        result.initPool(this);\r\n        return result;\r\n    }\r\n    release(obj) {\r\n        this._pool.push(obj);\r\n        ++this._available;\r\n    }\r\n}\r\n//# sourceMappingURL=Pool.js.map","export var MocDataType;\r\n(function (MocDataType) {\r\n    MocDataType[MocDataType[\"LinearInt\"] = 0] = \"LinearInt\";\r\n    MocDataType[MocDataType[\"RandomInt\"] = 1] = \"RandomInt\";\r\n    MocDataType[MocDataType[\"LinearFloat\"] = 2] = \"LinearFloat\";\r\n    MocDataType[MocDataType[\"RandomFloat\"] = 3] = \"RandomFloat\";\r\n})(MocDataType || (MocDataType = {}));\r\nexport const VALID_CHARS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\nexport function randomString(length = 25) {\r\n    let result = \"\";\r\n    for (let i = 0; i < length; i += 1) {\r\n        result += VALID_CHARS.charAt(Math.floor(Math.random() * VALID_CHARS.length));\r\n    }\r\n    return result;\r\n}\r\nexport function randomInt() {\r\n    return this.randomNumber() | 0;\r\n}\r\nexport function randomNumber() {\r\n    return Math.random() * 2147483647;\r\n}\r\nexport function numericArray(length, type = MocDataType.LinearInt) {\r\n    const result = new Array(length);\r\n    switch (type) {\r\n        case MocDataType.RandomInt:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = this.randomInt();\r\n            }\r\n            break;\r\n        case MocDataType.LinearFloat:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = i + 0.5;\r\n            }\r\n            break;\r\n        case MocDataType.RandomFloat:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = this.randomNumber();\r\n            }\r\n            break;\r\n        default:\r\n            for (let i = 0; i < length; i += 1) {\r\n                result[i] = i;\r\n            }\r\n            break;\r\n    }\r\n    return result;\r\n}\r\nexport function stringArray(arrayLength, stringLength) {\r\n    const result = new Array(arrayLength);\r\n    let i = -1;\r\n    while (++i < arrayLength) {\r\n        result[i] = this.randomString(stringLength);\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=MocData.js.map","export class KeyValuePair {\r\n}\r\n//# sourceMappingURL=KeyValuePair.js.map","export function before(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            decoration.apply(this, [orgFn.name].concat(args));\r\n            const result = orgFn.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function after(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            const result = orgFn.apply(this, [orgFn.name].concat(args));\r\n            decoration.apply(this, args);\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function around(decoration) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result;\r\n            let callback = () => result = orgFn.apply(this, args);\r\n            decoration.apply(this, [callback, orgFn.name].concat(args));\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function provided(condition) {\r\n    return function (target, propertyKey, descriptor) {\r\n        const orgFn = descriptor.value;\r\n        descriptor.value = function (...args) {\r\n            let result;\r\n            if (condition.apply(this, [orgFn.name].concat(args))) {\r\n                result = orgFn.apply(this, args);\r\n            }\r\n            return result;\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexport function once(target, propertyKey, descriptor) {\r\n    const orgFn = descriptor.value;\r\n    let result;\r\n    let first = true;\r\n    descriptor.value = function (...args) {\r\n        if (first) {\r\n            result = orgFn.apply(this, args);\r\n            first = false;\r\n        }\r\n        return result;\r\n    };\r\n    return descriptor;\r\n}\r\n//# sourceMappingURL=Combinators.js.map","import * as Arr from \"./Arr\";\r\nimport * as Calc from \"./Calc\";\r\nimport * as Dom from \"./Dom\";\r\nimport { Global } from \"./Global\";\r\nimport * as MocData from \"./MocData\";\r\nimport * as Obj from \"./Obj\";\r\nimport { Initable } from \"./standard/mixins/Initable\";\r\nimport { Poolable } from \"./standard/mixins/Poolable\";\r\nimport { Pool } from \"./standard/Pool\";\r\nimport { Dictionary } from \"./struct/Dictionary\";\r\nimport { KeyValuePair } from \"./struct/KeyValuePair\";\r\nimport { List } from \"./struct/List\";\r\nimport { Range2 } from \"./struct/Range2\";\r\nimport { Rect } from \"./struct/Rect\";\r\nimport { Stack } from \"./struct/Stack\";\r\nimport { Tree } from \"./struct/Tree\";\r\nimport { Vec2 } from \"./struct/Vec2\";\r\nimport * as Test from \"./Test\";\r\nimport { Timer } from \"./Timer\";\r\nimport { Uri } from \"./Uri\";\r\nimport * as Util from \"./Util\";\r\nexport function integrate(alias) {\r\n    let stringAlias = false;\r\n    let objectAlias = false;\r\n    let list = [\r\n        { name: \"Arr\", object: Arr },\r\n        { name: \"Calc\", object: Calc },\r\n        { name: \"Dom\", object: Dom },\r\n        { name: \"MocData\", object: MocData },\r\n        { name: \"Obj\", object: Obj },\r\n        { name: \"Initable\", object: Initable },\r\n        { name: \"Poolable\", object: Poolable },\r\n        { name: \"Pool\", object: Pool },\r\n        { name: \"Dictionary\", object: Dictionary },\r\n        { name: \"KeyValuePair\", object: KeyValuePair },\r\n        { name: \"List\", object: List },\r\n        { name: \"Range2\", object: Range2 },\r\n        { name: \"Rect\", object: Rect },\r\n        { name: \"Stack\", object: Stack },\r\n        { name: \"Tree\", object: Tree },\r\n        { name: \"Vec2\", object: Vec2 },\r\n        { name: \"Test\", object: Test },\r\n        { name: \"Timer\", object: Timer },\r\n        { name: \"Uri\", object: Uri },\r\n        { name: \"Util\", object: Util },\r\n    ];\r\n    if (typeof (alias) === \"string\") {\r\n        Global.window[alias] = {};\r\n        stringAlias = true;\r\n    }\r\n    for (const stuff of list) {\r\n        if (stringAlias) {\r\n            Global.window[alias][stuff.name] = stuff.object;\r\n        }\r\n        else if (objectAlias) {\r\n            alias[stuff.name] = stuff.object;\r\n        }\r\n        else {\r\n            Global.window[stuff.name] = stuff.object;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Integration.js.map"],"names":["CalcConst","rotationRad","rotation","deg","DEGREE_FACTOR","ROTATION_DEGREE_PRECISION","this","rotationDeg","RADIAN_FACTOR","Math","PI","DEG360","ROTATION_LOOKUP","lookup","i","push","cos","sin","x","NaN","radian","Vec2Const","EPSILON","IDENTITY","y","X_DIM","Y_DIM","Vec2","[object Object]","angle","horizontalAngle","direction","isZero","src","out","set","create","ceil","sqrt","lengthSq","atan2","rot","nx","ny","center","subtract","rotate","add","len","length","vectorB","scalar","target","abs","isNormalized","result","clone","normalize","temp","coeff","v","max","min","Rect","start","stop","x1","y1","x2","y2","endInclusive","Range2","pos","size","factor","keepCenter","ow","oh","w","h","system","scale","rect","equals","toInt","toDecimal","vec","containsPoint","zero","org","multiply","toRect","translate","toRange2","s","t","intersect","fn","p","j","begin","end","range","nativeWindow","win","window","Global","_window","_nativeWindow","hasNativeWindow","hasWindow","hasConsole","undefined","console","isArray","it","Array","Object","prototype","toString","call","isFunction","isNumber","areNullOrUndefined","args","a","areNotNullOrUndefined","isNullOrUndefined","arg","isNotNullOrUndefined","areUndefined","isUndefined","isNotUndefined","nodeType","constructor","String","wipe","obj","keys","setNull","clear","key","isClassOf","b","isSameClass","isDifferent","deepCopy","Date","getTime","RegExp","setProperties","values","mapping","value","destroy","cloneInto","arrS","arrT","exclude","sources","flatten","hasOwnProperty","flattenInner","reverse","array","left","right","temporary","concat","arrs","apply","slice","from","count","Infinity","splice","remove","insert","Error","srcLen","insertLen","newLen","delta","append","arr","index","offset","removeAt","indexOfElement","el","indexOf","shallowCopy","shallowCopyInto","deepCopyInto","filter","filterInto","space","map","mapInto","reduce","acc","reduceUntil","test","reverseReduce","reverseReduceUntil","forEach","startIndex","forSome","until","fnOrTest","isCombined","reverseForEach","reverseUntil","combined","some","all","insertAt","unshift","binarySearch","cmp","closest","mid","element","lo","hi","val","populator","deserialize","types","T","passthroughT","newT","at","Dictionary","_lookup","_list","List","_isDirty","has","cleanList","list","reCreateList","get","serialize","Symbol","iterator","_array","_index","_indexer","_pointer","Arr.shallowCopy","done","indexer","_reindex","Arr.create","Arr.insertAt","pop","delete","shift","arr2","Arr.concat","Arr.forEach","Arr.append","Arr.deepCopyInto","Arr.shallowCopyInto","Arr.deepCopy","Arr.remove","unindexEl","n","Arr.removeAt","Arr.forSome","Arr.until","Arr.reverseForEach","Arr.reverseUntil","Arr.some","Arr.all","Arr.indexOf","Arr.indexOfElement","find","contains","Arr.reverse","first","Arr.filter","Arr.filterInto","Arr.slice","Arr.splice","sort","Arr.map","Arr.mapInto","Arr.reduce","Arr.reduceUntil","Arr.reverseReduce","Arr.reverseReduceUntil","long","short","select","u","tuple","maxDepth","_flattenInner","depth","Arr.deserialize","SortedList","comparer","_cmp","copy","orderBy","fill","getInsertIndex","removeFirst","Function","last","selectInto","head","tail","longPos","lastPos","shortLen","aVsB","bulkAdd","toList","union","Stack","DEFAULT_SIZE","_pos","_limit","fastPush","isEmpty","limit","limitedPush","limitObjects","Initable","TimerState","_hasPerformance","Timer","time","_time","performance","now","hrTime","process","hrtime","_start","_last","UtilState","newUUID","d","replace","c","r","random","floor","callDebugger","proxyFn","objOrClass","fnName","bind","_int","Tree_1","Sides","name","fnString","substring","lastIndexOf","log","warn","error","superfn","assertion","message","isDebug","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","k","metadata","exports","id","parent","children","data","virtual","root","init","fromObject","nodes","mapcfg","virtualRoot","mapResolver","nodeList","node","rootNodes","parentId","stack","cur","condition","duplicateNode","toJSON","Tree","DomState","toArray","setAttr","_el","attr","styles","styleKeys","style","setProperty","join","setAttribute","removeChild","_document","getElementById","body","is","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","querySelector","querySelectorAll","document","createElement","html","innerHTML","appendChild","parentNode","replaceChild","top","comp","getComputedStyle","Uri","_a","hash","pathName","port","hostName","protocol","origin","full","location","href","search","split","pathname","hostname","Poolable","super","__pool__","release","pool","async","propertyKey","descriptor","orgFn","Promise","resolve","reject","err","before","decoration","callback","then","catch","reason","after","provided","async_predicate","Pool","cls","growthStep","_pool","_available","_size","_cls","_growthStep","available","initPool","MocDataType","VALID_CHARS","charAt","randomNumber","type","LinearInt","RandomInt","randomInt","LinearFloat","RandomFloat","arrayLength","stringLength","randomString","KeyValuePair","alias","stringAlias","object","Arr","Calc","Dom","MocData","Obj","Test","Util","stuff"],"mappings":"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"}